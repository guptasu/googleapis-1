<!-- mdlint off(WHITESPACE_LINE_LENGTH) -->
<!--THIS FILE IS AUTOGENERATED - DO NOT EDIT. See go/api-generated-docs for details.--->

<a name="Overview_subsection"/>
# Configuration model for the API service platform.
This directory contains protos that define the configuration model used by API service platofrm. Below is a brief overview of how to configure this model. To learn how to configure specific part of it, please refer to individual proto files where the top of the file has detail documentation with examples _(Example: To know how to configure authentication, please read auth.proto)_.



<a name="Overview_subsection_1"/>
# Configuration Model
A service configuration specifies how a set of APIs is exposed as a
service. The configuration includes:

- the name of the service, a DNS address where the service is served;
- which apis are served;
- information about how a caller is authenticated;
- information how the APIs are exposed on transports like HTTP
- information about representation of data types and interfaces in
  client binding code.

Service configurations are written in YAML. Below is an example of a
configuration:


    type: google.api.Service
    name: library-example.<appspot>.com
    title: Google Example Library API
    apis:
    - name: google.example.library.v1.LibraryService
    documentation:
      overview: A simple Google Example Library API.
    http:
      rules:
      - selector: google.example.library.v1.LibraryService.ListShelves
        get: '/v1/shelves'


This defines a service named `library-example.<appspot>.com` which exposes
an implementation of the API `google.example.library.v1.LibraryService`.
Documentation for the service is provided.

The configuration schema groups configuration aspects in sections such
as 'documentation', 'http', etc. Some of those sections use
configuration rules to associate information with individual elements
of the service.

A rule uses a selector pattern to identify the element. A pattern is a
qualified name of the element which may end in `*`, indicating a
wildcard (wildcards are only allowed at the end and for a whole
component of the qualified name, i.e. `foo.*` is ok, but not `foo.b*`
or `foo.*.bar`.) To specify a default for all applicable elements, the
whole pattern `*` is used.

Instead of single selector, a comma-separated list of selectors can be
also provided, such as `foo.a.*, foo.b.*`.

Rules are evaluated sequentially, the last matching one in declaration
order is taken.



<a name="Overview_subsection_2"/>
# Annotations
A selected set of service options can be annotated at Protocol Buffers
definitions, using the
[options mechanism](https://developers.google.com/protocol-buffers/docs/proto?csw=1#options).
Currently, this includes the [HTTP](http_rest.shtml) configuration.

Annotations should be used if the configuration option is
intended to be invariant over all usages of the protocol buffer
definition. For example, if an API has one single implementation, or
all implementation are required to have the same HTTP interface, the
HTTP configuration might be annotated in proto.

If a configuration option is provided both via annotation and via
the service configuration, the service configuration overrides the
annotation.

Example:


    rpc ListShelves(ListShelvesRequest) returns (ListShelvesResponse) {
        option (google.api.http) = { get: "/v1/shelves" };
    }


See also
[annotations.proto](https://github.com/googleapis/googleapis/blob/master/google/api/annotations.proto).



<a name="Overview_subsection_3"/>
# Configuration Validation
Most tools trigger validation during processing of the service
configuration. Validation looks at the combination of YAML files and
protocol buffers and flags errors and warnings.

Warnings are divided into regular and linter warnings. Linter warnings
use an identifier of the form `<group>-<rule>`, where `<group>`
indicates the configuration group, and `<rule>` the particular linter
rule. For example, below the group is `versioning` and the rule is
`http-version-prefix`:

```
WARNING: library.proto:51:3: (lint) versioning-http-version-prefix: method
'google.api.v1.Service.GetObject' has a different version prefix in HTTP path ('v2')
than api version 'v1'.
```

You can suppress linter warnings by adding a directive to the
documentation of an API element. This can be either done in
documentation in the proto or in documentation provided in the YAML
file. For example, the following suppresses the above warning:

```proto
package google.api.v1;
service Service {
  // Returns an object.
  //   rpc GetObject(GetObjectRequest) returns (Object) {
    option (google.api.http).get = "/v2/{name=objects/*}";
  }
}
```

Instead of the rule name a wildcard (`*`) can be provided. For
example, `versioning-*` suppresses all warnings related to the
`versioning` group.

Suppression directives attached to parent elements apply to all
children. For example, the above suppression when attached to the
service suppresses the specified warning for all rpcs in the
service. To globally suppress a warning, attach it to the overview
documentation of the service configuration:

```
type: google.api.Service
name: library-example.<appspot>.com
title: Google Example Library API
apis:
- name: google.example.library.v1.LibraryService
documentation:
    overview: |
      A simple Google Example Library API.
      ```

Note that directives in documentation like `suppress_warning` must
appear on a their own line, otherwise they will not be
recognized. YAML block literal markers like `>` do remove all
newlines, so if you would use `overview: >` in the above example, the
suppression would not work. For background on block literals in YAML,
[see here](http://en.wikipedia.org/wiki/YAML#Block_literals)

<a name="_api_reference"/>
# Reference

<a name="rpc_google.api"/>
## Package google.api

<a name="rpc_google.api_index"/>
### Index

* [AdvancedServiceConfig](#google.api.AdvancedServiceConfig)
(message)
* [Analytics](#google.api.Analytics)
(message)
* [Analytics.AnalyticsDestination](#google.api.Analytics.AnalyticsDestination)
(message)
* [AnalyticsConfig](#google.api.AnalyticsConfig)
(message)
* [AnalyticsConfig.AnalyticsConfigDestination](#google.api.AnalyticsConfig.AnalyticsConfigDestination)
(message)
* [AnalyticsConfig.RetentionBackfillPolicy](#google.api.AnalyticsConfig.RetentionBackfillPolicy)
(message)
* [AnalyticsConfig.RetentionBackfillPolicy.ReprocessingStrategy](#google.api.AnalyticsConfig.RetentionBackfillPolicy.ReprocessingStrategy)
(enum)
* [AreaUnderCurveParams](#google.api.AreaUnderCurveParams)
(message)
* [Auditing](#google.api.Auditing)
(message)
* [AuditingRule](#google.api.AuditingRule)
(message)
* [AuthProvider](#google.api.AuthProvider)
(message)
* [AuthRequirement](#google.api.AuthRequirement)
(message)
* [Authentication](#google.api.Authentication)
(message)
* [AuthenticationRule](#google.api.AuthenticationRule)
(message)
* [AuthenticationRule.RpcSecurityPolicyMode](#google.api.AuthenticationRule.RpcSecurityPolicyMode)
(enum)
* [Backend](#google.api.Backend)
(message)
* [BackendRule](#google.api.BackendRule)
(message)
* [Billing](#google.api.Billing)
(message)
* [BillingStatusRule](#google.api.BillingStatusRule)
(message)
* [BrowserFirstPartyAuthRequirements](#google.api.BrowserFirstPartyAuthRequirements)
(message)
* [CacheConfig](#google.api.CacheConfig)
(message)
* [CacheStrategy](#google.api.CacheStrategy)
(enum)
* [ChemistConfig](#google.api.ChemistConfig)
(message)
* [Codegen](#google.api.Codegen)
(message)
* [CodegenRule](#google.api.CodegenRule)
(message)
* [Context](#google.api.Context)
(message)
* [ContextRule](#google.api.ContextRule)
(message)
* [Control](#google.api.Control)
(message)
* [ControlPlaneMigration](#google.api.ControlPlaneMigration)
(message)
* [CustomError](#google.api.CustomError)
(message)
* [CustomErrorRule](#google.api.CustomErrorRule)
(message)
* [CustomHttpPattern](#google.api.CustomHttpPattern)
(message)
* [Destination](#google.api.Destination)
(message)
* [Destination.Owner](#google.api.Destination.Owner)
(enum)
* [Destination.Type](#google.api.Destination.Type)
(enum)
* [Devconsole](#google.api.Devconsole)
(message)
* [Devconsole.ConsoleApi](#google.api.Devconsole.ConsoleApi)
(enum)
* [Discovery](#google.api.Discovery)
(message)
* [Discovery.Schema](#google.api.Discovery.Schema)
(enum)
* [Documentation](#google.api.Documentation)
(message)
* [DocumentationRule](#google.api.DocumentationRule)
(message)
* [EndUserCredsRequirements](#google.api.EndUserCredsRequirements)
(message)
* [Endpoint](#google.api.Endpoint)
(message)
* [ErrorDefinition](#google.api.ErrorDefinition)
(message)
* [ErrorDefinitions](#google.api.ErrorDefinitions)
(message)
* [ErrorDomain](#google.api.ErrorDomain)
(message)
* [ErrorPredicate](#google.api.ErrorPredicate)
(message)
* [Experimental](#google.api.Experimental)
(message)
* [ExtendedQuotaRule](#google.api.ExtendedQuotaRule)
(message)
* [Http](#google.api.Http)
(message)
* [HttpRule](#google.api.HttpRule)
(message)
* [JsonSchemaRule](#google.api.JsonSchemaRule)
(message)
* [JspbVariant](#google.api.JspbVariant)
(enum)
* [LabelDescriptor](#google.api.LabelDescriptor)
(message)
* [LabelDescriptor.ValueType](#google.api.LabelDescriptor.ValueType)
(enum)
* [Legacy](#google.api.Legacy)
(message)
* [Legacy.MigrationStrategy](#google.api.Legacy.MigrationStrategy)
(enum)
* [Legacy.TrustedTesterList](#google.api.Legacy.TrustedTesterList)
(message)
* [LogDescriptor](#google.api.LogDescriptor)
(message)
* [Logging](#google.api.Logging)
(message)
* [Logging.LoggingDestination](#google.api.Logging.LoggingDestination)
(message)
* [MediaDownload](#google.api.MediaDownload)
(message)
* [MediaUpload](#google.api.MediaUpload)
(message)
* [MessageLimitsRule](#google.api.MessageLimitsRule)
(message)
* [MetricDescriptor](#google.api.MetricDescriptor)
(message)
* [MetricDescriptor.MetricKind](#google.api.MetricDescriptor.MetricKind)
(enum)
* [MetricDescriptor.ValueType](#google.api.MetricDescriptor.ValueType)
(enum)
* [MetricRule](#google.api.MetricRule)
(message)
* [Migration](#google.api.Migration)
(message)
* [MigrationRule](#google.api.MigrationRule)
(message)
* [MonitoredResourceDescriptor](#google.api.MonitoredResourceDescriptor)
(message)
* [Monitoring](#google.api.Monitoring)
(message)
* [Monitoring.MonitoringDestination](#google.api.Monitoring.MonitoringDestination)
(message)
* [OAuthRequirements](#google.api.OAuthRequirements)
(message)
* [Page](#google.api.Page)
(message)
* [ProjectProperties](#google.api.ProjectProperties)
(message)
* [Property](#google.api.Property)
(message)
* [Property.PropertyType](#google.api.Property.PropertyType)
(enum)
* [Quota](#google.api.Quota)
(message)
* [QuotaGroup](#google.api.QuotaGroup)
(message)
* [QuotaGroupMapping](#google.api.QuotaGroupMapping)
(message)
* [QuotaLimit](#google.api.QuotaLimit)
(message)
* [QuotaLimit.LimitType](#google.api.QuotaLimit.LimitType)
(enum)
* [QuotaRule](#google.api.QuotaRule)
(message)
* [RenameMethodRule](#google.api.RenameMethodRule)
(message)
* [ResourceContainer](#google.api.ResourceContainer)
(message)
* [ResourceContainerRule](#google.api.ResourceContainerRule)
(message)
* [Service](#google.api.Service)
(message)
* [ServiceControlAccess](#google.api.ServiceControlAccess)
(message)
* [ServiceControlAccess.Model](#google.api.ServiceControlAccess.Model)
(enum)
* [ServiceControlAcl](#google.api.ServiceControlAcl)
(message)
* [ServiceControlAclModel](#google.api.ServiceControlAclModel)
(enum)
* [ServiceControlConfig](#google.api.ServiceControlConfig)
(message)
* [ServiceManagementConfig](#google.api.ServiceManagementConfig)
(message)
* [ServiceManagementConfig.DeploymentMode](#google.api.ServiceManagementConfig.DeploymentMode)
(enum)
* [SkuDescriptor](#google.api.SkuDescriptor)
(message)
* [SystemParameter](#google.api.SystemParameter)
(message)
* [SystemParameterRule](#google.api.SystemParameterRule)
(message)
* [SystemParameters](#google.api.SystemParameters)
(message)
* [TranslatorConfig](#google.api.TranslatorConfig)
(message)
* [Usage](#google.api.Usage)
(message)
* [Usage.ServiceAccess](#google.api.Usage.ServiceAccess)
(enum)
* [UsageManagerRule](#google.api.UsageManagerRule)
(message)
* [UsageRule](#google.api.UsageRule)
(message)
* [Visibility](#google.api.Visibility)
(message)
* [VisibilityRule](#google.api.VisibilityRule)
(message)
* [WebChannelConfig](#google.api.WebChannelConfig)
(message)

<a name="google.api.AdvancedServiceConfig"/>
### AdvancedServiceConfig
`AdvancedServiceConfig` defines advanced configuration for Envelope Server
Framework. It resides in experimental section of service config. It is
available to whitelisted set of customers. The whitelist is defined by the
visibility rules.
The rules should be defined as a set of related grouping of configs.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.AdvancedServiceConfig.rename_rules"/>
 <tr>
  <td><code>rename_rules[]</code></td>
  <td>repeated <a href="#google.api.RenameMethodRule">RenameMethodRule</a></td>
  <td>A list of configuration rules for renaming methods.</td>
 </tr>
<a name="google.api.AdvancedServiceConfig.usage_manager_rules"/>
 <tr>
  <td><code>usage_manager_rules[]</code></td>
  <td>repeated <a href="#google.api.UsageManagerRule">UsageManagerRule</a></td>
  <td>A list of configuration rules for usage manager.</td>
 </tr>
<a name="google.api.AdvancedServiceConfig.oauth_cache"/>
 <tr>
  <td><code>oauth_cache</code></td>
  <td><a href="#google.api.CacheConfig">CacheConfig</a></td>
  <td>Advanced cache configuration for oauth_cache.</td>
 </tr>
<a name="google.api.AdvancedServiceConfig.usage_manager_cache"/>
 <tr>
  <td><code>usage_manager_cache</code></td>
  <td><a href="#google.api.CacheConfig">CacheConfig</a></td>
  <td>Configuration for the cache of UsageManager check results.</td>
 </tr>
<a name="google.api.AdvancedServiceConfig.quota_cache"/>
 <tr>
  <td><code>quota_cache</code></td>
  <td><a href="#google.api.CacheConfig">CacheConfig</a></td>
  <td>DEPRECATED. Do not use. Advanced cache configuration of QuotaWrapper check results.</td>
 </tr>
<a name="google.api.AdvancedServiceConfig.chemist_cache"/>
 <tr>
  <td><code>chemist_cache</code></td>
  <td><a href="#google.api.CacheConfig">CacheConfig</a></td>
  <td>Configuration for the cache of Chemist check results.</td>
 </tr>
<a name="google.api.AdvancedServiceConfig.quota_rules"/>
 <tr>
  <td><code>quota_rules[]</code></td>
  <td>repeated <a href="#google.api.ExtendedQuotaRule">ExtendedQuotaRule</a></td>
  <td>DEPRECATED. Do not use. A list of extended configuration rules for quota.</td>
 </tr>
<a name="google.api.AdvancedServiceConfig.webchannel_config"/>
 <tr>
  <td><code>webchannel_config[]</code></td>
  <td>repeated <a href="#google.api.WebChannelConfig">WebChannelConfig</a></td>
  <td>A list of configuration rules for webchannel.</td>
 </tr>
<a name="google.api.AdvancedServiceConfig.translator_config"/>
 <tr>
  <td><code>translator_config[]</code></td>
  <td>repeated <a href="#google.api.TranslatorConfig">TranslatorConfig</a></td>
  <td>A list of configuration rules for request/response translators.</td>
 </tr>
<a name="google.api.AdvancedServiceConfig.message_limits_rules"/>
 <tr>
  <td><code>message_limits_rules[]</code></td>
  <td>repeated <a href="#google.api.MessageLimitsRule">MessageLimitsRule</a></td>
  <td>A list of configuration rules for message payload limits.</td>
 </tr>
<a name="google.api.AdvancedServiceConfig.chemist_config"/>
 <tr>
  <td><code>chemist_config</code></td>
  <td><a href="#google.api.ChemistConfig">ChemistConfig</a></td>
  <td>Chemist configuration to enable Chemist features.</td>
 </tr>
<a name="google.api.AdvancedServiceConfig.producer_project_number"/>
 <tr>
  <td><code>producer_project_number</code></td>
  <td>int64</td>
  <td>The project <em>number</em> (so 923969493998 and not "ageless-lamp-692") for the producer console project. Used for tracing.</td>
 </tr>
</table>

<a name="google.api.Analytics"/>
### Analytics
Analytics configuration of the service.

The example below shows how to configure monitored resources and metrics
for analytics. In the example, a monitored resource and two metrics are
defined. The `library.googleapis.com/book/returned_count` and
`library.googleapis.com/book/overdue_count` metric are sent
to the analytics.


    monitored_resources:
    - type: library.googleapis.com/branch
      labels:
      - key: /city
        description: The city where the library branch is located in.
      - key: /name
        description: The name of the branch.
    metrics:
    - name: library.googleapis.com/book/returned_count
      metric_kind: DELTA
      value_type: INT64
      labels:
      - key: /customer_id
    - name: library.googleapis.com/book/overdue_count
      metric_kind: GAUGE
      value_type: INT64
      labels:
      - key: /customer_id
    analytics:
      producer_destinations:
      - monitored_resource: library.googleapis.com/branch
        metrics:
        - library.googleapis.com/book/returned_count
        - library.googleapis.com/book/overdue_count

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.Analytics.producer_destinations"/>
 <tr>
  <td><code>producer_destinations[]</code></td>
  <td>repeated <a href="#google.api.Analytics.AnalyticsDestination">AnalyticsDestination</a></td>
  <td>Analytics configurations for sending metrics to the analytics backend. There can be multiple producer destinations, each one must have a different monitored resource type. A metric can be used in at most one producer destination.</td>
 </tr>
</table>

<a name="google.api.Analytics.AnalyticsDestination"/>
### AnalyticsDestination
Configuration of a specific analytics destination.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.Analytics.AnalyticsDestination.monitored_resource"/>
 <tr>
  <td><code>monitored_resource</code></td>
  <td>string</td>
  <td>The monitored resource type. The type must be defined in <a href="#google.api.Service.monitored_resources">Service.monitored_resources</a> section.</td>
 </tr>
<a name="google.api.Analytics.AnalyticsDestination.metrics"/>
 <tr>
  <td><code>metrics[]</code></td>
  <td>repeated string</td>
  <td>Names of the metrics to report to this analytics destination. Each name must be defined in <a href="#google.api.Service.metrics">Service.metrics</a> section. Metrics with value type BOOL and STRING must be of GUAGE kind, metrics with value type INT64, DOUBLE and MONEY must be of DELTA kind.</td>
 </tr>
</table>

<a name="google.api.AnalyticsConfig"/>
### AnalyticsConfig
Analytics configuration of the service.

The example below shows how to configure monitored resources and metrics
for analytics. In the example, a monitored resource and two metrics are
defined. The `library.googleapis.com/book/returned_count` and
`library.googleapis.com/book/overdue_count` metric are sent
to the analytics.


    monitored_resources:
    - type: library.googleapis.com/branch
      labels:
      - key: /city
        description: The city where the library branch is located in.
      - key: /name
        description: The name of the branch.
    metrics:
    - name: library.googleapis.com/book/returned_count
      metric_kind: DELTA
      value_type: INT64
      labels:
      - key: /customer_id
    - name: library.googleapis.com/book/overdue_count
      metric_kind: GAUGE
      value_type: INT64
      labels:
      - key: /customer_id
    analytics:
      destinations:
      - monitored_resource: library.googleapis.com/branch
        metrics:
        - library.googleapis.com/book/returned_count
        - library.googleapis.com/book/overdue_count

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.AnalyticsConfig.destinations"/>
 <tr>
  <td><code>destinations[]</code></td>
  <td>repeated <a href="#google.api.AnalyticsConfig.AnalyticsConfigDestination">AnalyticsConfigDestination</a></td>
  <td>Analytics configurations for sending metrics to the analytics backend. There can be multiple destinations, each one must have a different monitored resource type. A metric can be used in at most one destination.</td>
 </tr>
<a name="google.api.AnalyticsConfig.description"/>
 <tr>
  <td><code>description</code></td>
  <td>string</td>
  <td>A user friendly description of the analytics data being reported. It is applied to the output dataset when it is created. This field is not effective if the output dataset is already created.</td>
 </tr>
<a name="google.api.AnalyticsConfig.data_tier"/>
 <tr>
  <td><code>data_tier</code></td>
  <td>string</td>
  <td>A data tier of the output dataset. It is applied to the output dataset when it is created. This field is not effective if the output dataset is already created. The mapping from the data tier to the corresponding ACLs is defined in the go/cloud-permissions-map. Follow go/cloud-data-access to request the read permission to your output tables.</td>
 </tr>
<a name="google.api.AnalyticsConfig.retention_and_backfill_policy"/>
 <tr>
  <td><code>retention_and_backfill_policy</code></td>
  <td><a href="#google.api.AnalyticsConfig.RetentionBackfillPolicy">RetentionBackfillPolicy</a></td>
  <td>The retention and backfill policy of the output tables.</td>
 </tr>
</table>

<a name="google.api.AnalyticsConfig.AnalyticsConfigDestination"/>
### AnalyticsConfigDestination
Configuration of a specific analytics destination.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.AnalyticsConfig.AnalyticsConfigDestination.monitored_resource"/>
 <tr>
  <td><code>monitored_resource</code></td>
  <td>string</td>
  <td>The monitored resource type. The type must be defined in <a href="#google.api.Service.monitored_resources">Service.monitored_resources</a> section.</td>
 </tr>
<a name="google.api.AnalyticsConfig.AnalyticsConfigDestination.metrics"/>
 <tr>
  <td><code>metrics[]</code></td>
  <td>repeated string</td>
  <td>Names of the metrics to report to this analytics destination. Each name must be defined in <a href="#google.api.Service.metrics">Service.metrics</a> section. Metrics with value type BOOL and STRING must be of GUAGE kind, metrics with value type INT64, DOUBLE and MONEY must be of DELTA kind.</td>
 </tr>
</table>

<a name="google.api.AnalyticsConfig.RetentionBackfillPolicy"/>
### RetentionBackfillPolicy
Configuration of the analytics data retention.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.AnalyticsConfig.RetentionBackfillPolicy.reprocessing_version"/>
 <tr>
  <td><code>reprocessing_version</code></td>
  <td>int32</td>
  <td>An version number of the analytics config used for reprocessing. Whenever the reprocessing version changes relative to the previously seen version analytics data will be reprocessed according to the retention and reprocessing strategies.</td>
 </tr>
<a name="google.api.AnalyticsConfig.RetentionBackfillPolicy.reprocessing_strategy"/>
 <tr>
  <td><code>reprocessing_strategy</code></td>
  <td><a href="#google.api.AnalyticsConfig.RetentionBackfillPolicy.ReprocessingStrategy">ReprocessingStrategy</a></td>
  <td>Analytics data reprocessing policy.</td>
 </tr>
<a name="google.api.AnalyticsConfig.RetentionBackfillPolicy.from_date"/>
 <tr>
  <td><code>from_date</code></td>
  <td><a href="#google.type.Date">Date</a> (oneof )</td>
  <td>All output tables created after or on this date will be retained.</td>
 </tr>
<a name="google.api.AnalyticsConfig.RetentionBackfillPolicy.most_recent_days"/>
 <tr>
  <td><code>most_recent_days</code></td>
  <td>int32 (oneof )</td>
  <td>All output tables created in the recent days will be retained.</td>
 </tr>
</table>

<a name="google.api.AnalyticsConfig.RetentionBackfillPolicy.ReprocessingStrategy"/>
### ReprocessingStrategy
Specifies analytics data reprocessing strategy.


<table>
 <tr>
  <th>Value</th>
  <th>Description</th>
 </tr>
<a name="google.api.AnalyticsConfig.RetentionBackfillPolicy.ReprocessingStrategy.KEEP_OLD_VERSION"/>
 <tr>
  <td>KEEP_OLD_VERSION</td>
  <td>Regenerate previous days without deleting remaining output tables.</td>
 </tr>
<a name="google.api.AnalyticsConfig.RetentionBackfillPolicy.ReprocessingStrategy.DELETE_OLD_VERSION"/>
 <tr>
  <td>DELETE_OLD_VERSION</td>
  <td>Regenerate previous days and delete remaining old version output tables.</td>
 </tr>
</table>

<a name="google.api.AreaUnderCurveParams"/>
### AreaUnderCurveParams
AreaUnderCurveParams groups the metrics relevant to generating
duration based metric from base (snapshot) metric and delta
(change) metric.  The generated metric has two dimensions:
   resource usage metric and the duration the metric applies.

Essentially the generated metric is the Area Under Curve(AUC) of
the "duration - resource" usage curve. This AUC metric is readily
applicable to billing since "billable resource usage" depends on
resource usage and duration of the resource used.

A service config may contain multiple resources and corresponding
metrics. AreaUnderCurveParams groups the relevant ones: which
snapshot_metric and change_metric are used to produce which
generated_metric.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.AreaUnderCurveParams.snapshot_metric"/>
 <tr>
  <td><code>snapshot_metric</code></td>
  <td>string</td>
  <td>Total usage of a resource at a particular timestamp. This should be a GAUGE metric.</td>
 </tr>
<a name="google.api.AreaUnderCurveParams.change_metric"/>
 <tr>
  <td><code>change_metric</code></td>
  <td>string</td>
  <td>Change of resource usage at a particular timestamp. This should a DELTA metric.</td>
 </tr>
<a name="google.api.AreaUnderCurveParams.generated_metric"/>
 <tr>
  <td><code>generated_metric</code></td>
  <td>string</td>
  <td>Metric generated from snapshot_metric and change_metric. This is also a DELTA metric.</td>
 </tr>
</table>

<a name="google.api.Auditing"/>
### Auditing
`Auditing` defines the configurations on preparing audit log records for
services to integrate with audit logging service.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.Auditing.rules"/>
 <tr>
  <td><code>rules[]</code></td>
  <td>repeated <a href="#google.api.AuditingRule">AuditingRule</a></td>
  <td><p>A list of audit rules for configuring the audit logging behavior.</p><p><strong>NOTE:</strong> All service configuration rules follow "last one wins" order.</p></td>
 </tr>
<a name="google.api.Auditing.labels"/>
 <tr>
  <td><code>labels</code></td>
  <td>repeated map&lt;string, string&gt;</td>
  <td>Additional labels to configure auditing logging behavior.</td>
 </tr>
</table>

<a name="google.api.AuditingRule"/>
### AuditingRule
An auditing rule provides auditing configuration for an individual API
element.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.AuditingRule.selector"/>
 <tr>
  <td><code>selector</code></td>
  <td>string</td>
  <td><p>Selects fields or methods where this rule applies.</p><p>Refer to <a href="#google.api.DocumentationRule.selector">selector</a> for syntax details.</p></td>
 </tr>
<a name="google.api.AuditingRule.directive"/>
 <tr>
  <td><code>directive</code></td>
  <td>string</td>
  <td><p>List of audit directives (comma separated) to apply to this rule. Currently following values are supported:</p>
<ul>
  <li><strong>AUDIT</strong>: The value of this field should be logged during Cloud audit  logging. If this field is of message type, the content of  this field will not be logged automatically unless that  message also has this "AUDIT" directive for its fields.</li>
  <li><strong>AUDIT_OPT</strong>: This is essentially the same as <code>AUDIT</code> but only applies  to API methods with "AUDIT_OPT" as well. The value of  this field will only be logged iff the API method is also  configured as "AUDIT_OPT".</li>
  <li><strong>AUDIT_SIZE</strong>: The size of the repeated field will be used to set the  number of response items during Cloud audit logging . It  should only be applied to repeated field which  represents the returned data from a List or Query API  method.</li>
  <li><strong>QUERY</strong>: Indicating that the field represents a manually entered query  that users enters. For example, if this service is the backend  of an interactive query-like tool, this directive should be  set to the field representing the full query entered by user.  Only applies to string field.</li>
  <li><strong>READ_ACTION</strong>: Indicating that the method reads user data. Only applies  to method.</li>
  <li><strong>WRITE_ACTION</strong>: Indicating that the method modifies user data. Only  applies to method.</li>
</ul></td>
 </tr>
</table>

<a name="google.api.AuthProvider"/>
### AuthProvider
Configuration for an anthentication provider, including support for
[JSON Web Token (JWT)](https://tools.ietf.org/html/draft-ietf-oauth-json-web-token-32).

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.AuthProvider.id"/>
 <tr>
  <td><code>id</code></td>
  <td>string</td>
  <td><p>The unique identifier of the auth provider. It will be referred to by <code>AuthRequirement.provider_id</code>.</p><p>Example: "bookstore_auth".</p></td>
 </tr>
<a name="google.api.AuthProvider.issuer"/>
 <tr>
  <td><code>issuer</code></td>
  <td>string</td>
  <td><p>Identifies the principal that issued the JWT. See <a href="https://tools.ietf.org/html/draft-ietf-oauth-json-web-token-32#section-4.1.1">https://tools.ietf.org/html/draft-ietf-oauth-json-web-token-32#section-4.1.1</a> Usually a URL or an email address.</p><p>Example: <a href="https://securetoken.google.com">https://securetoken.google.com</a> Example: <a href="mailto:&#49;2&#51;&#x34;&#x35;&#x36;&#x37;&#45;&#x63;&#x6f;m&#112;&#x75;&#116;e&#64;&#100;&#101;v&#101;l&#x6f;&#112;&#x65;&#x72;&#46;&#103;s&#x65;&#x72;v&#105;&#x63;&#x65;&#97;&#99;&#99;&#111;&#117;&#x6e;&#x74;&#46;&#99;&#111;&#109;">&#49;2&#51;&#x34;&#x35;&#x36;&#x37;&#45;&#x63;&#x6f;m&#112;&#x75;&#116;e&#64;&#100;&#101;v&#101;l&#x6f;&#112;&#x65;&#x72;&#46;&#103;s&#x65;&#x72;v&#105;&#x63;&#x65;&#97;&#99;&#99;&#111;&#117;&#x6e;&#x74;&#46;&#99;&#111;&#109;</a></p></td>
 </tr>
<a name="google.api.AuthProvider.jwks_uri"/>
 <tr>
  <td><code>jwks_uri</code></td>
  <td>string</td>
  <td><p>URL of the provider's public key set to validate signature of the JWT. See <a href="https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderMetadata">OpenID Discovery</a>. Optional if the key set document:  - can be retrieved from  [OpenID Discovery](<a href="https://openid.net/specs/openid-connect-discovery-1_0.html">https://openid.net/specs/openid-connect-discovery-1_0.html</a>  of the issuer.  - can be inferred from the email domain of the issuer (e.g. a Google service account).</p><p>Example: <a href="https://www.googleapis.com/oauth2/v1/certs">https://www.googleapis.com/oauth2/v1/certs</a></p></td>
 </tr>
<a name="google.api.AuthProvider.audiences"/>
 <tr>
  <td><code>audiences</code></td>
  <td>string</td>
  <td><p>The list of JWT <a href="https://tools.ietf.org/html/draft-ietf-oauth-json-web-token-32#section-4.1.3">audiences</a>. that are allowed to access. A JWT containing any of these audiences will be accepted. When this setting is absent, only JWTs with audience "https://<a href="#google.api.Service.name">Service_name</a>/<a href="#google.protobuf.Api.name">API_name</a>" will be accepted. For example, if no audiences are in the setting, LibraryService API will only accept JWTs with the following audience "https://library-example.googleapis.com/google.example.library.v1.LibraryService".</p><p>Example:</p>
<pre><code>audiences: bookstore_android.apps.googleusercontent.com,
           bookstore_web.apps.googleusercontent.com
</code></pre></td>
 </tr>
</table>

<a name="google.api.AuthRequirement"/>
### AuthRequirement
User-defined authentication requirements, including support for
[JSON Web Token (JWT)](https://tools.ietf.org/html/draft-ietf-oauth-json-web-token-32).

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.AuthRequirement.provider_id"/>
 <tr>
  <td><code>provider_id</code></td>
  <td>string</td>
  <td><p><a href="#google.api.AuthProvider.id">id</a> from authentication provider.</p><p>Example:</p>
<pre><code>provider_id: bookstore_auth
</code></pre></td>
 </tr>
<a name="google.api.AuthRequirement.audiences"/>
 <tr>
  <td><code>audiences</code></td>
  <td>string</td>
  <td><p>NOTE: This will be deprecated soon, once AuthProvider.audiences is implemented and accepted in all the runtime components.</p><p>The list of JWT <a href="https://tools.ietf.org/html/draft-ietf-oauth-json-web-token-32#section-4.1.3">audiences</a>. that are allowed to access. A JWT containing any of these audiences will be accepted. When this setting is absent, only JWTs with audience "https://<a href="#google.api.Service.name">Service_name</a>/<a href="#google.protobuf.Api.name">API_name</a>" will be accepted. For example, if no audiences are in the setting, LibraryService API will only accept JWTs with the following audience "https://library-example.googleapis.com/google.example.library.v1.LibraryService".</p><p>Example:</p>
<pre><code>audiences: bookstore_android.apps.googleusercontent.com,
           bookstore_web.apps.googleusercontent.com
</code></pre></td>
 </tr>
</table>

<a name="google.api.Authentication"/>
### Authentication
`Authentication` defines the authentication configuration for an API.

Example for an API targeted for external use:


    name: calendar.googleapis.com
    authentication:
      rules:
      - selector: "*"
        oauth:
          canonical_scopes: https://www.googleapis.com/auth/calendar

      - selector: google.calendar.Delegate
        oauth:
          canonical_scopes: https://www.googleapis.com/auth/calendar.read

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.Authentication.gaia_service"/>
 <tr>
  <td><code>gaia_service</code></td>
  <td>string</td>
  <td><p>Gaia service that this API belongs to. If this API is part of a Gaia service that Dasher administrators can disable, you must set this field. Otherwise leave it empty (see also <a href="https://support.google.com/a/answer/182442?hl=en">here</a>). If in doubt, contact the Gaia team (see <a href="https://sites.google.com/a/google.com/gaia/Home/integrating-with-gaia/getting-started-with-gaia/create-a-new-gaia-service">here</a>).</p><p>Example:</p>
<pre><code> gaia_service: cl
</code></pre></td>
 </tr>
<a name="google.api.Authentication.rules"/>
 <tr>
  <td><code>rules[]</code></td>
  <td>repeated <a href="#google.api.AuthenticationRule">AuthenticationRule</a></td>
  <td><p>A list of authentication rules that apply to individual API methods.</p><p><strong>NOTE:</strong> All service configuration rules follow "last one wins" order.</p></td>
 </tr>
<a name="google.api.Authentication.providers"/>
 <tr>
  <td><code>providers[]</code></td>
  <td>repeated <a href="#google.api.AuthProvider">AuthProvider</a></td>
  <td>Defines a set of authentication providers that a service supports.</td>
 </tr>
<a name="google.api.Authentication.rpc_security_policy"/>
 <tr>
  <td><code>rpc_security_policy</code></td>
  <td><a href="#security.context.RpcSecurityPolicy">RpcSecurityPolicy</a></td>
  <td>RpcSecurityPolicy used to authenticate RPCs and HTTP requests with encoded EndUserCredentials for the API methods that have 'use_rpc_security_policy' set to ENABLED.</td>
 </tr>
</table>

<a name="google.api.AuthenticationRule"/>
### AuthenticationRule
Authentication rules for the service.

By default, if a method has any authentication requirements, every request
must include a valid credential matching one of the requirements.
It's an error to include more than one kind of credential in a single
request.

If a method doesn't have any auth requirements, request credentials will be
ignored.


If a method doesn't have any matching auth rules, One Platform auth isn't
enforced. Instead, ESF acts as a stubby proxy. Any side channel credentials
will be forwarded to the application without verification. If
--enable_esf_delegation=true and --rpc_proxy_whitelist allows it, the API
backend will also be sent the client's LOAS role. See
wiki/Main/StubbyDelegation for more information.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.AuthenticationRule.selector"/>
 <tr>
  <td><code>selector</code></td>
  <td>string</td>
  <td><p>Selects the methods to which this rule applies.</p><p>Refer to <a href="#google.api.DocumentationRule.selector">selector</a> for syntax details.</p></td>
 </tr>
<a name="google.api.AuthenticationRule.oauth"/>
 <tr>
  <td><code>oauth</code></td>
  <td><a href="#google.api.OAuthRequirements">OAuthRequirements</a></td>
  <td>The requirements for OAuth credentials.</td>
 </tr>
<a name="google.api.AuthenticationRule.end_user_creds"/>
 <tr>
  <td><code>end_user_creds</code></td>
  <td><a href="#google.api.EndUserCredsRequirements">EndUserCredsRequirements</a></td>
  <td>The requirements for end user credentials.</td>
 </tr>
<a name="google.api.AuthenticationRule.browser_first_party_auth"/>
 <tr>
  <td><code>browser_first_party_auth</code></td>
  <td><a href="#google.api.BrowserFirstPartyAuthRequirements">BrowserFirstPartyAuthRequirements</a></td>
  <td>The requirements for browser first party authentication. See <a href="http://go/api-session-cookie">http://go/api-session-cookie</a> for details.</td>
 </tr>
<a name="google.api.AuthenticationRule.allow_without_credential"/>
 <tr>
  <td><code>allow_without_credential</code></td>
  <td>bool</td>
  <td><p>Whether to allow requests without a credential. The credential can be an OAuth token, Google cookies (first-party auth) or EndUserCreds.</p><p>For requests without credentials, if the service control environment is specified, each incoming request <strong>must</strong> be associated with a service consumer. This can be done by passing an API key that belongs to a consumer project.</p><p>For Stubby requests without credential or an API key, the client project associated with the LOAS role will be used if any. See go/loquat for details.</p></td>
 </tr>
<a name="google.api.AuthenticationRule.hide_creds_from_backend"/>
 <tr>
  <td><code>hide_creds_from_backend</code></td>
  <td>bool</td>
  <td><p>Controls whether end user credentials (e.g., a GaiaMint or Data Access Token) are passed to the API backend. See <a href="http://go/endusercreds">http://go/endusercreds</a> for more about end user credentials.</p><p>When this is true, the API backend should only look for a Gaia ID in <a href="https://cs.corp.google.com/#piper///depot/google3/tech/internal/env/framework/public/proto/envelope_context.proto">this</a> message extension. (</p></td>
 </tr>
<a name="google.api.AuthenticationRule.requirements"/>
 <tr>
  <td><code>requirements[]</code></td>
  <td>repeated <a href="#google.api.AuthRequirement">AuthRequirement</a></td>
  <td>Requirements for additional authentication providers.</td>
 </tr>
<a name="google.api.AuthenticationRule.use_rpc_security_policy"/>
 <tr>
  <td><code>use_rpc_security_policy</code></td>
  <td><a href="#google.api.AuthenticationRule.RpcSecurityPolicyMode">RpcSecurityPolicyMode</a></td>
  <td><p><a href="http://go/op-rpcsecuritypolicy-user-guide">User Guide</a></p><p>Indicates in which mode RpcSecurityPolicy will be used for authentication. See more details at the comments on the RpcSecurityPolicyMode enum.</p><p>Note that 'end_user_creds' MUST NOT be set when <code>use_rpc_security_policy</code> is set to ENABLED in the same AuthenticationRule.</p></td>
 </tr>
</table>

<a name="google.api.AuthenticationRule.RpcSecurityPolicyMode"/>
### RpcSecurityPolicyMode
The modes in which RpcSecurityPolicy will be used for authentication.


<table>
 <tr>
  <th>Value</th>
  <th>Description</th>
 </tr>
<a name="google.api.AuthenticationRule.RpcSecurityPolicyMode.DISABLED"/>
 <tr>
  <td>DISABLED</td>
  <td>Disables RpcSecurityPolicy for authentication.</td>
 </tr>
<a name="google.api.AuthenticationRule.RpcSecurityPolicyMode.ENABLED"/>
 <tr>
  <td>ENABLED</td>
  <td>Enables RpcSecurityPolicy for authentication.  - ESF will use <a href="http://go/rpc-security-policy">RpcSecurityPolicy</a> in  'rpc_security_policy' instead of the settings in 'end_user_creds' to  authenticate RPCs and HTTP requests with encoded  <a href="http://go/euc">EndUserCredentials</a>. (HTTP requests without  EndUserCredentials will still be authenticated according to the  settings in 'oauth' and 'browser_first_party_auth'.)  - The authenticated identity will be conveyed to the backend via  InternalIAMIdentity rather than UnifiedAuthResponse, for both RPCs and  HTTP requests.</td>
 </tr>
<a name="google.api.AuthenticationRule.RpcSecurityPolicyMode.DARKLAUNCH"/>
 <tr>
  <td>DARKLAUNCH</td>
  <td></td>
 </tr>
</table>

<a name="google.api.Backend"/>
### Backend
`Backend` defines the backend configuration for a service.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.Backend.rules"/>
 <tr>
  <td><code>rules[]</code></td>
  <td>repeated <a href="#google.api.BackendRule">BackendRule</a></td>
  <td><p>A list of API backend rules that apply to individual API methods.</p><p><strong>NOTE:</strong> All service configuration rules follow "last one wins" order.</p></td>
 </tr>
</table>

<a name="google.api.BackendRule"/>
### BackendRule
A backend rule provides configuration for an individual API element.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.BackendRule.selector"/>
 <tr>
  <td><code>selector</code></td>
  <td>string</td>
  <td><p>Selects the methods to which this rule applies.</p><p>Refer to <a href="#google.api.DocumentationRule.selector">selector</a> for syntax details.</p></td>
 </tr>
<a name="google.api.BackendRule.address"/>
 <tr>
  <td><code>address</code></td>
  <td>string</td>
  <td>The address of the API backend.</td>
 </tr>
<a name="google.api.BackendRule.deadline"/>
 <tr>
  <td><code>deadline</code></td>
  <td>double</td>
  <td>The number of seconds to wait for a response from a request. The default depends on the deployment context.</td>
 </tr>
</table>

<a name="google.api.Billing"/>
### Billing
Billing related configuration of the service.

The following example shows how to configure metrics for billing:


    metrics:
    - name: library.googleapis.com/read_calls
      metric_kind: DELTA
      value_type: INT64
    - name: library.googleapis.com/write_calls
      metric_kind: DELTA
      value_type: INT64
    billing:
      metrics:
      - library.googleapis.com/read_calls
      - library.googleapis.com/write_calls


The next example shows how to enable billing status check and customize the
check behavior. It makes sure billing status check is included in the `Check`
method of [Service Control API](https://cloud.google.com/service-control/).
In the example, "google.storage.Get" method can be served when the billing
status is either `current` or `delinquent`, while "google.storage.Write"
method can only be served when the billing status is `current`:


    billing:
      rules:
      - selector: google.storage.Get
        allowed_statuses:
        - current
        - delinquent
      - selector: google.storage.Write
        allowed_statuses: current


Mostly services should only allow `current` status when serving requests.
In addition, services can choose to allow both `current` and `delinquent`
statuses when serving read-only requests to resources. If there's no
matching selector for operation, no billing status check will be performed.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.Billing.metrics"/>
 <tr>
  <td><code>metrics[]</code></td>
  <td>repeated string</td>
  <td>Names of the metrics to report to billing. Each name must be defined in <a href="#google.api.Service.metrics">Service.metrics</a> section.</td>
 </tr>
<a name="google.api.Billing.acl"/>
 <tr>
  <td><code>acl</code></td>
  <td><a href="#google.api.ServiceControlAccess">ServiceControlAccess</a></td>
  <td>Configuration of the access control check behavior when reporting billing related metrics.</td>
 </tr>
<a name="google.api.Billing.rules"/>
 <tr>
  <td><code>rules[]</code></td>
  <td>repeated <a href="#google.api.BillingStatusRule">BillingStatusRule</a></td>
  <td><p>A list of billing rules that apply to individual API methods.</p><p><strong>NOTE:</strong> All service configuration rules follow "last one wins" order.</p></td>
 </tr>
<a name="google.api.Billing.billing_service_name"/>
 <tr>
  <td><code>billing_service_name</code></td>
  <td>string</td>
  <td>Service name used to send to cloud billing. It is used to test the production service (e.g. logging.googleapis.com) price model using staging/test service (e.g. staging-logging.sandbox.googleapis.com) usage. To avoid possible mistakes, this feature is disabled in production.</td>
 </tr>
<a name="google.api.Billing.area_under_curve_params"/>
 <tr>
  <td><code>area_under_curve_params[]</code></td>
  <td>repeated <a href="#google.api.AreaUnderCurveParams">AreaUnderCurveParams</a></td>
  <td>Per resource grouping for delta billing based resource configs.</td>
 </tr>
<a name="google.api.Billing.skus"/>
 <tr>
  <td><code>skus[]</code></td>
  <td>repeated <a href="#google.api.SkuDescriptor">SkuDescriptor</a></td>
  <td>List of SKUs the service intends to sell. SKUs are basic invoicing entities and each SKU corresponds to a line item on the bill.</td>
 </tr>
<a name="google.api.Billing.chargeback_account"/>
 <tr>
  <td><code>chargeback_account</code></td>
  <td>string</td>
  <td></td>
 </tr>
</table>

<a name="google.api.BillingStatusRule"/>
### BillingStatusRule
Defines the billing status requirements for operations.

When used with
[Service Control API](https://cloud.google.com/service-control/), the
following statuses are supported:

- **current**: the associated billing account is up to date and capable of
               paying for resource usages.
- **delinquent**: the associated billing account has a correctable problem,
                  such as late payment.

Mostly services should only allow `current` status when serving requests.
In addition, services can choose to allow both `current` and `delinquent`
statuses when serving read-only requests to resources. If the list of
allowed_statuses is empty, it means no billing requirement.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.BillingStatusRule.selector"/>
 <tr>
  <td><code>selector</code></td>
  <td>string</td>
  <td>Selects the operation names to which this rule applies. Refer to <a href="#google.api.DocumentationRule.selector">selector</a> for syntax details.</td>
 </tr>
<a name="google.api.BillingStatusRule.allowed_statuses"/>
 <tr>
  <td><code>allowed_statuses[]</code></td>
  <td>repeated string</td>
  <td>Allowed billing statuses. The billing status check passes if the actual billing status matches any of the provided values here.</td>
 </tr>
</table>

<a name="google.api.BrowserFirstPartyAuthRequirements"/>
### BrowserFirstPartyAuthRequirements
Google first party auth configuration. This lets websites and Chrome
extensions with Gaia cookies use those for API authentication. See
http://go/api-session-cookie for more.

Browser first party auth lets JavaScript on a first party website or Chrome
extension call Google APIs, authenticating with a user's Gaia cookies.
See http://go/api-session-cookie for more.

See http://go/apiscopes for documentation on how to create a new API scope
if you need one.

Example of an API that wants to accept first party auth:


    name: calendar.googleapis.com
    authentication:
      rules:
      - selector: "*"
        browser_first_party_auth:
          scope_codes: API_CL

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.BrowserFirstPartyAuthRequirements.scope_codes"/>
 <tr>
  <td><code>scope_codes</code></td>
  <td>string</td>
  <td><p>The list of GaiaMint scopes that will be part of the resulting GaiaMint.</p><p>Scopes in this list must have a credential policy that sets allow_secure_api_session_cookie.</p><p>Example:</p>
<pre><code> scope_codes: API_CL, API_CL_READONLY
</code></pre></td>
 </tr>
</table>

<a name="google.api.CacheConfig"/>
### CacheConfig
Cache config.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.CacheConfig.disabled"/>
 <tr>
  <td><code>disabled</code></td>
  <td>bool</td>
  <td>Whether caching is disabled. By default, caching is enabled with default cache parameters.</td>
 </tr>
<a name="google.api.CacheConfig.strategy"/>
 <tr>
  <td><code>strategy</code></td>
  <td><a href="#google.api.CacheStrategy">CacheStrategy</a></td>
  <td>The strategy to be used for caching.</td>
 </tr>
<a name="google.api.CacheConfig.lifetime_seconds"/>
 <tr>
  <td><code>lifetime_seconds</code></td>
  <td>int32</td>
  <td>Cache entry life time in seconds.</td>
 </tr>
<a name="google.api.CacheConfig.local_cache_size_bytes"/>
 <tr>
  <td><code>local_cache_size_bytes</code></td>
  <td>int32</td>
  <td>Size of local cache in the number of bytes.</td>
 </tr>
<a name="google.api.CacheConfig.memcacheg_rpc_timeout_ms"/>
 <tr>
  <td><code>memcacheg_rpc_timeout_ms</code></td>
  <td>int32</td>
  <td>Timeout for memcacheg rpc in milliseconds.</td>
 </tr>
<a name="google.api.CacheConfig.refresh_threshold_seconds"/>
 <tr>
  <td><code>refresh_threshold_seconds</code></td>
  <td>int32</td>
  <td>When this is set, cache can do asynchronous refresh when the remaining lifetime of a cache entry is less than the threshold.</td>
 </tr>
</table>

<a name="google.api.CacheStrategy"/>
### CacheStrategy
Cache Strategy.


<table>
 <tr>
  <th>Value</th>
  <th>Description</th>
 </tr>
<a name="google.api.CacheStrategy.LOCAL_ONLY"/>
 <tr>
  <td>LOCAL_ONLY</td>
  <td>Use only a local cache.</td>
 </tr>
<a name="google.api.CacheStrategy.MEMCACHE_ONLY"/>
 <tr>
  <td>MEMCACHE_ONLY</td>
  <td>Use only a memcache.</td>
 </tr>
<a name="google.api.CacheStrategy.LOCAL_AND_MEMCACHE"/>
 <tr>
  <td>LOCAL_AND_MEMCACHE</td>
  <td>Use both local and memcache.</td>
 </tr>
</table>

<a name="google.api.ChemistConfig"/>
### ChemistConfig
Chemist Configurations.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.ChemistConfig.address"/>
 <tr>
  <td><code>address</code></td>
  <td>string</td>
  <td>The Unifed Backend (go/unified-backend-spec) target address of the Chemist Server.</td>
 </tr>
</table>

<a name="google.api.Codegen"/>
### Codegen
`Codegen` defines the codegen configuration for a service.  It
currently resides underneath the experimental section.

Example:


    experimental:
      codegen:
        rules:
        - selector: google.calendar.Calendar.Message.field
          <codegen-options>

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.Codegen.rules"/>
 <tr>
  <td><code>rules[]</code></td>
  <td>repeated <a href="#google.api.CodegenRule">CodegenRule</a></td>
  <td></td>
 </tr>
</table>

<a name="google.api.CodegenRule"/>
### CodegenRule
The rule for generating code for a selected API element.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.CodegenRule.selector"/>
 <tr>
  <td><code>selector</code></td>
  <td>string</td>
  <td><p>Selects methods, messages, fields, enums, etc. to which this rule applies.</p><p>Refer to <a href="#google.api.DocumentationRule.selector">selector</a> for syntax details.</p></td>
 </tr>
<a name="google.api.CodegenRule.json_name"/>
 <tr>
  <td><code>json_name</code></td>
  <td>string</td>
  <td>Overrides default name for JSON serialization.</td>
 </tr>
<a name="google.api.CodegenRule.resource_reference"/>
 <tr>
  <td><code>resource_reference</code></td>
  <td>bool</td>
  <td>The field contains resource reference. This affects serialization and de-serialization where the resouce reference is converted between URL (used in Apiary v1) and One Platform style resource name.</td>
 </tr>
</table>

<a name="google.api.Context"/>
### Context
`Context` defines which contexts an API requests.

Example:


    context:
      rules:
      - selector: "*"
        requested:
        - google.rpc.context.ProjectContext
        - google.rpc.context.OriginContext


The above specifies that all methods in the API request
`google.rpc.context.ProjectContext` and
`google.rpc.context.OriginContext`.

Available context types are defined in package
`google.rpc.context`.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.Context.rules"/>
 <tr>
  <td><code>rules[]</code></td>
  <td>repeated <a href="#google.api.ContextRule">ContextRule</a></td>
  <td><p>A list of RPC context rules that apply to individual API methods.</p><p><strong>NOTE:</strong> All service configuration rules follow "last one wins" order.</p></td>
 </tr>
</table>

<a name="google.api.ContextRule"/>
### ContextRule
A context rule provides information about the context for an individual API
element.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.ContextRule.selector"/>
 <tr>
  <td><code>selector</code></td>
  <td>string</td>
  <td><p>Selects the methods to which this rule applies.</p><p>Refer to <a href="#google.api.DocumentationRule.selector">selector</a> for syntax details.</p></td>
 </tr>
<a name="google.api.ContextRule.requested"/>
 <tr>
  <td><code>requested[]</code></td>
  <td>repeated string</td>
  <td>A list of full type names of requested contexts.</td>
 </tr>
<a name="google.api.ContextRule.provided"/>
 <tr>
  <td><code>provided[]</code></td>
  <td>repeated string</td>
  <td>A list of full type names of provided contexts.</td>
 </tr>
</table>

<a name="google.api.Control"/>
### Control
Selects and configures the service controller used by the service.  The
service controller handles features like abuse, quota, billing, logging,
monitoring, etc.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.Control.environment"/>
 <tr>
  <td><code>environment</code></td>
  <td>string</td>
  <td>The service control environment to use. If empty, no control plane feature (like quota and billing) will be enabled.</td>
 </tr>
</table>

<a name="google.api.ControlPlaneMigration"/>
### ControlPlaneMigration
Settings to manage the migration of a One Platform service from
Usage Manager to Chemist.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.ControlPlaneMigration.migrating"/>
 <tr>
  <td><code>migrating</code></td>
  <td>bool</td>
  <td>Identifies this One Platform service as migrating its control plane from Usage Manager to Chemist.</td>
 </tr>
<a name="google.api.ControlPlaneMigration.retain_api_v1_name"/>
 <tr>
  <td><code>retain_api_v1_name</code></td>
  <td>bool</td>
  <td>During the migration, retain the value of api_v1_name for project settings lookup. Generally, a migrating service changes api_v1_name from something like "foo" to "foo.googleapis.com". This is accompanied by offline syncing of project settings between the two names. However, for services with very large amount of project settings, it may not be feasible to do this migration. For such cases, we may want to retain api_v1_name even after migration. Setting this to true will disable dual writes.</td>
 </tr>
</table>

<a name="google.api.CustomError"/>
### CustomError
Customize service error responses.  For example, list any service
specific protobuf types that can appear in error detail lists of
error responses.

Example:


    custom_error:
      types:
      - google.foo.v1.CustomError
      - google.foo.v1.AnotherError

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.CustomError.rules"/>
 <tr>
  <td><code>rules[]</code></td>
  <td>repeated <a href="#google.api.CustomErrorRule">CustomErrorRule</a></td>
  <td><p>The list of custom error rules that apply to individual API messages.</p><p><strong>NOTE:</strong> All service configuration rules follow "last one wins" order.</p></td>
 </tr>
<a name="google.api.CustomError.types"/>
 <tr>
  <td><code>types[]</code></td>
  <td>repeated string</td>
  <td>The list of custom error detail types, e.g. 'google.foo.v1.CustomError'.</td>
 </tr>
</table>

<a name="google.api.CustomErrorRule"/>
### CustomErrorRule
A custom error rule.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.CustomErrorRule.selector"/>
 <tr>
  <td><code>selector</code></td>
  <td>string</td>
  <td><p>Selects messages to which this rule applies.</p><p>Refer to <a href="#google.api.DocumentationRule.selector">selector</a> for syntax details.</p></td>
 </tr>
<a name="google.api.CustomErrorRule.is_error_type"/>
 <tr>
  <td><code>is_error_type</code></td>
  <td>bool</td>
  <td>Mark this message as possible payload in error response. Otherwise, objects of this type will be filtered when they appear in error payload.</td>
 </tr>
</table>

<a name="google.api.CustomHttpPattern"/>
### CustomHttpPattern
A custom pattern is used for defining custom HTTP verb.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.CustomHttpPattern.kind"/>
 <tr>
  <td><code>kind</code></td>
  <td>string</td>
  <td>The name of this custom HTTP verb.</td>
 </tr>
<a name="google.api.CustomHttpPattern.path"/>
 <tr>
  <td><code>path</code></td>
  <td>string</td>
  <td>The path matched by this custom verb.</td>
 </tr>
</table>

<a name="google.api.Destination"/>
### Destination
Configuration of a destination to send metric values and log entries to.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.Destination.type"/>
 <tr>
  <td><code>type</code></td>
  <td><a href="#google.api.Destination.Type">Type</a></td>
  <td>The type of the destination.</td>
 </tr>
<a name="google.api.Destination.owner"/>
 <tr>
  <td><code>owner</code></td>
  <td><a href="#google.api.Destination.Owner">Owner</a></td>
  <td>Whether the metric values and log entries are owned by the producer project or the consumer project.</td>
 </tr>
<a name="google.api.Destination.acl"/>
 <tr>
  <td><code>acl</code></td>
  <td><a href="#google.api.ServiceControlAcl">ServiceControlAcl</a></td>
  <td>Authorization configuration for this destination.</td>
 </tr>
<a name="google.api.Destination.label_key_transformation_name"/>
 <tr>
  <td><code>label_key_transformation_name</code></td>
  <td>string</td>
  <td>Name of the label key transformation config. The names must be defined in LabelKeyTransformationConfig section. If transformation is not specified for a given resource entity definition, identity transformation is used where all label keys defined in the resource entity definition are mapped to themselves.</td>
 </tr>
<a name="google.api.Destination.metric_names"/>
 <tr>
  <td><code>metric_names[]</code></td>
  <td>repeated string</td>
  <td>Names of the metrics to send to this destination. Each name must be defined in MetricsDefinition.custom_metrics section.</td>
 </tr>
<a name="google.api.Destination.log_names"/>
 <tr>
  <td><code>log_names[]</code></td>
  <td>repeated string</td>
  <td>Names of the logs to be sent to this destination. Each name must be defined in the logs section.</td>
 </tr>
</table>

<a name="google.api.Destination.Owner"/>
### Owner
Defines whether metric values and log entries are owned by the
producer project or the consumer project.


<table>
 <tr>
  <th>Value</th>
  <th>Description</th>
 </tr>
<a name="google.api.Destination.Owner.OWNER_UNSPECIFIED"/>
 <tr>
  <td>OWNER_UNSPECIFIED</td>
  <td>This is not a valid value.</td>
 </tr>
<a name="google.api.Destination.Owner.PRODUCER_PROJECT"/>
 <tr>
  <td>PRODUCER_PROJECT</td>
  <td>The metric values and log entries are owned by the producer project.</td>
 </tr>
<a name="google.api.Destination.Owner.CONSUMER_PROJECT"/>
 <tr>
  <td>CONSUMER_PROJECT</td>
  <td>The metric values and log entries are owned by the consumer project.</td>
 </tr>
</table>

<a name="google.api.Destination.Type"/>
### Type
The type of the destination.


<table>
 <tr>
  <th>Value</th>
  <th>Description</th>
 </tr>
<a name="google.api.Destination.Type.TYPE_UNSPECIFIED"/>
 <tr>
  <td>TYPE_UNSPECIFIED</td>
  <td>This is not a valid value.</td>
 </tr>
<a name="google.api.Destination.Type.MONITORING"/>
 <tr>
  <td>MONITORING</td>
  <td>Send metric values to the monitoring system.</td>
 </tr>
<a name="google.api.Destination.Type.BILLING"/>
 <tr>
  <td>BILLING</td>
  <td>Send metric values to the billing system.</td>
 </tr>
<a name="google.api.Destination.Type.LOGGING"/>
 <tr>
  <td>LOGGING</td>
  <td>Send logs to the logging system.</td>
 </tr>
<a name="google.api.Destination.Type.QUOTA"/>
 <tr>
  <td>QUOTA</td>
  <td>Send metric values to the quota system.</td>
 </tr>
</table>

<a name="google.api.Devconsole"/>
### Devconsole
Links and link-templates that are displayed to service consumers in
DevConsole.  These are in the legacy config for now because we should
probably replace these with the more general purpose markdown based
documentation already attached to the service config.  Until the console
supports this doc directly, however, new services need to be able to
populate the existing fields.

See also the ApiConfiguration message in http://go/dc-config-proto

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.Devconsole.example_url"/>
 <tr>
  <td><code>example_url</code></td>
  <td>string</td>
  <td>For public APIs, it must point to the API Explorer page for the API, such as <a href="https://developers.google.com/apis-explorer/#search/bigquery/bigquery/v2/">https://developers.google.com/apis-explorer/#search/bigquery/bigquery/v2/</a>. It is optional for private APIs.</td>
 </tr>
<a name="google.api.Devconsole.learnmore_url"/>
 <tr>
  <td><code>learnmore_url</code></td>
  <td>string</td>
  <td>For public APIs, it must point to the API product landing page, such as <a href="https://cloud.google.com/bigquery/">https://cloud.google.com/bigquery/</a>. For private APIs, it should point to the API internal site.</td>
 </tr>
<a name="google.api.Devconsole.request_quota_url"/>
 <tr>
  <td><code>request_quota_url</code></td>
  <td>string</td>
  <td>A URL to a Google Docs form, such as <a href="https://docs.google.com/spreadsheet/viewform?formkey=abc123&entry_0={email}&entry_1={id}">https://docs.google.com/spreadsheet/viewform?formkey=abc123&entry_0={email}&entry_1={id}</a>. Google Developers Console UI replace {email} with the current user's e-mail, {id} with the current project id.</td>
 </tr>
<a name="google.api.Devconsole.pricing_link"/>
 <tr>
  <td><code>pricing_link</code></td>
  <td>string</td>
  <td>A link to pricing information for the API product, such as <a href="https://cloud.google.com/bigquery/pricing">https://cloud.google.com/bigquery/pricing</a>.</td>
 </tr>
<a name="google.api.Devconsole.enable_reporting"/>
 <tr>
  <td><code>enable_reporting<br><b>(deprecated)</b></code></td>
  <td>bool</td>
  <td>Configuration option for reporting usage of methods to the devconsole. DEPRECATED: method usage for all OP APIs will be reported to devconsole.</td>
 </tr>
<a name="google.api.Devconsole.console_api"/>
 <tr>
  <td><code>console_api</code></td>
  <td><a href="#google.api.Devconsole.ConsoleApi">ConsoleApi</a></td>
  <td>Indicates which API Pantheon should used to manage the service. Service owners should NOT set this field without talking to inception-team@. It will normally be populated by Inception. This field will be removed as soon as we clean up the Pantheon cutover to Inception.</td>
 </tr>
</table>

<a name="google.api.Devconsole.ConsoleApi"/>
### ConsoleApi
Indicates which API Pantheon should used to manage the service.


<table>
 <tr>
  <th>Value</th>
  <th>Description</th>
 </tr>
<a name="google.api.Devconsole.ConsoleApi.UNKNOWN"/>
 <tr>
  <td>UNKNOWN</td>
  <td>No value was provided.</td>
 </tr>
<a name="google.api.Devconsole.ConsoleApi.LEGACY"/>
 <tr>
  <td>LEGACY</td>
  <td>Use the DevProjects API to manage the service.</td>
 </tr>
<a name="google.api.Devconsole.ConsoleApi.NEW"/>
 <tr>
  <td>NEW</td>
  <td>Use the Inception API to manage the service.</td>
 </tr>
<a name="google.api.Devconsole.ConsoleApi.NEW_GOOGLERS_ONLY"/>
 <tr>
  <td>NEW_GOOGLERS_ONLY</td>
  <td>Use the Inception API to manage the service for Googlers only.</td>
 </tr>
</table>

<a name="google.api.Discovery"/>
### Discovery
`Discovery` configures API schema discovery options of a service.

Example:


    discovery:
      public_directory: true
      supported_schemas:
      - GOOGLE_REST
      - GOOGLE_REST_SIMPLE_URI
      - SWAGGER2

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.Discovery.public_directory"/>
 <tr>
  <td><code>public_directory</code></td>
  <td>bool</td>
  <td>If true, this API will get included in the <a href="https://www.googleapis.com/discovery/v1/apis">Google API directory</a>.</td>
 </tr>
<a name="google.api.Discovery.public_discovery"/>
 <tr>
  <td><code>public_discovery</code></td>
  <td>bool</td>
  <td>If true, the discovery document will be public and allow open access, e.g. don't require API key or authentication token.</td>
 </tr>
<a name="google.api.Discovery.supported_schemas"/>
 <tr>
  <td><code>supported_schemas[]</code></td>
  <td>repeated <a href="#google.api.Discovery.Schema">Schema</a></td>
  <td><p>Specifies the supported discovery schemas. If unspecified, the default is <code>GOOGLE_REST</code>.</p><p>When discovery is served via Apiary, the selected schema will be whatever of <code>GOOGLE_REST</code> and <code>GOOGLE_REST_SIMPLE_URI</code> appears first in this list.</p></td>
 </tr>
<a name="google.api.Discovery.schema_name_template"/>
 <tr>
  <td><code>schema_name_template</code></td>
  <td>string</td>
  <td><p>A simple template which determines how JSON schema names are generated for proto messages. This is a string which uses the <code>${var}</code> notation for referring to a set of predefined variable names. Example:</p>
<pre><code>discovery:
  schema_name_template: &gt;
    ${api_name}${outer_message_name}${message_name}
</code></pre><p>For an API named <code>my_api</code> and a message named <code>MyNested</code> contained in a message <code>MyOuter</code>, this results in schema name <code>MyApiMyOuterMyNested</code>.</p><p>If this field is not set, the template defaults to <code>${message_name}</code>.</p><p>The following variables are supported:</p>
<ul>
  <li><code>${message_name}</code>: the simple name of the message or enum type.</li>
  <li><code>${outer_message_name}</code>: the sequence of outer message names  in which this message is contained, or empty, if not a nested  message.</li>
  <li><code>${package_name}</code>: the name of the package of the message.</li>
  <li><code>${version}</code>: the version of the api as it appears in the  metadata of the discovery doc, in upper camel case.</li>
  <li><code>${api_name}</code>: the simple name of the api, as it appears in  the metadata of the discovery doc, in upper camel case.</li>
</ul></td>
 </tr>
<a name="google.api.Discovery.exponential_backoff_default"/>
 <tr>
  <td><code>exponential_backoff_default</code></td>
  <td>bool</td>
  <td>If true, tells a code generator to enable exponential backoff for suitable methods by default. This feature requires language support from code generator, and so might not be available in all languages.</td>
 </tr>
<a name="google.api.Discovery.canonical_name"/>
 <tr>
  <td><code>canonical_name</code></td>
  <td>string</td>
  <td><p>If given, the value will be used as <code>canonicalName</code> in the generated discovery doc. This is needed for properly camel-casing the API name in our client libraries. For example, a code generator for camel-case naming conventions may use this to produce <code>LibraryExample</code> in identifiers, where its canonical_name would be "Library Example". This allows for other representation mechanisms as well, such as underscore (e.g. "library_example").</p><p>WARNING: changing to <code>canonical_name</code> will cause breaking change to the generated client libraries.</p></td>
 </tr>
<a name="google.api.Discovery.api_name"/>
 <tr>
  <td><code>api_name</code></td>
  <td>string</td>
  <td><p>API name that will be shown in discovery doc. If this field is not set, the tool chain will try to derive it from <a href="#google.api.Service.name">google.api.Service.name</a> for Google APIs, or raise error if it cannot be derived.</p><p>The derivation works as follows. First, any trailing domain names are removed. Then the API name is identified using this pattern: <code>(staging|test)-{apiname}.sandbox.*.*</code> On the remaining string, '.' and '-' are replaced by '_'. For example, both <code>library.example.googleapis.com</code> and <code>staging-library.example.sandbox.googleapis.com</code> will result in <code>library_example</code>. If the result of derivation is not sufficient, set the name explicitly here. Note that there are a few other places in the build system and deployment configuration where you need to set the name as well if its not derived.</p></td>
 </tr>
<a name="google.api.Discovery.version"/>
 <tr>
  <td><code>version</code></td>
  <td>string</td>
  <td>API version of the per-version discovery configuration. This is not needed at top-level discovery configuration, and must be provided at per-version discovery configuration.</td>
 </tr>
<a name="google.api.Discovery.discovery_per_version"/>
 <tr>
  <td><code>discovery_per_version[]</code></td>
  <td>repeated <a href="#google.api.Discovery">Discovery</a></td>
  <td><p>An optional field to configure discovery configuration on a version basis. If one API version does not have a version-level discovery configuration, top level configuration will be populated during normalization stage. With config_version 2 and below, if one API version has its version-level discovery, it has to specify all configuration, or proto3 default values will be used as the value. It will not inherit the top level discovery configuration in that case. Starting from config_version 3, API producer can specify shared discovery configuration (e.g. canonical_name) at top-level without duplicating it in version-level configuration.</p><p>Example:  discovery:  canonical_name: Library Example  supported_schemas:  - GOOGLE_REST  discovery_per_version:  - version: v1  public_directory: true  - version: v2  supported_schemas:  - GOOGLE_REST  - SWAGGER1</p></td>
 </tr>
<a name="google.api.Discovery.rules"/>
 <tr>
  <td><code>rules[]</code></td>
  <td>repeated <a href="#google.api.JsonSchemaRule">JsonSchemaRule</a></td>
  <td>Individual rules for JSON schemas. If your service have multiple API versions, this field is recommended to be configured at per-version level in order to avoid misconfiguration.</td>
 </tr>
<a name="google.api.Discovery.path_prefixes"/>
 <tr>
  <td><code>path_prefixes[]</code></td>
  <td>repeated string</td>
  <td><p>Once specified, only methods with an http binding that matches one of the path prefixes will be included in the generated discovery document for the given API version. The prefix matching is conducted at path segment level, meaning "/library/v1" will not be treated as prefix of "/library/v1beta1". This field must be configured at discovery_per_version level. This is useful for an Apiary API that is doing an in-place migration to One Platform, and has http paths that don't start with API version. By default, only methods with http bindings starting with the given API version will be included.</p><p>Example:  discovery:  ...  discovery_per_version:  - version: v1  path_prefixes:  - /library/v1  - /library/new/v1  - version: v2  path_prefixes:  - /v2/library</p></td>
 </tr>
</table>

<a name="google.api.Discovery.Schema"/>
### Schema
Discovery schemas.


<table>
 <tr>
  <th>Value</th>
  <th>Description</th>
 </tr>
<a name="google.api.Discovery.Schema.GOOGLE_API"/>
 <tr>
  <td>GOOGLE_API</td>
  <td>Specifies the platform's native discovery schema, based on the <a href="#google.api.Service">google.api.Service</a> message.</td>
 </tr>
<a name="google.api.Discovery.Schema.GOOGLE_REST"/>
 <tr>
  <td>GOOGLE_REST</td>
  <td>Specifies the Google JSON REST discovery schema, which is supporting the older Google API infrastructure. See also <a href="https://developers.google.com/discovery/v1/reference/apis">here</a>.</td>
 </tr>
<a name="google.api.Discovery.Schema.GOOGLE_REST_SIMPLE_URI"/>
 <tr>
  <td>GOOGLE_REST_SIMPLE_URI</td>
  <td>A variant of the Google JSON REST discovery schema which avoids level 2 URI template constructs, specifically the use of <code>{+name}</code> variables. See <a href="https://tools.ietf.org/html/rfc6570">RFC 6570</a> for details. Level 2 templates are avoided by translating URI patterns like <code>{name=x/*/y/*}</code> into <code>x/{xId}/y/{yId}</code> instead of into <code>{+name}</code>. Also, the <code>{name=**}</code> pattern will be translated into a simple variable, which means that the client will escape all reserved characters, and the server needs to take care of unescaping itself.</td>
 </tr>
<a name="google.api.Discovery.Schema.SWAGGER1"/>
 <tr>
  <td>SWAGGER1</td>
  <td>Swagger version 1.2 schema. See the <a href="https://github.com/swagger-api/swagger-spec/blob/master/versions/1.2.md">Swagger spec</a>. Note that swagger schema implies use of simple URI translation.</td>
 </tr>
<a name="google.api.Discovery.Schema.SWAGGER2"/>
 <tr>
  <td>SWAGGER2</td>
  <td>Swagger version 2.0 schema. See the <a href="https://github.com/swagger-api/swagger-spec/blob/master/versions/2.0.md">Swagger spec</a>. Note that swagger schema implies use of simple URI translation.</td>
 </tr>
<a name="google.api.Discovery.Schema.GOOGLE_REST_PATCHABLE_VERSION"/>
 <tr>
  <td>GOOGLE_REST_PATCHABLE_VERSION</td>
  <td><p>A variant of <code>GOOGLE_REST</code> which puts the API version into the service path instead of the method path. Many Apiary client libraries support overriding the service path, so this can be used to generate a library which allows to patch the version. This schema should only be used for testing, and with build time discovery.</p><p><strong>Note</strong>: This schema does not work with APIs which use global custom methods, as in <code>v1:customVerb</code>.</p></td>
 </tr>
</table>

<a name="google.api.Documentation"/>
### Documentation
`Documentation` provides the information for describing a service.

Example:

<pre><code>documentation:
  summary: >
    The Google Calendar API gives access
    to most calendar features.
  pages:
  - name: Overview
    content: &#40;== include google/foo/overview.md ==&#41;
  - name: Tutorial
    content: &#40;== include google/foo/tutorial.md ==&#41;
    subpages;
    - name: Java
      content: &#40;== include google/foo/tutorial_java.md ==&#41;
  rules:
  - selector: google.calendar.Calendar.Get
    description: >
      ...
  - selector: google.calendar.Calendar.Put
    description: >
      ...
</code></pre>

Documentation is provided in markdown syntax. In addition to
standard markdown features, definition lists, tables and fenced
code blocks are supported. Section headers can be provided and are
interpreted relative to the section nesting of the context where
a documentation fragment is embedded.

Documentation from the IDL is merged with documentation defined
via the config at normalization time, where documentation provided
by config rules overrides IDL provided.

A number of constructs specific to the API platform are supported
in documentation text.

In order to reference a proto element, the following
notation can be used:

<pre><code>&#91;fully.qualified.proto.name]&#91;]</code></pre>

To override the display text used for the link, this can be used:

<pre><code>&#91;display text]&#91;fully.qualified.proto.name]</code></pre>

Text can be excluded from doc using the following notation:

<pre><code>&#40;-- internal comment --&#41;</code></pre>

Comments can be made conditional using a visibility label. The below
text will be only rendered if the `BETA` label is available:

<pre><code>&#40;--BETA: comment for BETA users --&#41;</code></pre>

A few directives are available in documentation. Note that
directives must appear on a single line to be properly
identified. The `include` directive includes a markdown file from
an external source:

<pre><code>&#40;== include path/to/file ==&#41;</code></pre>

The `resource_for` directive marks a message to be the resource of
a collection in REST view. If it is not specified, tools attempt
to infer the resource from the operations in a collection:

<pre><code>&#40;== resource_for v1.shelves.books ==&#41;</code></pre>

The directive `suppress_warning` does not directly affect documentation
and is documented together with service config validation.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.Documentation.summary"/>
 <tr>
  <td><code>summary</code></td>
  <td>string</td>
  <td>A short summary of what the service does. Can only be provided by plain text.</td>
 </tr>
<a name="google.api.Documentation.pages"/>
 <tr>
  <td><code>pages[]</code></td>
  <td>repeated <a href="#google.api.Page">Page</a></td>
  <td>The top level pages for the documentation set.</td>
 </tr>
<a name="google.api.Documentation.rules"/>
 <tr>
  <td><code>rules[]</code></td>
  <td>repeated <a href="#google.api.DocumentationRule">DocumentationRule</a></td>
  <td><p>A list of documentation rules that apply to individual API elements.</p><p><strong>NOTE:</strong> All service configuration rules follow "last one wins" order.</p></td>
 </tr>
<a name="google.api.Documentation.documentation_root_url"/>
 <tr>
  <td><code>documentation_root_url</code></td>
  <td>string</td>
  <td>The URL to the root of documentation.</td>
 </tr>
<a name="google.api.Documentation.overview"/>
 <tr>
  <td><code>overview</code></td>
  <td>string</td>
  <td><p>Declares a single overview page. For example:</p>
<pre><code>documentation:
  summary: ...
  overview: &#40;== include overview.md ==&#41;
</code></pre><p>This is a shortcut for the following declaration (using pages style):</p>
<pre><code>documentation:
  summary: ...
  pages:
  - name: Overview
    content: &#40;== include overview.md ==&#41;
</code></pre><p>Note: you cannot specify both <code>overview</code> field and <code>pages</code> field.</p></td>
 </tr>
</table>

<a name="google.api.DocumentationRule"/>
### DocumentationRule
A documentation rule provides information about individual API elements.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.DocumentationRule.selector"/>
 <tr>
  <td><code>selector</code></td>
  <td>string</td>
  <td>The selector is a comma-separated list of patterns. Each pattern is a qualified name of the element which may end in "*", indicating a wildcard. Wildcards are only allowed at the end and for a whole component of the qualified name, i.e. "foo.*" is ok, but not "foo.b*" or "foo.*.bar". To specify a default for all applicable elements, the whole pattern "*" is used.</td>
 </tr>
<a name="google.api.DocumentationRule.description"/>
 <tr>
  <td><code>description</code></td>
  <td>string</td>
  <td>Description of the selected API(s).</td>
 </tr>
<a name="google.api.DocumentationRule.deprecation_description"/>
 <tr>
  <td><code>deprecation_description</code></td>
  <td>string</td>
  <td>Deprecation description of the selected element(s). It can be provided if an element is marked as <code>deprecated</code>.</td>
 </tr>
</table>

<a name="google.api.EndUserCredsRequirements"/>
### EndUserCredsRequirements
End user credentials are part of the data protection program at Google.
The goal is to reduce trust in code by having requests to access user data be
accompanied by credentials which authorize the access. That reduces the
amount of code we must trust completely since without the credentials an
otherwise-unprivileged job cannot access data.

Scopes are a way to define data and permissions on data. For example,
there are scopes defined for "Read-only access to Google Calendar" and
"Access to Cloud Platform".

See http://go/apiscopes for documentation on how to create a new API scope
if you need one.

Example of an API that wants to accept end user creds:


    name: calendar.googleapis.com
    authentication:
      gaia_service: cl
      rules:
      - selector: "*"
        end_user_creds:
          scope_codes: API_CL

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.EndUserCredsRequirements.scope_codes"/>
 <tr>
  <td><code>scope_codes</code></td>
  <td>string</td>
  <td><p>The list of scope codes that are allowed access. An end user credential containing any of these scopes will be accepted.</p><p>Example:</p>
<pre><code> scope_codes: API_CL, API_CL_READONLY
</code></pre></td>
 </tr>
</table>

<a name="google.api.Endpoint"/>
### Endpoint
`Endpoint` describes a network endpoint that serves a set of APIs.
A service may expose any number of endpoints, and all endpoints share the
same service configuration, such as quota configuration and monitoring
configuration.

Example service configuration:


    name: library-example.googleapis.com
    endpoints:
      # Below entry makes 'google.example.library.v1.Library'
      # API be served from endpoint address library-example.googleapis.com.
      # It also allows HTTP OPTIONS calls to be passed to the backend, for
      # it to decide whether the subsequent cross-origin request is
      # allowed to proceed.
    - name: library-example.googleapis.com
      apis: google.example.library.v1.Library
      allow_cors: true
      # Below entry makes 'google.example.library.v1.Library'
      # API be served from endpoint address
      # google.example.library-example.v1.LibraryManager.
    - name: library-manager.googleapis.com
      apis: google.example.library.v1.LibraryManager
      # BNS address for a borg job. Can specify a task by appending
      # "/taskId" (e.g. "/0") to the job spec.


Example OpenAPI extension for endpoint with allow_cors set to true:


    {
      "swagger": "2.0",
      "info": {
        "description": "A simple..."
      },
      "host": "MY_PROJECT_ID.appspot.com",
      "x-google-endpoints": [{
        "name": "MY_PROJECT_ID.appspot.com",
        "allow_cors": "true"
      }]
    }

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.Endpoint.name"/>
 <tr>
  <td><code>name</code></td>
  <td>string</td>
  <td>The canonical name of this endpoint.</td>
 </tr>
<a name="google.api.Endpoint.aliases"/>
 <tr>
  <td><code>aliases[]<br><b>(deprecated)</b></code></td>
  <td>repeated string</td>
  <td><p>DEPRECATED: This field is no longer supported. Instead of using aliases, please specify multiple <a href="#google.api.Endpoint">google.api.Endpoint</a> for each of the intented alias.</p><p>Additional names that this endpoint will be hosted on.</p></td>
 </tr>
<a name="google.api.Endpoint.apis"/>
 <tr>
  <td><code>apis[]</code></td>
  <td>repeated string</td>
  <td>The list of APIs served by this endpoint.</td>
 </tr>
<a name="google.api.Endpoint.features"/>
 <tr>
  <td><code>features[]</code></td>
  <td>repeated string</td>
  <td>The list of features enabled on this endpoint.</td>
 </tr>
<a name="google.api.Endpoint.target"/>
 <tr>
  <td><code>target</code></td>
  <td>string</td>
  <td>The specification of the target set of tasks that will handle requests to this endpoint. It is specified using <code>Unified backend specification</code> (see go/backends). Currently, only simple GSLB targets and BNS job/task addresses are supported. See top-level proto documentation for examples of both.</td>
 </tr>
<a name="google.api.Endpoint.allow_cors"/>
 <tr>
  <td><code>allow_cors</code></td>
  <td>bool</td>
  <td>Allowing <a href="https://en.wikipedia.org/wiki/Cross-origin_resource_sharing">CORS</a>, aka cross-domain traffic, would allow the backends served from this endpoint to receive and respond to HTTP OPTIONS requests. The response will be used by the browser to determine whether the subsequent cross-origin request is allowed to proceed.</td>
 </tr>
</table>

<a name="google.api.ErrorDefinition"/>
### ErrorDefinition

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.ErrorDefinition.external_name"/>
 <tr>
  <td><code>external_name</code></td>
  <td>string</td>
  <td></td>
 </tr>
<a name="google.api.ErrorDefinition.error_message"/>
 <tr>
  <td><code>error_message</code></td>
  <td>string</td>
  <td></td>
 </tr>
<a name="google.api.ErrorDefinition.extended_help"/>
 <tr>
  <td><code>extended_help</code></td>
  <td>string</td>
  <td></td>
 </tr>
<a name="google.api.ErrorDefinition.domain"/>
 <tr>
  <td><code>domain</code></td>
  <td>string</td>
  <td></td>
 </tr>
<a name="google.api.ErrorDefinition.reason"/>
 <tr>
  <td><code>reason</code></td>
  <td>string</td>
  <td></td>
 </tr>
<a name="google.api.ErrorDefinition.location"/>
 <tr>
  <td><code>location</code></td>
  <td>string</td>
  <td></td>
 </tr>
<a name="google.api.ErrorDefinition.predicate"/>
 <tr>
  <td><code>predicate</code></td>
  <td><a href="#google.api.ErrorPredicate">ErrorPredicate</a></td>
  <td></td>
 </tr>
<a name="google.api.ErrorDefinition.http_error_headers"/>
 <tr>
  <td><code>http_error_headers</code></td>
  <td>repeated map&lt;string, string&gt;</td>
  <td></td>
 </tr>
</table>

<a name="google.api.ErrorDefinitions"/>
### ErrorDefinitions

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.ErrorDefinitions.definitions"/>
 <tr>
  <td><code>definitions[]</code></td>
  <td>repeated <a href="#google.api.ErrorDefinition">ErrorDefinition</a></td>
  <td></td>
 </tr>
</table>

<a name="google.api.ErrorDomain"/>
### ErrorDomain

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.ErrorDomain.error_definitions"/>
 <tr>
  <td><code>error_definitions</code></td>
  <td>repeated map&lt;string, <a href="#google.api.ErrorDefinitions">ErrorDefinitions</a>&gt;</td>
  <td>map of error name to error definitions</td>
 </tr>
</table>

<a name="google.api.ErrorPredicate"/>
### ErrorPredicate

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.ErrorPredicate.location"/>
 <tr>
  <td><code>location</code></td>
  <td>string</td>
  <td></td>
 </tr>
<a name="google.api.ErrorPredicate.method"/>
 <tr>
  <td><code>method</code></td>
  <td>string</td>
  <td></td>
 </tr>
</table>

<a name="google.api.Experimental"/>
### Experimental
Experimental service configuration. These configuration options can
only be used by whitelisted users.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.Experimental.codegen"/>
 <tr>
  <td><code>codegen</code></td>
  <td><a href="#google.api.Codegen">Codegen</a></td>
  <td>Code generation configuration.</td>
 </tr>
<a name="google.api.Experimental.advanced"/>
 <tr>
  <td><code>advanced</code></td>
  <td><a href="#google.api.AdvancedServiceConfig">AdvancedServiceConfig</a></td>
  <td>Advanced service configurations.</td>
 </tr>
<a name="google.api.Experimental.service_control"/>
 <tr>
  <td><code>service_control</code></td>
  <td><a href="#google.api.ServiceControlConfig">ServiceControlConfig</a></td>
  <td>Configuration for services that use Google Service Control API to integrate with backend systems.</td>
 </tr>
<a name="google.api.Experimental.service_management"/>
 <tr>
  <td><code>service_management</code></td>
  <td><a href="#google.api.ServiceManagementConfig">ServiceManagementConfig</a></td>
  <td>Configuration for services managed by Google Service Management API</td>
 </tr>
</table>

<a name="google.api.ExtendedQuotaRule"/>
### ExtendedQuotaRule
DEPRECATED. Do not use.

Advanced configuration for the QuotaWrapper.
Example:
  experimental:
    advanced:
      quota_rules:
      - selector: google.library.v1.LibraryService.*
        quota_cache_lifetime_seconds: 10

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.ExtendedQuotaRule.selector"/>
 <tr>
  <td><code>selector</code></td>
  <td>string</td>
  <td><p>Selects the methods to which this rule applies.</p><p>Refer to <a href="#google.api.DocumentationRule.selector">selector</a> for syntax details.</p></td>
 </tr>
<a name="google.api.ExtendedQuotaRule.enable_cache"/>
 <tr>
  <td><code>enable_cache</code></td>
  <td>bool</td>
  <td>Whether to enable the acceptance cache optimization.</td>
 </tr>
<a name="google.api.ExtendedQuotaRule.quota_cache_lifetime_seconds"/>
 <tr>
  <td><code>quota_cache_lifetime_seconds</code></td>
  <td>int32</td>
  <td>Dictates the quota enforcement policy. For values greater than 0, the framework will try to improve the latency on the request thread, by sending quota requests through a batching client.</td>
 </tr>
</table>

<a name="google.api.Http"/>
### Http
Defines the HTTP configuration for a service. It contains a list of
[HttpRule](#google.api.HttpRule), each specifying the mapping of an RPC method
to one or more HTTP REST API methods.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.Http.rules"/>
 <tr>
  <td><code>rules[]</code></td>
  <td>repeated <a href="#google.api.HttpRule">HttpRule</a></td>
  <td><p>A list of HTTP configuration rules that apply to individual API methods.</p><p><strong>NOTE:</strong> All service configuration rules follow "last one wins" order.</p></td>
 </tr>
</table>

<a name="google.api.HttpRule"/>
### HttpRule
`HttpRule` defines the mapping of an RPC method to one or more HTTP
REST APIs.  The mapping determines what portions of the request
message are populated from the path, query parameters, or body of
the HTTP request.  The mapping is typically specified as an
`google.api.http` annotation, see "google/api/annotations.proto"
for details.

The mapping consists of a field specifying the path template and
method kind.  The path template can refer to fields in the request
message, as in the example below which describes a REST GET
operation on a resource collection of messages:

```proto
service Messaging {
  rpc GetMessage(GetMessageRequest) returns (Message) {
    option (google.api.http).get = "/v1/messages/{message_id}/{sub.subfield}";
  }
}
message GetMessageRequest {
  message SubMessage {
    string subfield = 1;
  }
  string message_id = 1; // mapped to the URL
  SubMessage sub = 2;    // `sub.subfield` is url-mapped
}
message Message {
  string text = 1; // content of the resource
}
```

This definition enables an automatic, bidrectional mapping of HTTP
JSON to RPC. Example:

HTTP | RPC
-----|-----
`GET /v1/messages/123456/foo`  | `GetMessage(message_id: "123456" sub: SubMessage(subfield: "foo"))`

In general, not only fields but also field paths can be referenced
from a path pattern. Fields mapped to the path pattern cannot be
repeated and must have a primitive (non-message) type.

Any fields in the request message which are not bound by the path
pattern automatically become (optional) HTTP query
parameters. Assume the following definition of the request message:

```proto
message GetMessageRequest {
  message SubMessage {
    string subfield = 1;
  }
  string message_id = 1; // mapped to the URL
  int64 revision = 2;    // becomes a parameter
  SubMessage sub = 3;    // `sub.subfield` becomes a parameter
}
```

This enables a HTTP JSON to RPC mapping as below:

HTTP | RPC
-----|-----
`GET /v1/messages/123456?revision=2&sub.subfield=foo` | `GetMessage(message_id: "123456" revision: 2 sub: SubMessage(subfield: "foo"))`

Note that fields which are mapped to HTTP parameters must have a
primitive type or a repeated primitive type. Message types are not
allowed. In the case of a repeated type, the parameter can be
repeated in the URL, as in `...?param=A&param=B`.

For HTTP method kinds which allow a request body, the `body` field
specifies the mapping. Consider a REST update method on the
message resource collection:

```proto
service Messaging {
  rpc UpdateMessage(UpdateMessageRequest) returns (Message) {
    option (google.api.http) = {
      put: "/v1/messages/{message_id}"
      body: "message"
    };
  }
}
message UpdateMessageRequest {
  string message_id = 1; // mapped to the URL
  Message message = 2;   // mapped to the body
}
```

The following HTTP JSON to RPC mapping is enabled, where the
representation of the JSON in the request body is determined by
protos JSON encoding:

HTTP | RPC
-----|-----
`PUT /v1/messages/123456 { "text": "Hi!" }` | `UpdateMessage(message_id: "123456" message { text: "Hi!" })`

The special name `*` can be used in the body mapping to define that
every field not bound by the path template should be mapped to the
request body.  This enables the following alternative definition of
the update method:

```proto
service Messaging {
  rpc UpdateMessage(Message) returns (Message) {
    option (google.api.http) = {
      put: "/v1/messages/{message_id}"
      body: "*"
    };
  }
}
message Message {
  string message_id = 1;
  string text = 2;
}
```

The following HTTP JSON to RPC mapping is enabled:

HTTP | RPC
-----|-----
`PUT /v1/messages/123456 { "text": "Hi!" }` | `UpdateMessage(message_id: "123456" text: "Hi!")`

Note that when using `*` in the body mapping, it is not possible to
have HTTP parameters, as all fields not bound by the path end in
the body. This makes this option more rarely used in practice of
defining REST APIs. The common usage of `*` is in custom methods
which don't use the URL at all for transferring data.

It is possible to define multiple HTTP methods for one RPC by using
the `additional_bindings` option. Example:

```proto
service Messaging {
  rpc GetMessage(GetMessageRequest) returns (Message) {
    option (google.api.http) = {
      get: "/v1/messages/{message_id}"
      additional_bindings {
        get: "/v1/users/{user_id}/messages/{message_id}"
      }
    };
  }
}
message GetMessageRequest {
  string message_id = 1;
  string user_id = 2;
}
```

This enables the following two alternative HTTP JSON to RPC
mappings:

HTTP | RPC
-----|-----
`GET /v1/messages/123456` | `GetMessage(message_id: "123456")`
`GET /v1/users/me/messages/123456` | `GetMessage(user_id: "me" message_id: "123456")`



<a name="rpc_google.api_google.api.HttpRule_description_subsection"/>
#### Rules for HTTP mapping
The rules for mapping HTTP path, query parameters, and body fields
to the request message are as follows:

1. The `body` field specifies either `*` or a field path, or is
   omitted. If omitted, it assumes there is no HTTP body.
2. Leaf fields (recursive expansion of nested messages in the
   request) can be classified into three types:
    (a) Matched in the URL template.
    (b) Covered by body (if body is `*`, everything except (a) fields;
        else everything under the body field)
    (c) All other fields.
3. URL query parameters found in the HTTP request are mapped to (c) fields.
4. Any body sent with an HTTP request can contain only (b) fields.

The syntax of the path template is as follows:


    Template = "/" Segments [ Verb ] ;
    Segments = Segment { "/" Segment } ;
    Segment  = "*" | "**" | LITERAL | Variable ;
    Variable = "{" FieldPath [ "=" Segments ] "}" ;
    FieldPath = IDENT { "." IDENT } ;
    Verb     = ":" LITERAL ;


The syntax `*` matches a single path segment. It follows the semantics of
[RFC 6570](https://tools.ietf.org/html/rfc6570) Section 3.2.2 Simple String
Expansion.

The syntax `**` matches zero or more path segments. It follows the semantics
of [RFC 6570](https://tools.ietf.org/html/rfc6570) Section 3.2.3 Reserved
Expansion. NOTE: it must be the last segment in the path except the Verb.

The syntax `LITERAL` matches literal text in the URL path.

The syntax `Variable` matches the entire path as specified by its template;
this nested template must not contain further variables. If a variable
matches a single path segment, its template may be omitted, e.g. `{var}`
is equivalent to `{var=*}`.

NOTE: the field paths in variables and in the `body` must not refer to
repeated fields or map fields.

Use CustomHttpPattern to specify any HTTP method that is not included in the
`pattern` field, such as HEAD, or "*" to leave the HTTP method unspecified for
a given URL path rule. The wild-card rule is useful for services that provide
content to Web (HTML) clients.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.HttpRule.selector"/>
 <tr>
  <td><code>selector</code></td>
  <td>string</td>
  <td><p>Selects methods to which this rule applies.</p><p>Refer to <a href="#google.api.DocumentationRule.selector">selector</a> for syntax details.</p></td>
 </tr>
<a name="google.api.HttpRule.body"/>
 <tr>
  <td><code>body</code></td>
  <td>string</td>
  <td>The name of the request field whose value is mapped to the HTTP body, or <code>*</code> for mapping all fields not captured by the path pattern to the HTTP body. NOTE: the referred field must not be a repeated field and must be present at the top-level of response message type.</td>
 </tr>
<a name="google.api.HttpRule.response_body"/>
 <tr>
  <td><code>response_body</code></td>
  <td>string</td>
  <td>The name of the response field whose value is mapped to the HTTP body of response. Other response fields are ignored. This field is optional. When not set, the response message will be used as HTTP body of response. NOTE: the referred field must be not a repeated field and must be present at the top-level of response message type.</td>
 </tr>
<a name="google.api.HttpRule.media_upload"/>
 <tr>
  <td><code>media_upload</code></td>
  <td><a href="#google.api.MediaUpload">MediaUpload</a></td>
  <td>Do not use this. For media support, add instead  as an API to your configuration.</td>
 </tr>
<a name="google.api.HttpRule.media_download"/>
 <tr>
  <td><code>media_download</code></td>
  <td><a href="#google.api.MediaDownload">MediaDownload</a></td>
  <td>Do not use this. For media support, add instead  as an API to your configuration.</td>
 </tr>
<a name="google.api.HttpRule.additional_bindings"/>
 <tr>
  <td><code>additional_bindings[]</code></td>
  <td>repeated <a href="#google.api.HttpRule">HttpRule</a></td>
  <td>Additional HTTP bindings for the selector. Nested bindings must not contain an <code>additional_bindings</code> field themselves (that is, the nesting may only be one level deep).</td>
 </tr>
<a name="google.api.HttpRule.get"/>
 <tr>
  <td><code>get</code></td>
  <td>string (oneof )</td>
  <td>Used for listing and getting information about resources.</td>
 </tr>
<a name="google.api.HttpRule.put"/>
 <tr>
  <td><code>put</code></td>
  <td>string (oneof )</td>
  <td>Used for updating a resource.</td>
 </tr>
<a name="google.api.HttpRule.post"/>
 <tr>
  <td><code>post</code></td>
  <td>string (oneof )</td>
  <td>Used for creating a resource.</td>
 </tr>
<a name="google.api.HttpRule.delete"/>
 <tr>
  <td><code>delete</code></td>
  <td>string (oneof )</td>
  <td>Used for deleting a resource.</td>
 </tr>
<a name="google.api.HttpRule.patch"/>
 <tr>
  <td><code>patch</code></td>
  <td>string (oneof )</td>
  <td>Used for updating a resource.</td>
 </tr>
<a name="google.api.HttpRule.custom"/>
 <tr>
  <td><code>custom</code></td>
  <td><a href="#google.api.CustomHttpPattern">CustomHttpPattern</a> (oneof )</td>
  <td>Custom pattern is used for defining custom verbs.</td>
 </tr>
</table>

<a name="google.api.JsonSchemaRule"/>
### JsonSchemaRule
Discovery rules for the JSON schemas.

By default, proto messages use [discovery.schema_name_template] to determine
how JSON schema names are generated in the discovery doc, and all reachable
JSON schemas will by default be included. This rule provides configurability
at proto message level to get around the limitation of not using namespace in
discovery document spec.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.JsonSchemaRule.selector"/>
 <tr>
  <td><code>selector</code></td>
  <td>string</td>
  <td>Selects the messages to which this rule applies.</td>
 </tr>
<a name="google.api.JsonSchemaRule.schema_name_template"/>
 <tr>
  <td><code>schema_name_template</code></td>
  <td>string</td>
  <td>A simple template which determines how JSON schema names are generated for proto messages. It will override the top-level schema_name_template.</td>
 </tr>
<a name="google.api.JsonSchemaRule.excluded"/>
 <tr>
  <td><code>excluded</code></td>
  <td>bool</td>
  <td>Set to true if the messages should be excluded from the generated discovery document. A typical use case is to use this field to exclude messages that are API version specific.</td>
 </tr>
</table>

<a name="google.api.JspbVariant"/>
### JspbVariant
The list of JSPB variants supported for translating request and response
messages.


<table>
 <tr>
  <th>Value</th>
  <th>Description</th>
 </tr>
<a name="google.api.JspbVariant.UNKNOWN"/>
 <tr>
  <td>UNKNOWN</td>
  <td>Default. Not using JSPB.</td>
 </tr>
<a name="google.api.JspbVariant.LITE"/>
 <tr>
  <td>LITE</td>
  <td>JSPB lite.</td>
 </tr>
<a name="google.api.JspbVariant.FAVA"/>
 <tr>
  <td>FAVA</td>
  <td>JSPB variant used by Fava JavaScript library.</td>
 </tr>
<a name="google.api.JspbVariant.GWT"/>
 <tr>
  <td>GWT</td>
  <td>JSPB variant used by GWT.</td>
 </tr>
</table>

<a name="google.api.LabelDescriptor"/>
### LabelDescriptor
A description of a label.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.LabelDescriptor.key"/>
 <tr>
  <td><code>key</code></td>
  <td>string</td>
  <td>The label key.</td>
 </tr>
<a name="google.api.LabelDescriptor.value_type"/>
 <tr>
  <td><code>value_type</code></td>
  <td><a href="#google.api.LabelDescriptor.ValueType">ValueType</a></td>
  <td>The type of data that can be assigned to the label.</td>
 </tr>
<a name="google.api.LabelDescriptor.description"/>
 <tr>
  <td><code>description</code></td>
  <td>string</td>
  <td>A human-readable description for the label.</td>
 </tr>
</table>

<a name="google.api.LabelDescriptor.ValueType"/>
### ValueType
Value types that can be used as label values.


<table>
 <tr>
  <th>Value</th>
  <th>Description</th>
 </tr>
<a name="google.api.LabelDescriptor.ValueType.STRING"/>
 <tr>
  <td>STRING</td>
  <td>A variable-length string. This is the default.</td>
 </tr>
<a name="google.api.LabelDescriptor.ValueType.BOOL"/>
 <tr>
  <td>BOOL</td>
  <td>Boolean; true or false.</td>
 </tr>
<a name="google.api.LabelDescriptor.ValueType.INT64"/>
 <tr>
  <td>INT64</td>
  <td>A 64-bit signed integer.</td>
 </tr>
</table>

<a name="google.api.Legacy"/>
### Legacy
`Legacy` defines configuration for downwards compatibility,
and for integrating with the Apiary v1 infrastructure.

Example:


    legacy:
      email: calendar-team@google.com
      oncall: calendar-oncall@google.com
      devconsole:
        example_url: "https://developers.google.com/apis-explorer/#search/bigquery/bigquery/v2/"
        learnmore_url: "https://cloud.google.com/bigquery/"
        pricing_link: "https://cloud.google.com/bigquery/pricing"
        request_quota_url: "https://docs.google.com/spreadsheet/viewform?formkey=abc123&entry_0={email}&entry_1={id}"

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.Legacy.email"/>
 <tr>
  <td><code>email</code></td>
  <td>string</td>
  <td>The email address for questions about your API. This is required by Apiary SREs.</td>
 </tr>
<a name="google.api.Legacy.oncall"/>
 <tr>
  <td><code>oncall</code></td>
  <td>string</td>
  <td>The email address that pages and alerts should be sent to. Apiary will automatically send alerts to this address if it notices a problem with your config or backend service.</td>
 </tr>
<a name="google.api.Legacy.mdb"/>
 <tr>
  <td><code>mdb</code></td>
  <td>string</td>
  <td>The mdb group that your backend runs under. Used for Apiary resource quota accouting (go/apiary-resources).</td>
 </tr>
<a name="google.api.Legacy.lower_camel_enums"/>
 <tr>
  <td><code>lower_camel_enums</code></td>
  <td>bool</td>
  <td>Whether enum values should be lower-cameled. This field should only be used for migrating Apiary APIs.</td>
 </tr>
<a name="google.api.Legacy.api_v1_name"/>
 <tr>
  <td><code>api_v1_name</code></td>
  <td>string</td>
  <td><p>For existing OnePlatform API, this field is the name of the API in Apiary v1. This needs to be provided if the name matching the devconsole configuration is not derivable from the DNS name. If this field is not provided, its value is derived using the same method as described for <a href="#google.api.Discovery.api_name">google.api.Discovery.api_name</a>.</p><p>This will be replaced by <a href="#google.api.Discovery.api_name">Discovery.api_name</a>.</p></td>
 </tr>
<a name="google.api.Legacy.devconsole"/>
 <tr>
  <td><code>devconsole</code></td>
  <td><a href="#google.api.Devconsole">Devconsole</a></td>
  <td>Legacy console configuration.</td>
 </tr>
<a name="google.api.Legacy.migration_strategy"/>
 <tr>
  <td><code>migration_strategy</code></td>
  <td><a href="#google.api.Legacy.MigrationStrategy">MigrationStrategy</a></td>
  <td>Specifies the migration strategy if a devconsole API whose token matches the api_v1_name in the legacy config section.</td>
 </tr>
<a name="google.api.Legacy.excluded_versions_in_package_path"/>
 <tr>
  <td><code>excluded_versions_in_package_path[]</code></td>
  <td>repeated string</td>
  <td>Starting from config_version 2, API version will by default be included in package path of the generated Apiary client libraries. This can mean a breaking change to users of launched APIs. API producer can opt to list current versions through this field, so that the listed versions will not be included in the package path. It is not recommended to list a new major version because versionless package path cause issues when there are multiple versions in your service.</td>
 </tr>
<a name="google.api.Legacy.demo_url"/>
 <tr>
  <td><code>demo_url</code></td>
  <td>string</td>
  <td>A "Try this API" URL. This could be a link to APIs Explorer or another similar API demo service.</td>
 </tr>
<a name="google.api.Legacy.control_plane_migration"/>
 <tr>
  <td><code>control_plane_migration</code></td>
  <td><a href="#google.api.ControlPlaneMigration">ControlPlaneMigration</a></td>
  <td>Settings to manage control plane migration from Usage Manager to Chemist.</td>
 </tr>
<a name="google.api.Legacy.use_v1_error_format"/>
 <tr>
  <td><code>use_v1_error_format</code></td>
  <td>bool</td>
  <td><p>If set, errors are always returned in legacy Apiary v1 format.</p><p>Most APIs that use Apiary client libraries get errors in v1 format automatically. However, some APIs have their own client libraries. If these require v1 error format, set this option.</p></td>
 </tr>
<a name="google.api.Legacy.hidden_from_list"/>
 <tr>
  <td><code>hidden_from_list</code></td>
  <td>bool</td>
  <td><p>If true, then the API will be invisible in the list of services.</p><p>It will remain visible in all other areas of the UI (e.g., billing, quotas, etc.).</p><p>This flag is intended to be used by legacy Apiary services. It <strong>must not</strong> be used for regular services.</p></td>
 </tr>
<a name="google.api.Legacy.bug_id"/>
 <tr>
  <td><code>bug_id</code></td>
  <td>string</td>
  <td>The latest "New API" tracking buganizer id for this API service. It is used for associating this API service with the go/api-launch process.</td>
 </tr>
<a name="google.api.Legacy.restricted_quota_bucket_trusted_testers"/>
 <tr>
  <td><code>restricted_quota_bucket_trusted_testers</code></td>
  <td>repeated map&lt;string, <a href="#google.api.Legacy.TrustedTesterList">TrustedTesterList</a>&gt;</td>
  <td>List of Trusted testers with access to restricted quota buckets. The map key is restricted quota bucket name that is being controlled.</td>
 </tr>
<a name="google.api.Legacy.uses_apiary_proxy"/>
 <tr>
  <td><code>uses_apiary_proxy</code></td>
  <td>bool</td>
  <td>This flag can be used by Pantheon to authoritatively determine that the given api is an Apiary api and customize the UI behavior as needed (See b2/30813984)</td>
 </tr>
</table>

<a name="google.api.Legacy.MigrationStrategy"/>
### MigrationStrategy
The strategy for the Google Service Management API (Inception) to handle
per-project settings for the Service if an Apiary API whose API
token matches the api_v1_name in the legacy config section.
See go/inception-migration for more details.


<table>
 <tr>
  <th>Value</th>
  <th>Description</th>
 </tr>
<a name="google.api.Legacy.MigrationStrategy.UNSPECIFIED"/>
 <tr>
  <td>UNSPECIFIED</td>
  <td>Default value. Inception will fail the CreateService API request if strategy is UNSPECIFIED and an Apiary API whose token matches api_v1_name.</td>
 </tr>
<a name="google.api.Legacy.MigrationStrategy.PREFER_APIARY"/>
 <tr>
  <td>PREFER_APIARY</td>
  <td>Whenever an Apiary API whose token matches api_v1_name, use that API's Apiary config to perform per-project operations.</td>
 </tr>
<a name="google.api.Legacy.MigrationStrategy.PREFER_ONEPLATFORM"/>
 <tr>
  <td>PREFER_ONEPLATFORM</td>
  <td>Whenever an Apiary API whose token matches api_v1_name, use the OnePlatform service config to perform per-project operations.</td>
 </tr>
</table>

<a name="google.api.Legacy.TrustedTesterList"/>
### TrustedTesterList

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.Legacy.TrustedTesterList.gaia_group_ids"/>
 <tr>
  <td><code>gaia_group_ids[]</code></td>
  <td>repeated int64</td>
  <td>Users that are members of the gaia group are considered trusted testers</td>
 </tr>
</table>

<a name="google.api.LogDescriptor"/>
### LogDescriptor
A description of a log type. Example in YAML format:


    - name: library.googleapis.com/activity_history
      description: The history of borrowing and returning library items.
      display_name: Activity
      labels:
      - key: /customer_id
        description: Identifier of a library customer

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.LogDescriptor.name"/>
 <tr>
  <td><code>name</code></td>
  <td>string</td>
  <td>The name of the log. It must be less than 512 characters long and can include the following characters: upper- and lower-case alphanumeric characters [A-Za-z0-9], and punctuation characters including slash, underscore, hyphen, period [/_-.].</td>
 </tr>
<a name="google.api.LogDescriptor.labels"/>
 <tr>
  <td><code>labels[]</code></td>
  <td>repeated <a href="#google.api.LabelDescriptor">LabelDescriptor</a></td>
  <td>The set of labels that are available to describe a specific log entry. Runtime requests that contain labels not specified here are considered invalid.</td>
 </tr>
<a name="google.api.LogDescriptor.description"/>
 <tr>
  <td><code>description</code></td>
  <td>string</td>
  <td>A human-readable description of this log. This information appears in the documentation and can contain details.</td>
 </tr>
<a name="google.api.LogDescriptor.display_name"/>
 <tr>
  <td><code>display_name</code></td>
  <td>string</td>
  <td>The human-readable name for this log. This information appears on the user interface and should be concise.</td>
 </tr>
</table>

<a name="google.api.Logging"/>
### Logging
Logging configuration of the service.

The following example shows how to configure logs to be sent to the
producer and consumer projects. In the example, the `activity_history`
log is sent to both the producer and consumer projects, whereas the
`purchase_history` log is only sent to the producer project.


    monitored_resources:
    - type: library.googleapis.com/branch
      labels:
      - key: /city
        description: The city where the library branch is located in.
      - key: /name
        description: The name of the branch.
    logs:
    - name: activity_history
      labels:
      - key: /customer_id
    - name: purchase_history
    logging:
      producer_destinations:
      - monitored_resource: library.googleapis.com/branch
        logs:
        - activity_history
        - purchase_history
      consumer_destinations:
      - monitored_resource: library.googleapis.com/branch
        logs:
        - activity_history

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.Logging.producer_destinations"/>
 <tr>
  <td><code>producer_destinations[]</code></td>
  <td>repeated <a href="#google.api.Logging.LoggingDestination">LoggingDestination</a></td>
  <td>Logging configurations for sending logs to the producer project. There can be multiple producer destinations, each one must have a different monitored resource type. A log can be used in at most one producer destination.</td>
 </tr>
<a name="google.api.Logging.consumer_destinations"/>
 <tr>
  <td><code>consumer_destinations[]</code></td>
  <td>repeated <a href="#google.api.Logging.LoggingDestination">LoggingDestination</a></td>
  <td>Logging configurations for sending logs to the consumer project. There can be multiple consumer destinations, each one must have a different monitored resource type. A log can be used in at most one consumer destination.</td>
 </tr>
</table>

<a name="google.api.Logging.LoggingDestination"/>
### LoggingDestination
Configuration of a specific logging destination (the producer project
or the consumer project).

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.Logging.LoggingDestination.monitored_resource"/>
 <tr>
  <td><code>monitored_resource</code></td>
  <td>string</td>
  <td>The monitored resource type. The type must be defined in the <a href="#google.api.Service.monitored_resources">Service.monitored_resources</a> section.</td>
 </tr>
<a name="google.api.Logging.LoggingDestination.logs"/>
 <tr>
  <td><code>logs[]</code></td>
  <td>repeated string</td>
  <td>Names of the logs to be sent to this destination. Each name must be defined in the <a href="#google.api.Service.logs">Service.logs</a> section. If the log name is not a domain scoped name, it will be automatically prefixed with the service name followed by "/".</td>
 </tr>
<a name="google.api.Logging.LoggingDestination.acl"/>
 <tr>
  <td><code>acl</code></td>
  <td><a href="#google.api.ServiceControlAccess">ServiceControlAccess</a></td>
  <td>Configuration of the access control check behavior when reporting logs to this destination.</td>
 </tr>
</table>

<a name="google.api.MediaDownload"/>
### MediaDownload
Do not use this. For media support, add instead
 as an API to your
configuration.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.MediaDownload.enabled"/>
 <tr>
  <td><code>enabled</code></td>
  <td>bool</td>
  <td>Whether download is enabled.</td>
 </tr>
</table>

<a name="google.api.MediaUpload"/>
### MediaUpload
Do not use this. For media support, add instead
 as an API to your
configuration.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.MediaUpload.enabled"/>
 <tr>
  <td><code>enabled</code></td>
  <td>bool</td>
  <td>Whether upload is enabled.</td>
 </tr>
</table>

<a name="google.api.MessageLimitsRule"/>
### MessageLimitsRule
Configurations for request/response payload limits. Request limit is enforced
on the request payload received from the client and response limit is
enforced on the response payload to be sent back to the client. By default,
or if a limit value is smaller or equals to 0, the limit is disabled.

Example:
  experimental:
    advanced:
      message_limits_rules:
      - selector: google.library.v1.LibraryService.*
        request_limit: 1024000
        response_limit: 1024000

Note: For compressed HTTP request payload, HTTPServer2 applies a global size
limit for each uncompressed message, set by --max_uncompress_bytes (default
1M). That is overridden to request_limit if it is greater than 0.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.MessageLimitsRule.selector"/>
 <tr>
  <td><code>selector</code></td>
  <td>string</td>
  <td><p>Selects the methods to which this rule applies.</p><p>Refer to <a href="#google.api.DocumentationRule.selector">selector</a> for syntax details.</p></td>
 </tr>
<a name="google.api.MessageLimitsRule.request_limit"/>
 <tr>
  <td><code>request_limit</code></td>
  <td>int32</td>
  <td>The maximum number of bytes allowed in the request payload received from client.</td>
 </tr>
<a name="google.api.MessageLimitsRule.response_limit"/>
 <tr>
  <td><code>response_limit</code></td>
  <td>int32</td>
  <td>The maximum number of bytes allowed in the response payload to be sent back to client.</td>
 </tr>
</table>

<a name="google.api.MetricDescriptor"/>
### MetricDescriptor
Defines a metric type and its schema. Once a metric descriptor is created,
deleting or altering it stops data collection and makes the metric type's
existing data unusable.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.MetricDescriptor.name"/>
 <tr>
  <td><code>name</code></td>
  <td>string</td>
  <td><p>The resource name of the metric descriptor. Depending on the implementation, the name typically includes: (1) the parent resource name that defines the scope of the metric type or of its data; and (2) the metric's URL-encoded type, which also appears in the <code>type</code> field of this descriptor. For example, following is the resource name of a custom metric within the GCP project 123456789:</p>
<pre><code>&quot;projects/123456789/metricDescriptors/custom.googleapis.com%2Finvoice%2Fpaid%2Famount&quot;
</code></pre></td>
 </tr>
<a name="google.api.MetricDescriptor.type"/>
 <tr>
  <td><code>type</code></td>
  <td>string</td>
  <td><p>The metric type, including its DNS name prefix. The type is not URL-encoded. All user-defined metric types have the DNS name <code>custom.googleapis.com</code>. Metric types should use a natural hierarchical grouping. For example:</p>
<pre><code>&quot;custom.googleapis.com/invoice/paid/amount&quot;
&quot;appengine.googleapis.com/http/server/response_latencies&quot;
</code></pre></td>
 </tr>
<a name="google.api.MetricDescriptor.labels"/>
 <tr>
  <td><code>labels[]</code></td>
  <td>repeated <a href="#google.api.LabelDescriptor">LabelDescriptor</a></td>
  <td>The set of labels that can be used to describe a specific instance of this metric type. For example, the <code>appengine.googleapis.com/http/server/response_latencies</code> metric type has a label for the HTTP response code, <code>response_code</code>, so you can look at latencies for successful responses or just for responses that failed.</td>
 </tr>
<a name="google.api.MetricDescriptor.metric_kind"/>
 <tr>
  <td><code>metric_kind</code></td>
  <td><a href="#google.api.MetricDescriptor.MetricKind">MetricKind</a></td>
  <td>Whether the metric records instantaneous values, changes to a value, etc. Some combinations of <code>metric_kind</code> and <code>value_type</code> might not be supported.</td>
 </tr>
<a name="google.api.MetricDescriptor.value_type"/>
 <tr>
  <td><code>value_type</code></td>
  <td><a href="#google.api.MetricDescriptor.ValueType">ValueType</a></td>
  <td>Whether the measurement is an integer, a floating-point number, etc. Some combinations of <code>metric_kind</code> and <code>value_type</code> might not be supported.</td>
 </tr>
<a name="google.api.MetricDescriptor.unit"/>
 <tr>
  <td><code>unit</code></td>
  <td>string</td>
  <td><p>The unit in which the metric value is reported. It is only applicable if the <code>value_type</code> is <code>INT64</code>, <code>DOUBLE</code>, or <code>DISTRIBUTION</code>. The supported units are a subset of <a href="http://unitsofmeasure.org/ucum.html">The Unified Code for Units of Measure</a> standard:</p><p><strong>Basic units (UNIT)</strong></p>
<ul>
  <li><code>bit</code> bit</li>
  <li><code>By</code> byte</li>
  <li><code>s</code> second</li>
  <li><code>min</code> minute</li>
  <li><code>h</code> hour</li>
  <li><code>d</code> day</li>
</ul><p><strong>Prefixes (PREFIX)</strong></p>
<ul>
  <li><code>k</code> kilo (10**3)</li>
  <li><code>M</code> mega (10**6)</li>
  <li><code>G</code> giga (10**9)</li>
  <li><code>T</code> tera (10**12)</li>
  <li><code>P</code> peta (10**15)</li>
  <li><code>E</code> exa (10**18)</li>
  <li><code>Z</code> zetta (10**21)</li>
  <li><code>Y</code> yotta (10**24)</li>
  <li><code>m</code> milli (10**-3)</li>
  <li><code>u</code> micro (10**-6)</li>
  <li><code>n</code> nano (10**-9)</li>
  <li><code>p</code> pico (10**-12)</li>
  <li><code>f</code> femto (10**-15)</li>
  <li><code>a</code> atto (10**-18)</li>
  <li><code>z</code> zepto (10**-21)</li>
  <li><code>y</code> yocto (10**-24)</li>
  <li><code>Ki</code> kibi (2**10)</li>
  <li><code>Mi</code> mebi (2**20)</li>
  <li><code>Gi</code> gibi (2**30)</li>
  <li><code>Ti</code> tebi (2**40)</li>
</ul><p><strong>Grammar</strong></p><p>The grammar includes the dimensionless unit <code>1</code>, such as <code>1/s</code>.</p><p>The grammar also includes these connectors:</p>
<ul>
  <li><code>/</code> division (as an infix operator, e.g. <code>1/s</code>).</li>
  <li><code>.</code> multiplication (as an infix operator, e.g. <code>GBy.d</code>)</li>
</ul><p>The grammar for a unit is as follows:</p>
<pre><code>Expression = Component { &quot;.&quot; Component } { &quot;/&quot; Component } ;

Component = [ PREFIX ] UNIT [ Annotation ]
          | Annotation
          | &quot;1&quot;
          ;

Annotation = &quot;{&quot; NAME &quot;}&quot; ;
</code></pre><p>Notes:</p>
<ul>
  <li><code>Annotation</code> is just a comment if it follows a <code>UNIT</code> and is  equivalent to <code>1</code> if it is used alone. For examples,  <code>{requests}/s == 1/s</code>, <code>By{transmitted}/s == By/s</code>.</li>
  <li><code>NAME</code> is a sequence of non-blank printable ASCII characters not  containing '{' or '}'.</li>
</ul></td>
 </tr>
<a name="google.api.MetricDescriptor.description"/>
 <tr>
  <td><code>description</code></td>
  <td>string</td>
  <td>A detailed description of the metric, which can be used in documentation.</td>
 </tr>
<a name="google.api.MetricDescriptor.display_name"/>
 <tr>
  <td><code>display_name</code></td>
  <td>string</td>
  <td>A concise name for the metric, which can be displayed in user interfaces. Use sentence case without an ending period, for example "Request count".</td>
 </tr>
</table>

<a name="google.api.MetricDescriptor.MetricKind"/>
### MetricKind
The kind of measurement. It describes how the data is reported.


<table>
 <tr>
  <th>Value</th>
  <th>Description</th>
 </tr>
<a name="google.api.MetricDescriptor.MetricKind.METRIC_KIND_UNSPECIFIED"/>
 <tr>
  <td>METRIC_KIND_UNSPECIFIED</td>
  <td>Do not use this default value.</td>
 </tr>
<a name="google.api.MetricDescriptor.MetricKind.GAUGE"/>
 <tr>
  <td>GAUGE</td>
  <td>An instantaneous measurement of a value.</td>
 </tr>
<a name="google.api.MetricDescriptor.MetricKind.DELTA"/>
 <tr>
  <td>DELTA</td>
  <td>The change in a value during a time interval.</td>
 </tr>
<a name="google.api.MetricDescriptor.MetricKind.CUMULATIVE"/>
 <tr>
  <td>CUMULATIVE</td>
  <td>A value accumulated over a time interval. Cumulative measurements in a time series should have the same start time and increasing end times, until an event resets the cumulative value to zero and sets a new start time for the following points.</td>
 </tr>
</table>

<a name="google.api.MetricDescriptor.ValueType"/>
### ValueType
The value type of a metric.


<table>
 <tr>
  <th>Value</th>
  <th>Description</th>
 </tr>
<a name="google.api.MetricDescriptor.ValueType.VALUE_TYPE_UNSPECIFIED"/>
 <tr>
  <td>VALUE_TYPE_UNSPECIFIED</td>
  <td>Do not use this default value.</td>
 </tr>
<a name="google.api.MetricDescriptor.ValueType.BOOL"/>
 <tr>
  <td>BOOL</td>
  <td>The value is a boolean. This value type can be used only if the metric kind is <code>GAUGE</code>.</td>
 </tr>
<a name="google.api.MetricDescriptor.ValueType.INT64"/>
 <tr>
  <td>INT64</td>
  <td>The value is a signed 64-bit integer.</td>
 </tr>
<a name="google.api.MetricDescriptor.ValueType.DOUBLE"/>
 <tr>
  <td>DOUBLE</td>
  <td>The value is a double precision floating point number.</td>
 </tr>
<a name="google.api.MetricDescriptor.ValueType.STRING"/>
 <tr>
  <td>STRING</td>
  <td>The value is a text string. This value type can be used only if the metric kind is <code>GAUGE</code>.</td>
 </tr>
<a name="google.api.MetricDescriptor.ValueType.DISTRIBUTION"/>
 <tr>
  <td>DISTRIBUTION</td>
  <td>The value is a <code>Distribution</code>.</td>
 </tr>
<a name="google.api.MetricDescriptor.ValueType.MONEY"/>
 <tr>
  <td>MONEY</td>
  <td>The value is money.</td>
 </tr>
</table>

<a name="google.api.MetricRule"/>
### MetricRule
Bind API methods to metrics. Binding a method to a metric causes that
metric's configured quota, billing, and monitoring behaviors to apply to the
method call.

CURRENTLY UNDER DEVELOPMENT. DO NOT USE IT UNTIL THIS WARNING IS REMOVED.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.MetricRule.selector"/>
 <tr>
  <td><code>selector</code></td>
  <td>string</td>
  <td><p>Selects the methods to which this rule applies.</p><p>Refer to <a href="#google.api.DocumentationRule.selector">selector</a> for syntax details.</p></td>
 </tr>
<a name="google.api.MetricRule.metric_costs"/>
 <tr>
  <td><code>metric_costs</code></td>
  <td>repeated map&lt;string, int64&gt;</td>
  <td><p>Metrics to update when the selected methods are called, and the associated cost applied to each metric.</p><p>The key of the map is the metric name, and the values are the amount increased for the metric against which the quota limits are defined. The value must not be negative.</p></td>
 </tr>
</table>

<a name="google.api.Migration"/>
### Migration
`Migration` defines the Apiary to One Platform configuration.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.Migration.errors"/>
 <tr>
  <td><code>errors</code></td>
  <td>repeated map&lt;string, <a href="#google.api.ErrorDomain">ErrorDomain</a>&gt;</td>
  <td>Apiary-style backend-to-external error mappings. See go/apiary-config for documentation. map of error domain name to error mappings in that domain</td>
 </tr>
<a name="google.api.Migration.rules"/>
 <tr>
  <td><code>rules[]</code></td>
  <td>repeated <a href="#google.api.MigrationRule">MigrationRule</a></td>
  <td><p>A list of migration rules that apply to individual API methods.</p><p><strong>NOTE:</strong> All service configuration rules follow "last one wins" order.</p></td>
 </tr>
<a name="google.api.Migration.prefer_distrib_discovery"/>
 <tr>
  <td><code>prefer_distrib_discovery</code></td>
  <td>bool</td>
  <td>ATTENTION: DO NOT set this field without consulting One Platform team. This field should only be used by APIs migrated from Apiary or One Platform (Usage Manager) to One Platform (Chemist). When this field is set to true, ESF Discovery url will be listed in the public directory of discovery documents. At the same time, requests to legacy discovery endpoint will return discovery document from ESF Discovery via GFE internal redirect.</td>
 </tr>
</table>

<a name="google.api.MigrationRule"/>
### MigrationRule
Specifies the migration attributes on API method(s).  Note that it can only
be applied to API methods and these attributes should only be set when
migrating Apiary APIs to One Platform.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.MigrationRule.selector"/>
 <tr>
  <td><code>selector</code></td>
  <td>string</td>
  <td><p>Selects the API methods to which this rule applies. Use '*' to indicate all methods in all APIs.</p><p>Refer to <a href="#google.api.DocumentationRule.selector">selector</a> for syntax details.</p></td>
 </tr>
<a name="google.api.MigrationRule.lower_camel_enums"/>
 <tr>
  <td><code>lower_camel_enums</code></td>
  <td>bool</td>
  <td>Whether enum values will be lower-cameled.</td>
 </tr>
<a name="google.api.MigrationRule.use_v1_error_format"/>
 <tr>
  <td><code>use_v1_error_format</code></td>
  <td>bool</td>
  <td><p>If set, errors are returned in legacy Apiary v1 format by default.</p><p>Most APIs that use Apiary client libraries get errors in v1 format automatically. However, some APIs have their own client libraries. If these require v1 error format, set this option.</p></td>
 </tr>
<a name="google.api.MigrationRule.use_web_safe_base64_for_byte_fields"/>
 <tr>
  <td><code>use_web_safe_base64_for_byte_fields</code></td>
  <td>bool</td>
  <td>Forces the translator to use web-safe base64 encoding for byte fields. Default is to use regular base64 encoding.</td>
 </tr>
<a name="google.api.MigrationRule.ignore_unknown_fields"/>
 <tr>
  <td><code>ignore_unknown_fields</code></td>
  <td>bool</td>
  <td>If set, ESF will ignore fields in the request that don't correspond to known fields in proto definition of the request type.</td>
 </tr>
<a name="google.api.MigrationRule.suppress_empty_repeated_fields"/>
 <tr>
  <td><code>suppress_empty_repeated_fields</code></td>
  <td>bool</td>
  <td>When output_all_primitive_fields_to_json is set to true and there are no elements for a repeated field, ESF will return an empty list. If this migration option is set, ESF will remove such a repeated field from its responses for the annotated method.</td>
 </tr>
<a name="google.api.MigrationRule.skip_activation_check"/>
 <tr>
  <td><code>skip_activation_check</code></td>
  <td>bool</td>
  <td>Indicates if service activation check should be skipped for the client project. Default behavior is to perform the check and apply relevant quota.</td>
 </tr>
<a name="google.api.MigrationRule.allow_unregistered_requests"/>
 <tr>
  <td><code>allow_unregistered_requests</code></td>
  <td>bool</td>
  <td>Indicates if unregistered requests should be allowed. This setting is relevant only if allow_without_credential is enabled for this method.</td>
 </tr>
<a name="google.api.MigrationRule.return_204_for_empty_response"/>
 <tr>
  <td><code>return_204_for_empty_response</code></td>
  <td>bool</td>
  <td>If this option is true and an HTTP response has no body and the operation is successful, return 204 status code. If not set, 200 status code is returned for a successful response.</td>
 </tr>
<a name="google.api.MigrationRule.allow_int_to_string_conversion"/>
 <tr>
  <td><code>allow_int_to_string_conversion</code></td>
  <td>bool</td>
  <td>If true, automatic type conversion from integer types in JSON payload to string is performed. Default behavior is to not allow such conversions.</td>
 </tr>
<a name="google.api.MigrationRule.apiary_method_name"/>
 <tr>
  <td><code>apiary_method_name</code></td>
  <td>string</td>
  <td>Set to the name Apiary would use to identify this message (e.g. for UsageManager purposes). If specified, it will end up in the ESF request context google.rpc.context.ApiaryMigrationContext for the backend service.</td>
 </tr>
<a name="google.api.MigrationRule.return_403_for_quota_errors"/>
 <tr>
  <td><code>return_403_for_quota_errors</code></td>
  <td>bool</td>
  <td>Return HTTP 403 (Forbidden) instead of 429 (Too many requests) on quota exhausted errors.</td>
 </tr>
<a name="google.api.MigrationRule.allow_http_multipart_form_data"/>
 <tr>
  <td><code>allow_http_multipart_form_data</code></td>
  <td>bool</td>
  <td>Allows sending data as Content-Type: multipart/form-data with Content-disposition: form-data; name=foo data in HTTP body.</td>
 </tr>
</table>

<a name="google.api.MonitoredResourceDescriptor"/>
### MonitoredResourceDescriptor
An object that describes the schema of a [MonitoredResource](#google.api.MonitoredResource) object using a
type name and a set of labels.  For example, the monitored resource
descriptor for Google Compute Engine VM instances has a type of
`"gce_instance"` and specifies the use of the labels `"instance_id"` and
`"zone"` to identify particular VM instances.

Different APIs can support different monitored resource types. APIs generally
provide a `list` method that returns the monitored resource descriptors used
by the API.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.MonitoredResourceDescriptor.name"/>
 <tr>
  <td><code>name</code></td>
  <td>string</td>
  <td>Optional. The resource name of the monitored resource descriptor: <code>&quot;projects/{project_id}/monitoredResourceDescriptors/{type}&quot;</code> where {type} is the value of the <code>type</code> field in this object and {project_id} is a project ID that provides API-specific context for accessing the type. APIs that do not use project information can use the resource name format <code>&quot;monitoredResourceDescriptors/{type}&quot;</code>.</td>
 </tr>
<a name="google.api.MonitoredResourceDescriptor.type"/>
 <tr>
  <td><code>type</code></td>
  <td>string</td>
  <td>Required. The monitored resource type. For example, the type <code>&quot;cloudsql_database&quot;</code> represents databases in Google Cloud SQL. The maximum length of this value is 256 characters.</td>
 </tr>
<a name="google.api.MonitoredResourceDescriptor.display_name"/>
 <tr>
  <td><code>display_name</code></td>
  <td>string</td>
  <td>Optional. A concise name for the monitored resource type that might be displayed in user interfaces. It should be a Title Cased Noun Phrase, without any article or other determiners. For example, <code>&quot;Google Cloud SQL Database&quot;</code>.</td>
 </tr>
<a name="google.api.MonitoredResourceDescriptor.description"/>
 <tr>
  <td><code>description</code></td>
  <td>string</td>
  <td>Optional. A detailed description of the monitored resource type that might be used in documentation.</td>
 </tr>
<a name="google.api.MonitoredResourceDescriptor.labels"/>
 <tr>
  <td><code>labels[]</code></td>
  <td>repeated <a href="#google.api.LabelDescriptor">LabelDescriptor</a></td>
  <td>Required. A set of labels used to describe instances of this monitored resource type. For example, an individual Google Cloud SQL database is identified by values for the labels <code>&quot;database_id&quot;</code> and <code>&quot;zone&quot;</code>.</td>
 </tr>
</table>

<a name="google.api.Monitoring"/>
### Monitoring
Monitoring configuration of the service.

The example below shows how to configure monitored resources and metrics
for monitoring. In the example, a monitored resource and two metrics are
defined. The `library.googleapis.com/book/returned_count` metric is sent
to both producer and consumer projects, whereas the
`library.googleapis.com/book/overdue_count` metric is only sent to the
consumer project.


    monitored_resources:
    - type: library.googleapis.com/branch
      labels:
      - key: /city
        description: The city where the library branch is located in.
      - key: /name
        description: The name of the branch.
    metrics:
    - name: library.googleapis.com/book/returned_count
      metric_kind: DELTA
      value_type: INT64
      labels:
      - key: /customer_id
    - name: library.googleapis.com/book/overdue_count
      metric_kind: GAUGE
      value_type: INT64
      labels:
      - key: /customer_id
    monitoring:
      producer_destinations:
      - monitored_resource: library.googleapis.com/branch
        metrics:
        - library.googleapis.com/book/returned_count
      consumer_destinations:
      - monitored_resource: library.googleapis.com/branch
        metrics:
        - library.googleapis.com/book/returned_count
        - library.googleapis.com/book/overdue_count

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.Monitoring.producer_destinations"/>
 <tr>
  <td><code>producer_destinations[]</code></td>
  <td>repeated <a href="#google.api.Monitoring.MonitoringDestination">MonitoringDestination</a></td>
  <td>Monitoring configurations for sending metrics to the producer project. There can be multiple producer destinations, each one must have a different monitored resource type. A metric can be used in at most one producer destination.</td>
 </tr>
<a name="google.api.Monitoring.consumer_destinations"/>
 <tr>
  <td><code>consumer_destinations[]</code></td>
  <td>repeated <a href="#google.api.Monitoring.MonitoringDestination">MonitoringDestination</a></td>
  <td>Monitoring configurations for sending metrics to the consumer project. There can be multiple consumer destinations, each one must have a different monitored resource type. A metric can be used in at most one consumer destination.</td>
 </tr>
</table>

<a name="google.api.Monitoring.MonitoringDestination"/>
### MonitoringDestination
Configuration of a specific monitoring destination (the producer project
or the consumer project).

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.Monitoring.MonitoringDestination.monitored_resource"/>
 <tr>
  <td><code>monitored_resource</code></td>
  <td>string</td>
  <td>The monitored resource type. The type must be defined in <a href="#google.api.Service.monitored_resources">Service.monitored_resources</a> section.</td>
 </tr>
<a name="google.api.Monitoring.MonitoringDestination.metrics"/>
 <tr>
  <td><code>metrics[]</code></td>
  <td>repeated string</td>
  <td>Names of the metrics to report to this monitoring destination. Each name must be defined in <a href="#google.api.Service.metrics">Service.metrics</a> section.</td>
 </tr>
<a name="google.api.Monitoring.MonitoringDestination.acl"/>
 <tr>
  <td><code>acl</code></td>
  <td><a href="#google.api.ServiceControlAccess">ServiceControlAccess</a></td>
  <td>Configuration of the access control check behavior when reporting metrics to this monitoring destination.</td>
 </tr>
</table>

<a name="google.api.OAuthRequirements"/>
### OAuthRequirements
OAuth scopes are a way to define data and permissions on data. For example,
there are scopes defined for "Read-only access to Google Calendar" and
"Access to Cloud Platform". Users can consent to a scope for an application,
giving it permission to access that data on their behalf.

OAuth scope specifications should be fairly coarse grained; a user will need
to see and understand the text description of what your scope means.

In most cases: use one or at most two OAuth scopes for an entire family of
products. If your product has multiple APIs, you should probably be sharing
the OAuth scope across all of those APIs.

When you need finer grained OAuth consent screens: talk with your product
management about how developers will use them in practice.

Please note that even though each of the canonical scopes is enough for a
request to be accepted and passed to the backend, a request can still fail
due to the backend requiring additional scopes or permissions.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.OAuthRequirements.canonical_scopes"/>
 <tr>
  <td><code>canonical_scopes</code></td>
  <td>string</td>
  <td><p>The list of publicly documented OAuth scopes that are allowed access. An OAuth token containing any of these scopes will be accepted.</p><p>Example:</p>
<pre><code> canonical_scopes: https://www.googleapis.com/auth/calendar,
                   https://www.googleapis.com/auth/calendar.read
</code></pre></td>
 </tr>
</table>

<a name="google.api.Page"/>
### Page
Represents a documentation page. A page can contain subpages to represent
nested documentation set structure.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.Page.name"/>
 <tr>
  <td><code>name</code></td>
  <td>string</td>
  <td><p>The name of the page. It will be used as an identity of the page to generate URI of the page, text of the link to this page in navigation, etc. The full page name (start from the root page name to this page concatenated with <code>.</code>) can be used as reference to the page in your documentation. For example:</p>
<pre><code>pages:
- name: Tutorial
  content: &#40;== include tutorial.md ==&#41;
  subpages:
  - name: Java
    content: &#40;== include tutorial_java.md ==&#41;
</code></pre><p>You can reference <code>Java</code> page using Markdown reference link syntax: <code>Java</code>.</p></td>
 </tr>
<a name="google.api.Page.content"/>
 <tr>
  <td><code>content</code></td>
  <td>string</td>
  <td>The Markdown content of the page. You can use <code>&#40;== include {path} ==&#41;</code> to include content from a Markdown file.</td>
 </tr>
<a name="google.api.Page.subpages"/>
 <tr>
  <td><code>subpages[]</code></td>
  <td>repeated <a href="#google.api.Page">Page</a></td>
  <td>Subpages of this page. The order of subpages specified here will be honored in the generated docset.</td>
 </tr>
</table>

<a name="google.api.ProjectProperties"/>
### ProjectProperties
A descriptor for defining project properties for a service. One service may
have many consumer projects, and the service may want to behave differently
depending on some properties on the project. For example, a project may be
associated with a school, or a business, or a government agency, a business
type property on the project may affect how a service responds to the client.
This descriptor defines which properties are allowed to be set on a project.

Example:

   project_properties:
     properties:
     - name: NO_WATERMARK
       type: BOOL
       description: Allows usage of the API without watermarks.
     - name: EXTENDED_TILE_CACHE_PERIOD
       type: INT64

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.ProjectProperties.properties"/>
 <tr>
  <td><code>properties[]</code></td>
  <td>repeated <a href="#google.api.Property">Property</a></td>
  <td>List of per consumer project-specific properties.</td>
 </tr>
</table>

<a name="google.api.Property"/>
### Property
Defines project properties.

API services can define properties that can be assigned to consumer projects
so that backends can perform response customization without having to make
additional calls or maintain additional storage. For example, Maps API
defines properties that controls map tile cache period, or whether to embed a
watermark in a result.

These values can be set via API producer console. Only API providers can
define and set these properties.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.Property.name"/>
 <tr>
  <td><code>name</code></td>
  <td>string</td>
  <td>The name of the property (a.k.a key).</td>
 </tr>
<a name="google.api.Property.type"/>
 <tr>
  <td><code>type</code></td>
  <td><a href="#google.api.Property.PropertyType">PropertyType</a></td>
  <td>The type of this property.</td>
 </tr>
<a name="google.api.Property.description"/>
 <tr>
  <td><code>description</code></td>
  <td>string</td>
  <td>The description of the property</td>
 </tr>
</table>

<a name="google.api.Property.PropertyType"/>
### PropertyType
Supported data type of the property values


<table>
 <tr>
  <th>Value</th>
  <th>Description</th>
 </tr>
<a name="google.api.Property.PropertyType.UNSPECIFIED"/>
 <tr>
  <td>UNSPECIFIED</td>
  <td>The type is unspecified, and will result in an error.</td>
 </tr>
<a name="google.api.Property.PropertyType.INT64"/>
 <tr>
  <td>INT64</td>
  <td>The type is <code>int64</code>.</td>
 </tr>
<a name="google.api.Property.PropertyType.BOOL"/>
 <tr>
  <td>BOOL</td>
  <td>The type is <code>bool</code>.</td>
 </tr>
<a name="google.api.Property.PropertyType.STRING"/>
 <tr>
  <td>STRING</td>
  <td>The type is <code>string</code>.</td>
 </tr>
<a name="google.api.Property.PropertyType.DOUBLE"/>
 <tr>
  <td>DOUBLE</td>
  <td>The type is 'double'.</td>
 </tr>
</table>

<a name="google.api.Quota"/>
### Quota
Quota configuration helps to achieve fairness and budgeting in service
usage.

- Fairness is achieved through the use of short-term quota limits
  that are usually defined over a time window of several seconds or
  minutes. When such a limit is applied, for example at the user
  level, it ensures that no single user will monopolize the service
  or a given customer's allocated portion of it.
- Budgeting is achieved through the use of long-term quota limits
  that are usually defined over a time window of one or more
  days. These limits help client application developers predict the
  usage and help budgeting.

Quota enforcement uses a simple token-based algorithm for resource sharing.

The quota configuration structure is as follows:

- `QuotaLimit` defines a single enforceable limit with a specified
  token amount that can be consumed over a specific duration and
  applies to a particular entity, like a project or an end user. If
  the limit applies to a user, each user making the request will
  get the specified number of tokens to consume. When the tokens
  run out, the requests from that user will be blocked until the
  duration elapses and the next duration window starts.

- `QuotaGroup` groups a set of quota limits.

- `QuotaRule` maps a method to a set of quota groups. This allows
  sharing of quota groups across methods as well as one method
  consuming tokens from more than one quota group. When a group
  contains multiple limits, requests to a method consuming tokens
  from that group must satisfy all the limits in that group.

Example:


    quota:
      groups:
      - name: ReadGroup
        description: Read requests
        limits:
        - name: ProjectQps
          default_limit: 10000
          duration: 100s
          limit_by: CLIENT_PROJECT

        - name: UserQps
          default_limit: 200
          duration: 100s
          limit_by: USER

      - name: WriteGroup
        description: Write requests
        limits:
        - name: ProjectQps
          default_limit: 1000
          max_limit: 2000
          duration: 100s
          limit_by: CLIENT_PROJECT

        - name: UserQps
          default_limit: 200
          max_limit: 400
          duration: 100s
          limit_by: USER

      rules:
      - selector: "*"
        groups:
        - group: ReadGroup
      - selector: google.calendar.Calendar.Update
        groups:
        - group: WriteGroup
          cost: 2
      - selector: google.calendar.Calendar.Delete
        groups:
        - group: WriteGroup


Here, the configuration defines two quota groups: ReadGroup and WriteGroup,
each defining its own per-second and per-second-per-user limits. Note that
One Platform enforces per-second limits averaged over 100 second window. The
rules map ReadGroup for all methods, except for Update and Delete.
These two methods consume from WriteGroup, with Update method consuming at
twice the rate as Delete method.

Multiple quota groups can be specified for a method. The quota limits in all
of those groups will be enforced. Example:


    quota:
      groups:
      - name: WriteGroup
        description: Write requests
        limits:
        - name: ProjectQps
          default_limit: 1000
          max_limit: 1000
          duration: 100s
          limit_by: CLIENT_PROJECT

        - name: UserQps
          default_limit: 200
          max_limit: 400
          duration: 100s
          limit_by: USER

      - name: StorageGroup
        description: Storage requests
        limits:
        - name: StorageQuota
          default_limit: 1000
          duration: 0
          limit_by: USER

      rules:
      - selector: google.calendar.Calendar.Create
        groups:
        - group: StorageGroup
        - group: WriteGroup
      - selector: google.calendar.Calendar.Delete
        groups:
        - group: StorageGroup


In the above example, the Create and Delete methods manage the user's
storage space. In addition, Create method uses WriteGroup to manage the
requests. In this case, requests to Create method need to satisfy all quota
limits defined in both quota groups.

One can disable quota for selected method(s) identified by the selector by
setting disable_quota to true. For example,


      rules:
      - selector: "*"
        group:
        - group ReadGroup
      - selector: google.calendar.Calendar.Select
        disable_quota: true




CURRENTLY UNDER DEVELOPMENT. DO NOT USE IT UNTIL THIS WARNING IS REMOVED.

The following describes a new quota configuration mechanism we are
developing.

The quota configuration helps to achieve fair use and protect services from
over-use and abuse.

The quota configuration works this way:
- The service configuration defines a set of metrics.
- For API calls, the quota.metric_rules maps methods to metrics with
  corresponding costs.
- The quota.limits defines limits on the metrics, which will be used for
  quota checks at runtime.

An example quota configuration in yaml format:

   quota:
     limits:
     - name: apiReadQpsPerProjectPerUser
       metric: library.googleapis.com/read_calls
       unit: "1/min/{project}/{user}" # per-user limit for consumer projects
       values:
         STANDARD: 1000


     - name: apiWriteQpsPerProject
       metric: library.googleapis.com/write_calls
       unit: "1/min/{project}"  # rate limit for consumer projects
       values:
         STANDARD: 10000

     - name: borrowedCountPerOrganization
       metric: library.googleapis.com/borrowed_count
       is_precise: true
       unit: "1/{organization}" # allocation limit for organizations
       values:
         LOW: 200
         STANDARD: 1000
         HIGH: 10000

     - name: borrowedCountPerOrganizationPerRegion
       metric: library.googleapis.com/borrowed_count
       unit: "1/{organization}/{region}"
       is_precise: true
       values:
         LOW: 20
         STANDARD: 200
         HIGH: 2000
         VERY_HIGH: 5000
         LOW/us-central1: 50
         STANDARD/us-central1: 500
         HIGH/us-central1: 4000
         VERY_HIGH/us-central1: 5000

     # The metric rules bind all methods to the read_calls metric,
     # except for the UpdateBook and DeleteBook methods. These two methods
     # are mapped to the write_calls metric, with the UpdateBook method
     # consuming at twice rate as the DeleteBook method.
     metric_rules:
     - selector: "*"
       metric_costs:
         library.googleapis.com/read_calls: 1
     - selector: google.example.library.v1.LibraryService.UpdateBook
       metric_costs:
         library.googleapis.com/write_calls: 2
     - selector: google.example.library.v1.LibraryService.DeleteBook
       metric_costs:
         library.googleapis.com/write_calls: 1


 Corresponding Metric definition:


     metrics:
     - name: library.googleapis.com/read_calls
       display_name: Read requests
       metric_kind: DELTA
       value_type: INT64

     - name: library.googleapis.com/write_calls
       display_name: Write requests
       metric_kind: DELTA
       value_type: INT64

     - name: library.googleapis.com/borrowed_count
       display_name: Borrowed books
       metric_kind: DELTA
       value_type: INT64

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.Quota.groups"/>
 <tr>
  <td><code>groups[]</code></td>
  <td>repeated <a href="#google.api.QuotaGroup">QuotaGroup</a></td>
  <td>List of <code>QuotaGroup</code> definitions for the service.</td>
 </tr>
<a name="google.api.Quota.rules"/>
 <tr>
  <td><code>rules[]</code></td>
  <td>repeated <a href="#google.api.QuotaRule">QuotaRule</a></td>
  <td><p>A list of quota rules that apply to individual API methods and operations.</p><p><strong>NOTE:</strong> All service configuration rules follow "last one wins" order.</p></td>
 </tr>
<a name="google.api.Quota.limits"/>
 <tr>
  <td><code>limits[]</code></td>
  <td>repeated <a href="#google.api.QuotaLimit">QuotaLimit</a></td>
  <td><p>List of <code>QuotaLimit</code> definitions for the service.</p><p>CURRENTLY UNDER DEVELOPMENT. DO NOT USE IT UNTIL THIS WARNING IS REMOVED.</p></td>
 </tr>
<a name="google.api.Quota.metric_rules"/>
 <tr>
  <td><code>metric_rules[]</code></td>
  <td>repeated <a href="#google.api.MetricRule">MetricRule</a></td>
  <td><p>List of <code>MetricRule</code> definitions, each one mapping a selected method to one or more metrics.</p><p>CURRENTLY UNDER DEVELOPMENT. DO NOT USE IT UNTIL THIS WARNING IS REMOVED.</p></td>
 </tr>
</table>

<a name="google.api.QuotaGroup"/>
### QuotaGroup
`QuotaGroup` defines a set of quota limits to enforce.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.QuotaGroup.name"/>
 <tr>
  <td><code>name</code></td>
  <td>string</td>
  <td><p>Name of this quota group. Must be unique within the service.</p><p>Quota group name is used as part of the id for quota limits. Once the quota group has been put into use, the name of the quota group should be immutable.</p></td>
 </tr>
<a name="google.api.QuotaGroup.description"/>
 <tr>
  <td><code>description</code></td>
  <td>string</td>
  <td>User-visible description of this quota group.</td>
 </tr>
<a name="google.api.QuotaGroup.limits"/>
 <tr>
  <td><code>limits[]</code></td>
  <td>repeated <a href="#google.api.QuotaLimit">QuotaLimit</a></td>
  <td>Quota limits to be enforced when this quota group is used. A request must satisfy all the limits in a group for it to be permitted.</td>
 </tr>
<a name="google.api.QuotaGroup.billable"/>
 <tr>
  <td><code>billable</code></td>
  <td>bool</td>
  <td>Indicates if the quota limits defined in this quota group apply to consumers who have active billing. Quota limits defined in billable groups will be applied only to consumers who have active billing. The amount of tokens consumed from billable quota group will also be reported for billing. Quota limits defined in non-billable groups will be applied only to consumers who have no active billing.</td>
 </tr>
</table>

<a name="google.api.QuotaGroupMapping"/>
### QuotaGroupMapping
A quota group mapping.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.QuotaGroupMapping.group"/>
 <tr>
  <td><code>group</code></td>
  <td>string</td>
  <td>The <code>QuotaGroup.name</code> of the group. Requests for the mapped methods will consume tokens from each of the limits defined in this group.</td>
 </tr>
<a name="google.api.QuotaGroupMapping.cost"/>
 <tr>
  <td><code>cost</code></td>
  <td>int32</td>
  <td>Number of tokens to consume for each request. This allows different cost to be associated with different methods that consume from the same quota group. By default, each request will cost one token.</td>
 </tr>
</table>

<a name="google.api.QuotaLimit"/>
### QuotaLimit
`QuotaLimit` defines a specific limit that applies over a specified duration
for a limit type. There can be at most one limit for a duration and limit
type combination defined within a `QuotaGroup`.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.QuotaLimit.name"/>
 <tr>
  <td><code>name</code></td>
  <td>string</td>
  <td><p>Name of the quota limit. Must be unique within the quota group. This name is used to refer to the limit when overriding the limit on a per-project basis. If a name is not provided, it will be generated from the limit_by and duration fields.</p><p>The maximum length of the limit name is 64 characters.</p><p>The name of a limit is used as a unique identifier for this limit. Therefore, once a limit has been put into use, its name should be immutable. You can use the display_name field to provide a user-friendly name for the limit. The display name can be evolved over time without affecting the identity of the limit.</p><p>In the new quota configuration, the name must be provided, and it must be unique within the service. The name can only include alphanumeric characters as well as '-'.</p></td>
 </tr>
<a name="google.api.QuotaLimit.limit_by"/>
 <tr>
  <td><code>limit_by</code></td>
  <td><a href="#google.api.QuotaLimit.LimitType">LimitType</a></td>
  <td>Limit type to use for enforcing this quota limit. Each unique value gets the defined number of tokens to consume from. For a quota limit that uses user type, each user making requests through the same client application project will get his/her own pool of tokens to consume, whereas for a limit that uses client project type, all users making requests through the same client application project share a single pool of tokens.</td>
 </tr>
<a name="google.api.QuotaLimit.description"/>
 <tr>
  <td><code>description</code></td>
  <td>string</td>
  <td>Optional. User-visible, extended description for this quota limit. Should be used only when more context is needed to understand this limit than provided by the limit's display name (see: <code>display_name</code>).</td>
 </tr>
<a name="google.api.QuotaLimit.default_limit"/>
 <tr>
  <td><code>default_limit</code></td>
  <td>int64</td>
  <td><p>Default number of tokens that can be consumed during the specified duration. This is the number of tokens assigned when a client application developer activates the service for his/her project.</p><p>Specifying a value of 0 will block all requests. This can be used if you are provisioning quota to selected consumers and blocking others. Similarly, a value of -1 will indicate an unlimited quota. No other negative values are allowed.</p></td>
 </tr>
<a name="google.api.QuotaLimit.max_limit"/>
 <tr>
  <td><code>max_limit</code></td>
  <td>int64</td>
  <td><p>Maximum number of tokens that can be consumed during the specified duration. Client application developers can override the default limit up to this maximum. If specified, this value cannot be set to a value less than the default limit. If not specified, it is set to the default limit.</p><p>To allow clients to apply overrides with no upper bound, set this to -1, indicating unlimited maximum quota.</p></td>
 </tr>
<a name="google.api.QuotaLimit.free_tier"/>
 <tr>
  <td><code>free_tier</code></td>
  <td>int64</td>
  <td>Free tier value displayed in the Developers Console for this limit. The free tier is the number of tokens that will be subtracted from the billed amount when billing is enabled. This field can only be set on a limit with duration "1d", in a billable group; it is invalid on any other limit. If this field is not set, it defaults to 0, indicating that there is no free tier for this service.</td>
 </tr>
<a name="google.api.QuotaLimit.duration"/>
 <tr>
  <td><code>duration</code></td>
  <td>string</td>
  <td>Duration of this limit in textual notation. Example: "100s", "24h", "1d". For duration longer than a day, only multiple of days is supported. We support only "100s" and "1d" for now. Additional support will be added in the future. "0" indicates indefinite duration.</td>
 </tr>
<a name="google.api.QuotaLimit.metric"/>
 <tr>
  <td><code>metric</code></td>
  <td>string</td>
  <td><p>The name of the metric this quota limit applies to. The quota limits with the same metric will be checked together during runtime. The metric must be defined within the service config.</p><p>CURRENTLY UNDER DEVELOPMENT. DO NOT USE IT UNTIL THIS WARNING IS REMOVED.</p></td>
 </tr>
<a name="google.api.QuotaLimit.unit"/>
 <tr>
  <td><code>unit</code></td>
  <td>string</td>
  <td><p>Specify the unit of the quota limit. It uses the same syntax as Metric.unit. The supported unit kinds are determined by the quota backend system.</p><p>The <a href="https://cloud.google.com/service-control">Google Service Control</a> supports the following unit components: * One of the time intevals:  * "/min" for quota every minute.  * "/d" for quota every 24 hours, starting 00:00 US Pacific Time.  * Otherwise the quota won't be reset by time, such as storage limit. * One and only one of the granted containers:  * "/{organization}" quota for an organization.  * "/{project}" quota for a project.  * "/{folder}" quota for a folder.  * "/{resource}" quota for a universal resource. * Zero or more quota segmentation dimension. Not all combos are valid.  * "/{user}" quota for every user or client ip address.  * "/{region}" quota for every region. Not to be used with time intervals.  * Otherwise the resources granted on the target is not segmented.  * "/{zone}" quota for every zone. Not to be used with time intervals.  * Otherwise the resources granted on the target is not segmented.  * "/{resource}" quota for a resource associated with a project or org.</p><p>Here are some examples: * "1/min/{project}" for quota per minute per project. * "1/min/{user}" for quota per minute per client ip address. * "1/min/{organization}" for quota per minute per organization.</p><p>Note: the order of unit components is insignificant. The "1" at the beginning is required to follow the metric unit syntax.</p><p>CURRENTLY UNDER DEVELOPMENT. DO NOT USE IT UNTIL THIS WARNING IS REMOVED.</p></td>
 </tr>
<a name="google.api.QuotaLimit.values"/>
 <tr>
  <td><code>values</code></td>
  <td>repeated map&lt;string, int64&gt;</td>
  <td><p>Tiered limit values. Also allows for regional or zone overrides for these values if "/{region}" or "/{zone}" is specified in the unit field.</p><p>Currently supported tiers from low to high: VERY_LOW, LOW, STANDARD, HIGH, VERY_HIGH</p><p>To apply different limit values for users according to their tiers, specify the values for the tiers you want to differentiate. For example: {LOW:100, STANDARD:500, HIGH:1000, VERY_HIGH:5000}</p><p>The limit value for each tier is optional except for the tier STANDARD. The limit value for an unspecified tier falls to the value of its next tier towards tier STANDARD. For the above example, the limit value for tier STANDARD is 500.</p><p>To apply the same limit value for all users, just specify limit value for tier STANDARD. For example: {STANDARD:500}.</p><p>To apply a regional overide for a tier, add a map entry with key "<TIER>/<region>", where <region> is a region name. Similarly, for a zone override, add a map entry with key "<TIER>/{zone}". Further, a wildcard can be used at the end of a zone name in order to specify zone level overrides. For example: LOW: 10, STANDARD: 50, HIGH: 100, LOW/us-central1: 20, STANDARD/us-central1: 60, HIGH/us-central1: 200, LOW/us-central1-*: 10, STANDARD/us-central1-*: 20, HIGH/us-central1-*: 80</p><p>The regional overrides tier set for each region must be the same as the tier set for default limit values. Same rule applies for zone overrides tier as well.</p><p>CURRENTLY UNDER DEVELOPMENT. DO NOT USE IT UNTIL THIS WARNING IS REMOVED.</p></td>
 </tr>
<a name="google.api.QuotaLimit.is_precise"/>
 <tr>
  <td><code>is_precise</code></td>
  <td>bool</td>
  <td><p>Whether the quota limit needs to be enforced precisely.</p><p>Note that precise quota limits are more expensive to enforce. Make a quota limit precise only if it is necessary.</p><p>Precise rate quota is not currently supported. An error will be raised if a rate quota is specified to be precise. Imprecise allocation quota is not currently supported. An error will be raised if a rate quota is specified to be precise.</p></td>
 </tr>
<a name="google.api.QuotaLimit.display_name"/>
 <tr>
  <td><code>display_name</code></td>
  <td>string</td>
  <td>User-visible display name for this limit. Optional. If not set, the UI will provide a default display name based on the quota configuration. This field can be used to override the default display name generated from the configuration.</td>
 </tr>
</table>

<a name="google.api.QuotaLimit.LimitType"/>
### LimitType
Supported limit types for enforcing quota. Value of this type at runtime
will be used to uniquely identify the token pool to consume from.


<table>
 <tr>
  <th>Value</th>
  <th>Description</th>
 </tr>
<a name="google.api.QuotaLimit.LimitType.CLIENT_PROJECT"/>
 <tr>
  <td>CLIENT_PROJECT</td>
  <td>ID of the project owned by the client application developer making the request.</td>
 </tr>
<a name="google.api.QuotaLimit.LimitType.USER"/>
 <tr>
  <td>USER</td>
  <td>ID of the end user making the request using the client application.</td>
 </tr>
</table>

<a name="google.api.QuotaRule"/>
### QuotaRule
`QuotaRule` maps a method to a set of `QuotaGroup`s.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.QuotaRule.selector"/>
 <tr>
  <td><code>selector</code></td>
  <td>string</td>
  <td><p>Selects methods to which this rule applies.</p><p>Refer to <a href="#google.api.DocumentationRule.selector">selector</a> for syntax details.</p></td>
 </tr>
<a name="google.api.QuotaRule.groups"/>
 <tr>
  <td><code>groups[]</code></td>
  <td>repeated <a href="#google.api.QuotaGroupMapping">QuotaGroupMapping</a></td>
  <td>Quota groups to be used for this method. This supports associating a cost with each quota group.</td>
 </tr>
<a name="google.api.QuotaRule.disable_quota"/>
 <tr>
  <td><code>disable_quota<br><b>(deprecated)</b></code></td>
  <td>bool</td>
  <td>Indicates if quota checking should be enforced. Quota will be disabled for methods without quota rules or with quota rules having this field set to true. When this field is set to true, no quota group mapping is allowed. Deprecated and discontinued: do not use this setting since this is not needed any more.</td>
 </tr>
</table>

<a name="google.api.RenameMethodRule"/>
### RenameMethodRule
A rule for renaming a proto-service or method.
Example:
  experimental:
    advanced:
      rename_rules:
      - selector: google.calendar.Calendar.List
        rename_to: RenamedCalendar.Enumerate

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.RenameMethodRule.selector"/>
 <tr>
  <td><code>selector</code></td>
  <td>string</td>
  <td><p>Selects the methods to which this rule applies.</p><p>Refer to <a href="#google.api.DocumentationRule.selector">selector</a> for syntax details.</p></td>
 </tr>
<a name="google.api.RenameMethodRule.rename_to"/>
 <tr>
  <td><code>rename_to</code></td>
  <td>string</td>
  <td><p>Both the proto-service name and the method name can be renamed. For renaming a service and method, you provide both values. If you are just renaming the method, provide the simple renamed method name. If you are renaming a service, use wild-card for method name (see example below).</p><p>Example: To rename service and method: If the original method name is "google.calendar.Calendar.List", an example renamed configuration can be: selector: google.calendar.Calendar.List rename_to: RenamedCalendar.Fetch</p><p>Or if you just want to rename the method, you would say: rename_to: Fetch</p><p>To rename just the proto-service name: selector: google.calendar.Calendar.* rename_to: RenamedCalendar.*</p></td>
 </tr>
</table>

<a name="google.api.ResourceContainer"/>
### ResourceContainer
CURRENTLY UNDER DEVELOPMENT. DO NOT USE IT UNTIL THIS WARNING IS REMOVED.

`ResourceContainer` defines the configurations on retrieving resource
container from API request proto. Resource container will be used by Google
Service Control API for service runtime check and report.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.ResourceContainer.rules"/>
 <tr>
  <td><code>rules[]</code></td>
  <td>repeated <a href="#google.api.ResourceContainerRule">ResourceContainerRule</a></td>
  <td><p>A list of resource container rules for retrieving resource container.</p><p><strong>NOTE:</strong> All service configuration rules follow "last one wins" order.</p></td>
 </tr>
</table>

<a name="google.api.ResourceContainerRule"/>
### ResourceContainerRule
CURRENTLY UNDER DEVELOPMENT. DO NOT USE IT UNTIL THIS WARNING IS REMOVED.

An resource container rule provides configuration for retrieving resource
container from an individual field in API request message.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.ResourceContainerRule.selector"/>
 <tr>
  <td><code>selector</code></td>
  <td>string</td>
  <td><p>Selects fields where this rule applies.</p><p>Refer to <a href="#google.api.DocumentationRule.selector">selector</a> for syntax details.</p></td>
 </tr>
<a name="google.api.ResourceContainerRule.type"/>
 <tr>
  <td><code>type</code></td>
  <td>string</td>
  <td><p>Type of resource containers. Currently the following values are supported:</p>
<ul>
  <li><strong>RESOURCE</strong>: The value of this field is a resource string that can be  used to extract resource container. The expected formats  are:  - projects/<project-id or project-number>/...  - folders/<folder-id>/...  - organizations/<organization-id>/...  - "<project-id>" (string)  - "<project-number>" (integer)</li>
  <li><strong>OTHER</strong>: The value of this field should be used as  <code>resource_identifier</code> in the callback to API backend to  retrieve resource container.</li>
</ul></td>
 </tr>
</table>

<a name="google.api.Service"/>
### Service
`Service` is the root object of Google service configuration schema. It
describes basic information about a service, such as the name and the
title, and delegates other aspects to sub-sections. Each sub-section is
either a proto message or a repeated proto message that configures a
specific aspect, such as auth. See each proto message definition for details.

Example:


    type: google.api.Service
    config_version: 3
    name: calendar.googleapis.com
    title: Google Calendar API
    apis:
    - name: google.calendar.v3.Calendar
    backend:
      rules:
      - selector: "google.calendar.v3.*"
        address: calendar.example.com

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.Service.config_version"/>
 <tr>
  <td><code>config_version</code></td>
  <td><a href="#google.protobuf.UInt32Value">UInt32Value</a></td>
  <td>The version of the service configuration. The config version may influence interpretation of the configuration, for example, to determine defaults. This is documented together with applicable options. The current default for the config version itself is <code>3</code>.</td>
 </tr>
<a name="google.api.Service.name"/>
 <tr>
  <td><code>name</code></td>
  <td>string</td>
  <td>The DNS address at which this service is available, e.g. <code>calendar.googleapis.com</code>.</td>
 </tr>
<a name="google.api.Service.id"/>
 <tr>
  <td><code>id</code></td>
  <td>string</td>
  <td>A unique ID for a specific instance of this message, typically assigned by the client for tracking purpose. If empty, the server may choose to generate one instead.</td>
 </tr>
<a name="google.api.Service.title"/>
 <tr>
  <td><code>title</code></td>
  <td>string</td>
  <td>The product title associated with this service.</td>
 </tr>
<a name="google.api.Service.producer_project_id"/>
 <tr>
  <td><code>producer_project_id</code></td>
  <td>string</td>
  <td>The id of the Google developer project that owns the service. Members of this project can manage the service configuration, manage consumption of the service, etc.</td>
 </tr>
<a name="google.api.Service.apis"/>
 <tr>
  <td><code>apis[]</code></td>
  <td>repeated <a href="#google.protobuf.Api">Api</a></td>
  <td>A list of API interfaces exported by this service. Only the <code>name</code> field of the <a href="#google.protobuf.Api">google.protobuf.Api</a> needs to be provided by the configuration author, as the remaining fields will be derived from the IDL during the normalization process. It is an error to specify an API interface here which cannot be resolved against the associated IDL files.</td>
 </tr>
<a name="google.api.Service.types"/>
 <tr>
  <td><code>types[]</code></td>
  <td>repeated <a href="#google.protobuf.Type">Type</a></td>
  <td><p>A list of all proto message types included in this API service. Types referenced directly or indirectly by the <code>apis</code> are automatically included. Messages which are not referenced but shall be included, such as types used by the <code>google.protobuf.Any</code> type, should be listed here by name. Example:</p>
<pre><code>types:
- name: google.protobuf.Int32
</code></pre></td>
 </tr>
<a name="google.api.Service.enums"/>
 <tr>
  <td><code>enums[]</code></td>
  <td>repeated <a href="#google.protobuf.Enum">Enum</a></td>
  <td><p>A list of all enum types included in this API service. Enums referenced directly or indirectly by the <code>apis</code> are automatically included. Enums which are not referenced but shall be included should be listed here by name. Example:</p>
<pre><code>enums:
- name: google.someapi.v1.SomeEnum
</code></pre></td>
 </tr>
<a name="google.api.Service.documentation"/>
 <tr>
  <td><code>documentation</code></td>
  <td><a href="#google.api.Documentation">Documentation</a></td>
  <td>Additional API documentation.</td>
 </tr>
<a name="google.api.Service.visibility"/>
 <tr>
  <td><code>visibility</code></td>
  <td><a href="#google.api.Visibility">Visibility</a></td>
  <td>API visibility configuration.</td>
 </tr>
<a name="google.api.Service.backend"/>
 <tr>
  <td><code>backend</code></td>
  <td><a href="#google.api.Backend">Backend</a></td>
  <td>API backend configuration.</td>
 </tr>
<a name="google.api.Service.http"/>
 <tr>
  <td><code>http</code></td>
  <td><a href="#google.api.Http">Http</a></td>
  <td>HTTP configuration.</td>
 </tr>
<a name="google.api.Service.quota"/>
 <tr>
  <td><code>quota</code></td>
  <td><a href="#google.api.Quota">Quota</a></td>
  <td>Quota configuration.</td>
 </tr>
<a name="google.api.Service.authentication"/>
 <tr>
  <td><code>authentication</code></td>
  <td><a href="#google.api.Authentication">Authentication</a></td>
  <td>Auth configuration.</td>
 </tr>
<a name="google.api.Service.context"/>
 <tr>
  <td><code>context</code></td>
  <td><a href="#google.api.Context">Context</a></td>
  <td>Context configuration.</td>
 </tr>
<a name="google.api.Service.legacy"/>
 <tr>
  <td><code>legacy</code></td>
  <td><a href="#google.api.Legacy">Legacy</a></td>
  <td>Legacy configuration.</td>
 </tr>
<a name="google.api.Service.usage"/>
 <tr>
  <td><code>usage</code></td>
  <td><a href="#google.api.Usage">Usage</a></td>
  <td>Configuration controlling usage of this service.</td>
 </tr>
<a name="google.api.Service.custom_error"/>
 <tr>
  <td><code>custom_error</code></td>
  <td><a href="#google.api.CustomError">CustomError</a></td>
  <td>Custom error configuration.</td>
 </tr>
<a name="google.api.Service.project_properties"/>
 <tr>
  <td><code>project_properties</code></td>
  <td><a href="#google.api.ProjectProperties">ProjectProperties</a></td>
  <td>Configuration of per-consumer project properties.</td>
 </tr>
<a name="google.api.Service.endpoints"/>
 <tr>
  <td><code>endpoints[]</code></td>
  <td>repeated <a href="#google.api.Endpoint">Endpoint</a></td>
  <td>Configuration for network endpoints. If this is empty, then an endpoint with the same name as the service is automatically generated to service all defined APIs.</td>
 </tr>
<a name="google.api.Service.discovery"/>
 <tr>
  <td><code>discovery</code></td>
  <td><a href="#google.api.Discovery">Discovery</a></td>
  <td>Specifies which discovery options the API service supports.</td>
 </tr>
<a name="google.api.Service.control"/>
 <tr>
  <td><code>control</code></td>
  <td><a href="#google.api.Control">Control</a></td>
  <td>Configuration for the service control plane.</td>
 </tr>
<a name="google.api.Service.logs"/>
 <tr>
  <td><code>logs[]</code></td>
  <td>repeated <a href="#google.api.LogDescriptor">LogDescriptor</a></td>
  <td>Defines the logs used by this service.</td>
 </tr>
<a name="google.api.Service.metrics"/>
 <tr>
  <td><code>metrics[]</code></td>
  <td>repeated <a href="#google.api.MetricDescriptor">MetricDescriptor</a></td>
  <td>Defines the metrics used by this service.</td>
 </tr>
<a name="google.api.Service.monitored_resources"/>
 <tr>
  <td><code>monitored_resources[]</code></td>
  <td>repeated <a href="#google.api.MonitoredResourceDescriptor">MonitoredResourceDescriptor</a></td>
  <td>Defines the monitored resources used by this service. This is required by the <a href="#google.api.Service.monitoring">Service.monitoring</a> and <a href="#google.api.Service.logging">Service.logging</a> configurations.</td>
 </tr>
<a name="google.api.Service.billing"/>
 <tr>
  <td><code>billing</code></td>
  <td><a href="#google.api.Billing">Billing</a></td>
  <td>Billing configuration.</td>
 </tr>
<a name="google.api.Service.logging"/>
 <tr>
  <td><code>logging</code></td>
  <td><a href="#google.api.Logging">Logging</a></td>
  <td>Logging configuration.</td>
 </tr>
<a name="google.api.Service.monitoring"/>
 <tr>
  <td><code>monitoring</code></td>
  <td><a href="#google.api.Monitoring">Monitoring</a></td>
  <td>Monitoring configuration.</td>
 </tr>
<a name="google.api.Service.analytics"/>
 <tr>
  <td><code>analytics</code></td>
  <td><a href="#google.api.Analytics">Analytics</a></td>
  <td>Analytics configuration.</td>
 </tr>
<a name="google.api.Service.system_parameters"/>
 <tr>
  <td><code>system_parameters</code></td>
  <td><a href="#google.api.SystemParameters">SystemParameters</a></td>
  <td>System parameter configuration.</td>
 </tr>
<a name="google.api.Service.auditing"/>
 <tr>
  <td><code>auditing</code></td>
  <td><a href="#google.api.Auditing">Auditing</a></td>
  <td>Auditing configuration of the service.</td>
 </tr>
<a name="google.api.Service.resource_container"/>
 <tr>
  <td><code>resource_container</code></td>
  <td><a href="#google.api.ResourceContainer">ResourceContainer</a></td>
  <td><p>CURRENTLY UNDER DEVELOPMENT. DO NOT USE IT UNTIL THIS WARNING IS REMOVED.</p><p>Resource container configuration of the service.</p></td>
 </tr>
<a name="google.api.Service.labels"/>
 <tr>
  <td><code>labels[]</code></td>
  <td>repeated <a href="#google.api.LabelDescriptor">LabelDescriptor</a></td>
  <td>Label declarations of the service.</td>
 </tr>
<a name="google.api.Service.migration"/>
 <tr>
  <td><code>migration</code></td>
  <td><a href="#google.api.Migration">Migration</a></td>
  <td>Migration configuration for Apiary APIs.</td>
 </tr>
<a name="google.api.Service.derived_data"/>
 <tr>
  <td><code>derived_data</code></td>
  <td><a href="#google.protobuf.Any">Any</a></td>
  <td>Service attributes derived by the configuration toolchain, for use at runtime. Type is defined in <code>//google/internal/api/derived_service.proto</code>.</td>
 </tr>
<a name="google.api.Service.experimental"/>
 <tr>
  <td><code>experimental</code></td>
  <td><a href="#google.api.Experimental">Experimental</a></td>
  <td>Experimental configuration.</td>
 </tr>
<a name="google.api.Service.system_types"/>
 <tr>
  <td><code>system_types[]</code></td>
  <td>repeated <a href="#google.protobuf.Type">Type</a></td>
  <td>A list of all proto message types included in this API service. It serves similar purpose as [google.api.Service.types], except that these types are not needed by user-defined APIs. Therefore, they will not show up in the generated discovery doc. This field should only be used to define system APIs in ESF.</td>
 </tr>
<a name="google.api.Service.features"/>
 <tr>
  <td><code>features[]</code></td>
  <td>repeated string</td>
  <td>A list of features enabled on this service.</td>
 </tr>
</table>

<a name="google.api.ServiceControlAccess"/>
### ServiceControlAccess
Specifies how to check a service's access to control plane resources.
This is a Google-internal feature that allows Google owned services to
fine tune the access control check behavior. Third party services cannot
configure the default behavior: accessing provider resources always uses
the DEFAULT model and accessing consumer resources always uses the
EXPLICIT model, defined below.

Here are several examples of configuring the access.

First example. A service wants the same access control check behavior as
third party services. The access section can be skipped completely.

Second example. GCE is a trusted service and we allow it to bill resource
usage to all projects without explicit access provisioning and access control
checks. The billing section can be configured as


    billing:
      acl:
        model: SKIP


Third example. CloudSQL wants to make sure the service account of one VM
cannot write logs to the producer project while pretending
to be serving a different consumer project. The logging section can be
configured as


    logging:
      producer_destination:
        acl:
          model: EXPLICIT
          label_key: servicecontrol.googleapis.com/consumer_id


Such configuration requires provisioning an ACL record in Zanzibar
with the consumer project id as obj_part for the VM's service account.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.ServiceControlAccess.model"/>
 <tr>
  <td><code>model</code></td>
  <td><a href="#google.api.ServiceControlAccess.Model">Model</a></td>
  <td>Access control check model that should be applied to a resource.</td>
 </tr>
<a name="google.api.ServiceControlAccess.label_key"/>
 <tr>
  <td><code>label_key</code></td>
  <td>string</td>
  <td>The label value of the resource that is also used during access control check. Applicable only if the model is EXPLICIT.</td>
 </tr>
</table>

<a name="google.api.ServiceControlAccess.Model"/>
### Model
Specifies the access control check behavior.


<table>
 <tr>
  <th>Value</th>
  <th>Description</th>
 </tr>
<a name="google.api.ServiceControlAccess.Model.DEFAULT"/>
 <tr>
  <td>DEFAULT</td>
  <td>The service must have "Can edit" permission in the developer console project that owns the resource. One can use the developer console to provision and check such permissions.</td>
 </tr>
<a name="google.api.ServiceControlAccess.Model.EXPLICIT"/>
 <tr>
  <td>EXPLICIT</td>
  <td>The service must have "writer" permission in the Service Control API namespace at the resource type level for owner project. For example, if a caller has permission for updating log resource in a project, then any named log collection from the project can be updated.</td>
 </tr>
<a name="google.api.ServiceControlAccess.Model.SKIP"/>
 <tr>
  <td>SKIP</td>
  <td>No access control check for this resource. This is only used by trusted Google services for which the authorization of the caller is sufficient and there is no need to enforce per-resource access control.</td>
 </tr>
</table>

<a name="google.api.ServiceControlAcl"/>
### ServiceControlAcl
Configuration of authorization check.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.ServiceControlAcl.model"/>
 <tr>
  <td><code>model</code></td>
  <td><a href="#google.api.ServiceControlAclModel">ServiceControlAclModel</a></td>
  <td>ACL model that should be applied to a resource.</td>
 </tr>
<a name="google.api.ServiceControlAcl.label_key"/>
 <tr>
  <td><code>label_key</code></td>
  <td>string</td>
  <td>The label value of the resource that is also used during ACL check.</td>
 </tr>
</table>

<a name="google.api.ServiceControlAclModel"/>
### ServiceControlAclModel
The authorization check (ACL) model used for accessing a resource.


<table>
 <tr>
  <th>Value</th>
  <th>Description</th>
 </tr>
<a name="google.api.ServiceControlAclModel.DEFAULT"/>
 <tr>
  <td>DEFAULT</td>
  <td>The caller has to have "writer" permission from the developer console project that owns the resource. One can use the developer console to check or provision this permission.</td>
 </tr>
<a name="google.api.ServiceControlAclModel.EXPLICIT"/>
 <tr>
  <td>EXPLICIT</td>
  <td>The caller has to have "writer" permission in the Service Control API namespace at the resource type level for owner project. For example, if a caller has permission for updating log resource in a project, then any named log collection from the project can be updated.</td>
 </tr>
<a name="google.api.ServiceControlAclModel.SKIP"/>
 <tr>
  <td>SKIP</td>
  <td>No ACL check for this resource. This is only used by trusted Google services for which the authorization of the caller is sufficient and there is no need to enforce per-resource access control.</td>
 </tr>
</table>

<a name="google.api.ServiceControlConfig"/>
### ServiceControlConfig
Configuration for services that use the Service Control API.

In the following library example, we sent metrics to quota backend and
analystics.

 service_control:
   destinations:
   - type: QUOTA
     owner: CONSUMER_PROJECT
     acl:
       model: EXPLICIT
     metric_names:
     - library.googleapis.com/borrowed_count
     - library.googleapis.com/returned_count
     - library.googleapis.com/overdue_book_days

   analytics:
     destinations:
     - monitored_resource: library.googleapis.com/branch
       metrics:
       - library.googleapis.com/book/returned_count
       - library.googleapis.com/book/overdue_count

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.ServiceControlConfig.destinations"/>
 <tr>
  <td><code>destinations[]</code></td>
  <td>repeated <a href="#google.api.Destination">Destination</a></td>
  <td>Configuration of destinations to send metric values and log entries to.</td>
 </tr>
<a name="google.api.ServiceControlConfig.analytics"/>
 <tr>
  <td><code>analytics</code></td>
  <td><a href="#google.api.AnalyticsConfig">AnalyticsConfig</a></td>
  <td>Analytics configuration of the service. DEPRECATED since 2016-11-04; Use top-level analytics section instead.</td>
 </tr>
</table>

<a name="google.api.ServiceManagementConfig"/>
### ServiceManagementConfig
Configuration for services that are intended to be managed by the
Service Management API

This section determines how the Service Management API handles the
deployment of your service config to the
[One Platform Control Plane](go/api-control-plane)
and [One Platform Service Controller](go/chemist).

Example:


    experimental:
      service_management_config:
        deployment_mode: NORMAL

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.ServiceManagementConfig.deployment_mode"/>
 <tr>
  <td><code>deployment_mode</code></td>
  <td><a href="#google.api.ServiceManagementConfig.DeploymentMode">DeploymentMode</a></td>
  <td>Used to specify the deployment mode of the enclosing service config.</td>
 </tr>
<a name="google.api.ServiceManagementConfig.include_legacy_components"/>
 <tr>
  <td><code>include_legacy_components</code></td>
  <td>bool</td>
  <td></td>
 </tr>
</table>

<a name="google.api.ServiceManagementConfig.DeploymentMode"/>
### DeploymentMode
Indicates the strategy to handle the deployment of config changes.


<table>
 <tr>
  <th>Value</th>
  <th>Description</th>
 </tr>
<a name="google.api.ServiceManagementConfig.DeploymentMode.NORMAL"/>
 <tr>
  <td>NORMAL</td>
  <td>The deployment will go through a canary stage before being applied to the entire Control Plane and Service Controller.</td>
 </tr>
<a name="google.api.ServiceManagementConfig.DeploymentMode.SKIP_CANARY"/>
 <tr>
  <td>SKIP_CANARY</td>
  <td>The deployment will skip the Canary stage.</td>
 </tr>
</table>

<a name="google.api.SkuDescriptor"/>
### SkuDescriptor
Describes a SKU the service intends to sell.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.SkuDescriptor.name"/>
 <tr>
  <td><code>name</code></td>
  <td>string</td>
  <td>Name of a sku associated with this service. This should always begin with 'services/<service name>/skus/'. Example: If sku short name is 'CoreHours' for service compute.googleapis.com, 'name' field should have value 'services/compute.googleapis.com/skus/CoreHours' Note: This value is not present anywhere in the generated bill.</td>
 </tr>
<a name="google.api.SkuDescriptor.public_sku_id"/>
 <tr>
  <td><code>public_sku_id</code></td>
  <td>string</td>
  <td>Short id literal used for referring to this SKU on marketing pages, contracts and possibly other public locations. If missing, the SKU will not be displayed publicly.</td>
 </tr>
<a name="google.api.SkuDescriptor.summary"/>
 <tr>
  <td><code>summary</code></td>
  <td>string</td>
  <td>A human readable single line description of what the sku is. The value here will appear on the invoices seen by customers who've bought/consumed the sku. Multiple lines are not allowed.</td>
 </tr>
<a name="google.api.SkuDescriptor.description"/>
 <tr>
  <td><code>description</code></td>
  <td>string</td>
  <td>A longer description of the sku, used in a pricing catalog.</td>
 </tr>
<a name="google.api.SkuDescriptor.sku_visibility"/>
 <tr>
  <td><code>sku_visibility</code></td>
  <td>string</td>
  <td><p>Express the current state of the SKU.</p><p>Supported values are PUBLIC and INTERNAL. INTERNAL: Only visible within the organization. PUBLIC: Visible externally to everyone.</p></td>
 </tr>
<a name="google.api.SkuDescriptor.tax_category"/>
 <tr>
  <td><code>tax_category</code></td>
  <td>string</td>
  <td><p>The tax category a SKU belongs to (used by B3). Tax category determines how much tax is applied, for different parts of the world, for the bills associated with a particular SKU. Supported values are:</p><p>VIRTUAL_DATA_STORE Data stored in a virtual environment, e.g: cloud data storage.</p><p>SEARCH_ENGINE_SERVICE Custom services related to search engine.</p><p>CORE_HOSTING Where google is hosting something that belongs to the client, e.g: site/app hosting.</p><p>DATA_PROCESSING Services where google is providing the data processing, e.g: bandwidth.</p><p>SUPPORT Activities related to support. e.g: phone support.</p><p>NONE NO tax category.</p></td>
 </tr>
</table>

<a name="google.api.SystemParameter"/>
### SystemParameter
Define a parameter's name and location. The parameter may be passed as either
an HTTP header or a URL query parameter, and if both are passed the behavior
is implementation-dependent.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.SystemParameter.name"/>
 <tr>
  <td><code>name</code></td>
  <td>string</td>
  <td>Define the name of the parameter, such as "api_key", "alt", "callback", and etc. It is case sensitive.</td>
 </tr>
<a name="google.api.SystemParameter.http_header"/>
 <tr>
  <td><code>http_header</code></td>
  <td>string</td>
  <td>Define the HTTP header name to use for the parameter. It is case insensitive.</td>
 </tr>
<a name="google.api.SystemParameter.url_query_parameter"/>
 <tr>
  <td><code>url_query_parameter</code></td>
  <td>string</td>
  <td>Define the URL query parameter name to use for the parameter. It is case sensitive.</td>
 </tr>
</table>

<a name="google.api.SystemParameterRule"/>
### SystemParameterRule
Define a system parameter rule mapping system parameter definitions to
methods.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.SystemParameterRule.selector"/>
 <tr>
  <td><code>selector</code></td>
  <td>string</td>
  <td><p>Selects the methods to which this rule applies. Use '*' to indicate all methods in all APIs.</p><p>Refer to <a href="#google.api.DocumentationRule.selector">selector</a> for syntax details.</p></td>
 </tr>
<a name="google.api.SystemParameterRule.parameters"/>
 <tr>
  <td><code>parameters[]</code></td>
  <td>repeated <a href="#google.api.SystemParameter">SystemParameter</a></td>
  <td>Define parameters. Multiple names may be defined for a parameter. For a given method call, only one of them should be used. If multiple names are used the behavior is implementation-dependent. If none of the specified names are present the behavior is parameter-dependent.</td>
 </tr>
</table>

<a name="google.api.SystemParameters"/>
### SystemParameters

<a name="rpc_google.api_google.api.SystemParameters_description_subsection_subsection_subsection"/>
#### System parameter configuration
A system parameter is a special kind of parameter defined by the API
system, not by an individual API. It is typically mapped to an HTTP header
and/or a URL query parameter. This configuration specifies which methods
change the names of the system parameters.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.SystemParameters.rules"/>
 <tr>
  <td><code>rules[]</code></td>
  <td>repeated <a href="#google.api.SystemParameterRule">SystemParameterRule</a></td>
  <td><p>Define system parameters.</p><p>The parameters defined here will override the default parameters implemented by the system. If this field is missing from the service config, default system parameters will be used. Default system parameters and names is implementation-dependent.</p><p>Example: define api key and alt name for all methods</p><p>system_parameters  rules:  - selector: "*"  parameters:  - name: api_key  url_query_parameter: api_key  - name: alt  http_header: Response-Content-Type</p><p>Example: define 2 api key names for a specific method.</p><p>system_parameters  rules:  - selector: "/ListShelves"  parameters:  - name: api_key  http_header: Api-Key1  - name: api_key  http_header: Api-Key2</p><p><strong>NOTE:</strong> All service configuration rules follow "last one wins" order.</p></td>
 </tr>
</table>

<a name="google.api.TranslatorConfig"/>
### TranslatorConfig
Configurations for request/response translators.

Example:
  experimental:
    advanced:
      translator_config:
      - selector: tech.frontend.WebChannelService.Message
        output_all_primitive_fields_to_json: true
      - selector: tech.frontend.WebChannelService.List
        jspb_variant: GWT

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.TranslatorConfig.selector"/>
 <tr>
  <td><code>selector</code></td>
  <td>string</td>
  <td><p>Selects the methods to which this rule applies.</p><p>Refer to <a href="#google.api.DocumentationRule.selector">selector</a> for syntax details.</p></td>
 </tr>
<a name="google.api.TranslatorConfig.output_all_primitive_fields_to_json"/>
 <tr>
  <td><code>output_all_primitive_fields_to_json</code></td>
  <td>bool</td>
  <td>When converting proto to json, whether to output all fields of primitive types with their default values even when they are not in the source proto. NOTE: Enabling this option will significantly slow down JSON response rendering as well as increase memory usage of the Envelope.</td>
 </tr>
<a name="google.api.TranslatorConfig.jspb_variant"/>
 <tr>
  <td><code>jspb_variant</code></td>
  <td><a href="#google.api.JspbVariant">JspbVariant</a></td>
  <td>JSPB format that should be used to translate the request/response messages for the selector.</td>
 </tr>
<a name="google.api.TranslatorConfig.use_web_safe_base64_for_byte_fields"/>
 <tr>
  <td><code>use_web_safe_base64_for_byte_fields</code></td>
  <td>bool</td>
  <td>Forces the translator to use web-safe base64 encoding for byte fields. Default is to use regular base64 encoding.</td>
 </tr>
<a name="google.api.TranslatorConfig.struct_integers_as_strings"/>
 <tr>
  <td><code>struct_integers_as_strings</code></td>
  <td>bool</td>
  <td><p>Treats integer inputs in google.protobuf.Struct as strings. Normally, integer values are returned in double field "number_value" of google.protobuf.Struct. However, this can cause precision loss for int64/uint64 inputs. This option is provided for services that want to preserve integer precision.</p><p>When this option is set, integer values are returned in "string_value" field in google.protobuf.Struct.</p><p>Note that this does not change behavior for "double" values. They will still be returned in "number_value" field.</p></td>
 </tr>
<a name="google.api.TranslatorConfig.add_trailing_zeros_for_timestamp_and_duration"/>
 <tr>
  <td><code>add_trailing_zeros_for_timestamp_and_duration</code></td>
  <td>bool</td>
  <td>When set to true, trailing ".000" nano seconds is added when the nanos part is zero for rendering google.protobuf.Timestamp and google.protobuf.Duration values. If this config is unset or set to false, the zeros are omitted.</td>
 </tr>
</table>

<a name="google.api.Usage"/>
### Usage
Configuration controlling usage of a service.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.Usage.service_access"/>
 <tr>
  <td><code>service_access</code></td>
  <td><a href="#google.api.Usage.ServiceAccess">ServiceAccess</a></td>
  <td><p>NOTE: This feature is deprecated. Please use Cloud IAM directly to manage access control to services. See <a href="https://cloud.google.com/service-management/access-control">https://cloud.google.com/service-management/access-control</a> for details.</p><p>Controls which users can see or activate the service.</p></td>
 </tr>
<a name="google.api.Usage.requirements"/>
 <tr>
  <td><code>requirements[]</code></td>
  <td>repeated string</td>
  <td>Requirements that must be satisfied before a consumer project can use the service. Each requirement is of the form &lt;service.name&gt;/<requirement-id>; for example 'serviceusage.googleapis.com/billing-enabled'.</td>
 </tr>
<a name="google.api.Usage.depends_on_services"/>
 <tr>
  <td><code>depends_on_services[]</code></td>
  <td>repeated string</td>
  <td>Services that must be activated in order for this service to be used. The set of services activated as a result of these relations are all activated in parallel with no guaranteed order of activation. Each string is a service name, e.g. <code>calendar.googleapis.com</code>.</td>
 </tr>
<a name="google.api.Usage.activation_hooks"/>
 <tr>
  <td><code>activation_hooks[]</code></td>
  <td>repeated string</td>
  <td><p>Services that must be contacted before a consumer can begin using the service. Each service will be contacted in sequence, and, if any activation call fails, the entire activation will fail. Each hook is of the form &lt;service.name&gt;/<hook-id>, where <hook-id> is optional; for example: 'robotservice.googleapis.com/default'.</p><p>To use this feature, the service name needs to be added to the whitelist file: google/api/whitelist/allow_activation_deactivation_hooks_whitelist. Please contact api-design@ to include your service to this file.</p></td>
 </tr>
<a name="google.api.Usage.deactivation_hooks"/>
 <tr>
  <td><code>deactivation_hooks[]</code></td>
  <td>repeated string</td>
  <td><p>Services that must be contacted before a consumer can deactivate a service. Each service will be contacted in sequence, and, if any deactivation call fails, the entire deactivation will fail. Each hook is of the form &lt;service.name&gt;/<hook-id>, where <hook-id> is optional; for example: 'compute.googleapis.com/'.</p><p>To use this feature, the service name needs to be added to the whitelist file: google/api/whitelist/allow_activation_deactivation_hooks_whitelist. Please contact api-design@ to include your service to this file.</p></td>
 </tr>
<a name="google.api.Usage.rules"/>
 <tr>
  <td><code>rules[]</code></td>
  <td>repeated <a href="#google.api.UsageRule">UsageRule</a></td>
  <td><p>A list of usage rules that apply to individual API methods.</p><p><strong>NOTE:</strong> All service configuration rules follow "last one wins" order.</p></td>
 </tr>
<a name="google.api.Usage.producer_notification_channel"/>
 <tr>
  <td><code>producer_notification_channel</code></td>
  <td>string</td>
  <td><p>The full resource name of a channel used for sending notifications to the service producer.</p><p>Google Service Management currently only supports <a href="https://cloud.google.com/pubsub">Google Cloud Pub/Sub</a> as a notification channel. To use Google Cloud Pub/Sub as the channel, this must be the name of a Cloud Pub/Sub topic that uses the Cloud Pub/Sub topic name format documented in <a href="https://cloud.google.com/pubsub/docs/overview">https://cloud.google.com/pubsub/docs/overview</a>.</p></td>
 </tr>
</table>

<a name="google.api.Usage.ServiceAccess"/>
### ServiceAccess
NOTE: This feature is deprecated. Please use Cloud IAM to
manage access control to services. See
https://cloud.google.com/service-management/access-control for details.

Service access types.

Access to restricted API features is always controlled by
[visibility](#google.api.Visibility), independent of the ServiceAccess type.

Services using one of the ORG_ options will be
restricted to everyone@google.com


<table>
 <tr>
  <th>Value</th>
  <th>Description</th>
 </tr>
<a name="google.api.Usage.ServiceAccess.RESTRICTED"/>
 <tr>
  <td>RESTRICTED</td>
  <td><p>The service can only be seen/used by users identified in the service's access control policy.</p><p>If the service has not been whitelisted by your domain administrator for out-of-org publishing, then this mode will be treated like ORG_RESTRICTED.</p></td>
 </tr>
<a name="google.api.Usage.ServiceAccess.PUBLIC"/>
 <tr>
  <td>PUBLIC</td>
  <td><p>The service can be seen/used by anyone.</p><p>If the service has not been whitelisted by your domain administrator for out-of-org publishing, then this mode will be treated like ORG_PUBLIC.</p><p>The discovery document for the service will also be public and allow unregistered access.</p></td>
 </tr>
<a name="google.api.Usage.ServiceAccess.ORG_RESTRICTED"/>
 <tr>
  <td>ORG_RESTRICTED</td>
  <td><p>The service can be seen/used by users identified in the service's access control policy and they are within the organization that owns the service.</p><p>Access is further constrained to the group controlled by the administrator of the project/org that owns the service.</p></td>
 </tr>
<a name="google.api.Usage.ServiceAccess.ORG_PUBLIC"/>
 <tr>
  <td>ORG_PUBLIC</td>
  <td>The service can be seen/used by the group of users controlled by the administrator of the project/org that owns the service.</td>
 </tr>
</table>

<a name="google.api.UsageManagerRule"/>
### UsageManagerRule
DEPRECATED. Use control envrionment instead.
See http://cs/google/api/control.proto

Configurations for the UsageManagerWrapper.
Example:
  experimental:
    advanced:
      usage_manager_rules:
      - selector: google.library.v1.LibraryService.*
        address: usagemanager.googleprod.com

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.UsageManagerRule.selector"/>
 <tr>
  <td><code>selector</code></td>
  <td>string</td>
  <td><p>Selects the methods to which this rule applies.</p><p>Refer to <a href="#google.api.DocumentationRule.selector">selector</a> for syntax details.</p></td>
 </tr>
<a name="google.api.UsageManagerRule.address"/>
 <tr>
  <td><code>address</code></td>
  <td>string</td>
  <td>The Unifed Backend (go/unified-backend-spec) target address of the UsageManagerService.</td>
 </tr>
<a name="google.api.UsageManagerRule.enable_cache"/>
 <tr>
  <td><code>enable_cache</code></td>
  <td>bool</td>
  <td>Enables caching successful UsageManager checks.</td>
 </tr>
</table>

<a name="google.api.UsageRule"/>
### UsageRule
Usage configuration rules for the service.

NOTE: Under development.

There are no current plans to support this for ESF based
services. If you require unregistered calls to an ESF based service please
contact the one platform team and let us know your use case.

Use this rule to configure unregistered calls for the service. Unregistered
calls are calls that do not contain consumer project identity.
(Example: calls that do not contain an API key).
By default, API methods do not allow unregistered calls, and each method call
must be identified by a consumer project identity. Use this rule to
allow/disallow unregistered calls.

Example of an API that wants to allow unregistered calls for entire service.


    usage:
      rules:
      - selector: "*"
        allow_unregistered_calls: true


Example of a method that wants to allow unregistered calls.


    usage:
      rules:
      - selector: "google.example.library.v1.LibraryService.CreateBook"
        allow_unregistered_calls: true

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.UsageRule.selector"/>
 <tr>
  <td><code>selector</code></td>
  <td>string</td>
  <td><p>Selects the methods to which this rule applies. Use '*' to indicate all methods in all APIs.</p><p>Refer to <a href="#google.api.DocumentationRule.selector">selector</a> for syntax details.</p></td>
 </tr>
<a name="google.api.UsageRule.allow_unregistered_calls"/>
 <tr>
  <td><code>allow_unregistered_calls</code></td>
  <td>bool</td>
  <td>True, if the method allows unregistered calls; false otherwise.</td>
 </tr>
</table>

<a name="google.api.Visibility"/>
### Visibility
`Visibility` defines restrictions for the visibility of service
elements.  Restrictions are specified using visibility labels
(e.g., TRUSTED_TESTER) that are elsewhere linked to users and projects.

Users and projects can have access to more than one visibility label. The
effective visibility for multiple labels is the union of each label's
elements, plus any unrestricted elements.

If an element and its parents have no restrictions, visibility is
unconditionally granted.

Example:


    visibility:
      rules:
      - selector: google.calendar.Calendar.EnhancedSearch
        restriction: TRUSTED_TESTER
      - selector: google.calendar.Calendar.Delegate
        restriction: GOOGLE_INTERNAL


Here, all methods are publicly visible except for the restricted methods
EnhancedSearch and Delegate.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.Visibility.rules"/>
 <tr>
  <td><code>rules[]</code></td>
  <td>repeated <a href="#google.api.VisibilityRule">VisibilityRule</a></td>
  <td><p>A list of visibility rules that apply to individual API elements.</p><p><strong>NOTE:</strong> All service configuration rules follow "last one wins" order.</p></td>
 </tr>
</table>

<a name="google.api.VisibilityRule"/>
### VisibilityRule
A visibility rule provides visibility configuration for an individual API
element.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.VisibilityRule.selector"/>
 <tr>
  <td><code>selector</code></td>
  <td>string</td>
  <td><p>Selects methods, messages, fields, enums, etc. to which this rule applies.</p><p>Refer to <a href="#google.api.DocumentationRule.selector">selector</a> for syntax details.</p></td>
 </tr>
<a name="google.api.VisibilityRule.restriction"/>
 <tr>
  <td><code>restriction</code></td>
  <td>string</td>
  <td><p>A comma-separated list of visibility labels that apply to the <code>selector</code>. Any of the listed labels can be used to grant the visibility.</p><p>If a rule has multiple labels, removing one of the labels but not all of them can break clients.</p><p>Example:</p>
<pre><code>visibility:
  rules:
  - selector: google.calendar.Calendar.EnhancedSearch
    restriction: GOOGLE_INTERNAL, TRUSTED_TESTER
</code></pre><p>Removing GOOGLE_INTERNAL from this restriction will break clients that rely on this method and only had access to it through GOOGLE_INTERNAL.</p></td>
 </tr>
</table>

<a name="google.api.WebChannelConfig"/>
### WebChannelConfig
WebChannel configuration.
This rule is used by Apps Framework for its FE API support.

Example:
  experimental:
    advanced:
      webchannel_config:
      - selector: tech.frontend.WebChannelService.Message
        url_paths:
         - "/foo/service/channel"
         - "/foo/service/channel2"

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.api.WebChannelConfig.selector"/>
 <tr>
  <td><code>selector</code></td>
  <td>string</td>
  <td><p>Selects the methods to which this rule applies.</p><p>Refer to <a href="#google.api.DocumentationRule.selector">selector</a> for syntax details.</p></td>
 </tr>
<a name="google.api.WebChannelConfig.url_paths"/>
 <tr>
  <td><code>url_paths[]</code></td>
  <td>repeated string</td>
  <td>WebChannel url paths configured for method selected by above selector.</td>
 </tr>
</table>

<a name="rpc_google.iam.v1"/>
## Package google.iam.v1

<a name="rpc_google.iam.v1_index"/>
### Index

* [AuditConfig](#google.iam.v1.AuditConfig)
(message)
* [AuditLogConfig](#google.iam.v1.AuditLogConfig)
(message)
* [AuditLogConfig.LogType](#google.iam.v1.AuditLogConfig.LogType)
(enum)
* [AuthContext](#google.iam.v1.AuthContext)
(message)
* [AuthContext.Attr](#google.iam.v1.AuthContext.Attr)
(enum)
* [Binding](#google.iam.v1.Binding)
(message)
* [Condition](#google.iam.v1.Condition)
(message)
* [Condition.Operator](#google.iam.v1.Condition.Operator)
(enum)
* [LogConfig](#google.iam.v1.LogConfig)
(message)
* [LogConfig.CloudAuditOptions](#google.iam.v1.LogConfig.CloudAuditOptions)
(message)
* [LogConfig.CounterOptions](#google.iam.v1.LogConfig.CounterOptions)
(message)
* [LogConfig.DataAccessOptions](#google.iam.v1.LogConfig.DataAccessOptions)
(message)
* [Policy](#google.iam.v1.Policy)
(message)
* [Rule](#google.iam.v1.Rule)
(message)
* [Rule.Action](#google.iam.v1.Rule.Action)
(enum)
* [SystemContext](#google.iam.v1.SystemContext)
(message)
* [SystemContext.Attr](#google.iam.v1.SystemContext.Attr)
(enum)

<a name="google.iam.v1.AuditConfig"/>
### AuditConfig
Provides the configuration for non-admin_activity logging for a service.
Controls exemptions and specific log sub-types.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.iam.v1.AuditConfig.service"/>
 <tr>
  <td><code>service</code></td>
  <td>string</td>
  <td>Specifies a service that will be enabled for audit logging. For example, <code>resourcemanager</code>, <code>storage</code>, <code>compute</code>. <code>allServices</code> is a special value that covers all services.</td>
 </tr>
<a name="google.iam.v1.AuditConfig.exempted_members"/>
 <tr>
  <td><code>exempted_members[]</code></td>
  <td>repeated string</td>
  <td>Specifies the identities that are exempted from "data access" audit logging for the <code>service</code> specified above. Follows the same format of Binding.members.</td>
 </tr>
<a name="google.iam.v1.AuditConfig.audit_log_configs"/>
 <tr>
  <td><code>audit_log_configs[]</code></td>
  <td>repeated <a href="#google.iam.v1.AuditLogConfig">AuditLogConfig</a></td>
  <td>The configuration for each type of logging Next ID: 4</td>
 </tr>
</table>

<a name="google.iam.v1.AuditLogConfig"/>
### AuditLogConfig
Provides the configuration for a sub-type of logging.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.iam.v1.AuditLogConfig.log_type"/>
 <tr>
  <td><code>log_type</code></td>
  <td><a href="#google.iam.v1.AuditLogConfig.LogType">LogType</a></td>
  <td>The log type that this config enables.</td>
 </tr>
<a name="google.iam.v1.AuditLogConfig.exempted_members"/>
 <tr>
  <td><code>exempted_members[]</code></td>
  <td>repeated string</td>
  <td>Specifies the identities that are exempted from this type of logging Follows the same format of Binding.members.</td>
 </tr>
</table>

<a name="google.iam.v1.AuditLogConfig.LogType"/>
### LogType
The types of logging that can be enabled.


<table>
 <tr>
  <th>Value</th>
  <th>Description</th>
 </tr>
<a name="google.iam.v1.AuditLogConfig.LogType.LOG_TYPE_UNSPECIFIED"/>
 <tr>
  <td>LOG_TYPE_UNSPECIFIED</td>
  <td>Default case. Should never be this.</td>
 </tr>
<a name="google.iam.v1.AuditLogConfig.LogType.ADMIN_READ"/>
 <tr>
  <td>ADMIN_READ</td>
  <td>Log admin reads</td>
 </tr>
<a name="google.iam.v1.AuditLogConfig.LogType.DATA_WRITE"/>
 <tr>
  <td>DATA_WRITE</td>
  <td>Log data writes</td>
 </tr>
<a name="google.iam.v1.AuditLogConfig.LogType.DATA_READ"/>
 <tr>
  <td>DATA_READ</td>
  <td>Log data reads</td>
 </tr>
</table>

<a name="google.iam.v1.AuthContext"/>
### AuthContext
Trusted attributes supplied by the IAM system.

NOTE: __No fields in this message type.__

<a name="google.iam.v1.AuthContext.Attr"/>
### Attr
Attribute types.


<table>
 <tr>
  <th>Value</th>
  <th>Description</th>
 </tr>
<a name="google.iam.v1.AuthContext.Attr.NO_ATTR"/>
 <tr>
  <td>NO_ATTR</td>
  <td>Default non-attribute.</td>
 </tr>
<a name="google.iam.v1.AuthContext.Attr.AUTHORITY"/>
 <tr>
  <td>AUTHORITY</td>
  <td>Either principal or (if present) authority selector.</td>
 </tr>
<a name="google.iam.v1.AuthContext.Attr.ATTRIBUTION"/>
 <tr>
  <td>ATTRIBUTION</td>
  <td>The principal (even if an authority selector is present), which must only be used for attribution, not authorization.</td>
 </tr>
<a name="google.iam.v1.AuthContext.Attr.SECURITY_REALM"/>
 <tr>
  <td>SECURITY_REALM</td>
  <td>Any of the security realms in the IAMContext (go/security-realms). When used with IN, the condition indicates "any of the request's realms match one of the given values; with NOT_IN, "none of the realms match any of the given values". It is not permitted to grant access based on the <em>absence</em> of a realm, so realm conditions can only be used in a "positive" context (e.g., ALLOW/IN or DENY/NOT_IN).</td>
 </tr>
</table>

<a name="google.iam.v1.Binding"/>
### Binding
Associates `members` with a `role`.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.iam.v1.Binding.role"/>
 <tr>
  <td><code>role</code></td>
  <td>string</td>
  <td>Role that is assigned to <code>members</code>. For example, <code>roles/viewer</code>, <code>roles/editor</code>, or <code>roles/owner</code>. Required</td>
 </tr>
<a name="google.iam.v1.Binding.members"/>
 <tr>
  <td><code>members[]</code></td>
  <td>repeated string</td>
  <td><p>Specifies the identities requesting access for a Cloud Platform resource. <code>members</code> can have the following values:</p>
<ul>
  <li><p><code>allUsers</code>: A special identifier that represents anyone who is  on the internet; with or without a Google account.</p></li>
  <li><p><code>allAuthenticatedUsers</code>: A special identifier that represents anyone  who is authenticated with a Google account or a service account.</p></li>
  <li><p><code>user:{emailid}</code>: An email address that represents a specific Google  account. For example, <code>alice@gmail.com</code> or <code>joe@example.com</code>.</p></li>
</ul>
<ul>
  <li><p><code>serviceAccount:{emailid}</code>: An email address that represents a service  account. For example, <code>my-other-app@appspot.gserviceaccount.com</code>.</p></li>
  <li><p><code>group:{emailid}</code>: An email address that represents a Google group.  For example, <code>admins@example.com</code>.</p></li>
  <li><p><code>domain:{domain}</code>: A Google Apps domain name that represents all the  users of that domain. For example, <code>google.com</code> or <code>example.com</code>.</p></li>
</ul></td>
 </tr>
</table>

<a name="google.iam.v1.Condition"/>
### Condition
A condition to be met.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.iam.v1.Condition.op"/>
 <tr>
  <td><code>op</code></td>
  <td><a href="#google.iam.v1.Condition.Operator">Operator</a></td>
  <td>An operator to apply the subject with.</td>
 </tr>
<a name="google.iam.v1.Condition.value"/>
 <tr>
  <td><code>value<br><b>(deprecated)</b></code></td>
  <td>string</td>
  <td>DEPRECATED. Use 'values' instead.</td>
 </tr>
<a name="google.iam.v1.Condition.values"/>
 <tr>
  <td><code>values[]</code></td>
  <td>repeated string</td>
  <td>The objects of the condition. This is mutually exclusive with 'value'.</td>
 </tr>
<a name="google.iam.v1.Condition.iam"/>
 <tr>
  <td><code>iam</code></td>
  <td><a href="#google.iam.v1.AuthContext.Attr">Attr</a> (oneof )</td>
  <td>Trusted attributes supplied by the IAM system.</td>
 </tr>
<a name="google.iam.v1.Condition.sys"/>
 <tr>
  <td><code>sys</code></td>
  <td><a href="#google.iam.v1.SystemContext.Attr">Attr</a> (oneof )</td>
  <td>Trusted attributes supplied by any service that owns resources and uses the IAM system for access control.</td>
 </tr>
<a name="google.iam.v1.Condition.svc"/>
 <tr>
  <td><code>svc</code></td>
  <td>string (oneof )</td>
  <td>Trusted attributes discharged by the service.</td>
 </tr>
</table>

<a name="google.iam.v1.Condition.Operator"/>
### Operator
Condition operator types.


<table>
 <tr>
  <th>Value</th>
  <th>Description</th>
 </tr>
<a name="google.iam.v1.Condition.Operator.NO_OP"/>
 <tr>
  <td>NO_OP</td>
  <td>Default no-op.</td>
 </tr>
<a name="google.iam.v1.Condition.Operator.EQUALS"/>
 <tr>
  <td>EQUALS</td>
  <td>DEPRECATED. Use IN instead.</td>
 </tr>
<a name="google.iam.v1.Condition.Operator.NOT_EQUALS"/>
 <tr>
  <td>NOT_EQUALS</td>
  <td>DEPRECATED. Use NOT_IN instead.</td>
 </tr>
<a name="google.iam.v1.Condition.Operator.IN"/>
 <tr>
  <td>IN</td>
  <td>Set-inclusion check.</td>
 </tr>
<a name="google.iam.v1.Condition.Operator.NOT_IN"/>
 <tr>
  <td>NOT_IN</td>
  <td>Set-exclusion check.</td>
 </tr>
<a name="google.iam.v1.Condition.Operator.DISCHARGED"/>
 <tr>
  <td>DISCHARGED</td>
  <td>Subject is discharged</td>
 </tr>
</table>

<a name="google.iam.v1.LogConfig"/>
### LogConfig
Specifies what kind of log the caller must write
Increment a streamz counter with the specified metric and field names.

Metric names should start with a '/', generally be lowercase-only,
and end in "_count". Field names should not contain an initial slash.
The actual exported metric names will have "/iam/policy" prepended.

Field names correspond to IAM request parameters and field values are
their respective values.

At present the only supported field names are
   - "iam_principal", corresponding to IAMContext.principal;
   - "" (empty string), resulting in one aggretated counter with no field.

Examples:
  counter { metric: "/debug_access_count"  field: "iam_principal" }
  ==> increment counter /iam/policy/backend_debug_access_count
                        {iam_principal=[value of IAMContext.principal]}

At this time we do not support:
* multiple field names (though this may be supported in the future)
* decrementing the counter
* incrementing it by anything other than 1

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.iam.v1.LogConfig.counter"/>
 <tr>
  <td><code>counter</code></td>
  <td><a href="#google.iam.v1.LogConfig.CounterOptions">CounterOptions</a> (oneof )</td>
  <td>Counter options.</td>
 </tr>
<a name="google.iam.v1.LogConfig.data_access"/>
 <tr>
  <td><code>data_access</code></td>
  <td><a href="#google.iam.v1.LogConfig.DataAccessOptions">DataAccessOptions</a> (oneof )</td>
  <td>Data access options.</td>
 </tr>
<a name="google.iam.v1.LogConfig.cloud_audit"/>
 <tr>
  <td><code>cloud_audit</code></td>
  <td><a href="#google.iam.v1.LogConfig.CloudAuditOptions">CloudAuditOptions</a> (oneof )</td>
  <td>Cloud audit options.</td>
 </tr>
</table>

<a name="google.iam.v1.LogConfig.CloudAuditOptions"/>
### CloudAuditOptions
Write a Cloud Audit log

NOTE: __No fields in this message type.__

<a name="google.iam.v1.LogConfig.CounterOptions"/>
### CounterOptions
Options for counters

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.iam.v1.LogConfig.CounterOptions.metric"/>
 <tr>
  <td><code>metric</code></td>
  <td>string</td>
  <td>The metric to update.</td>
 </tr>
<a name="google.iam.v1.LogConfig.CounterOptions.field"/>
 <tr>
  <td><code>field</code></td>
  <td>string</td>
  <td>The field value to attribute.</td>
 </tr>
</table>

<a name="google.iam.v1.LogConfig.DataAccessOptions"/>
### DataAccessOptions
Write a Data Access (Gin) log

NOTE: __No fields in this message type.__

<a name="google.iam.v1.Policy"/>
### Policy
Defines an Identity and Access Management (IAM) policy. It is used to
specify access control policies for Cloud Platform resources.


A `Policy` consists of a list of `bindings`. A `Binding` binds a list of
`members` to a `role`, where the members can be user accounts, Google groups,
Google domains, and service accounts. A `role` is a named list of permissions
defined by IAM.

**Example**


    {
      "bindings": [
        {
          "role": "roles/owner",
          "members": [
            "user:mike@example.com",
            "group:admins@example.com",
            "domain:google.com",
            "serviceAccount:my-other-app@appspot.gserviceaccount.com",
          ]
        },
        {
          "role": "roles/viewer",
          "members": ["user:sean@example.com"]
        }
      ]
    }


For a description of IAM and its features, see the
[IAM developer's guide](https://cloud.google.com/iam).

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.iam.v1.Policy.version"/>
 <tr>
  <td><code>version</code></td>
  <td>int32</td>
  <td>Version of the <code>Policy</code>. The default version is 0.</td>
 </tr>
<a name="google.iam.v1.Policy.bindings"/>
 <tr>
  <td><code>bindings[]</code></td>
  <td>repeated <a href="#google.iam.v1.Binding">Binding</a></td>
  <td>Associates a list of <code>members</code> to a <code>role</code>. Multiple <code>bindings</code> must not be specified for the same <code>role</code>. <code>bindings</code> with no members will result in an error.</td>
 </tr>
<a name="google.iam.v1.Policy.audit_configs"/>
 <tr>
  <td><code>audit_configs[]</code></td>
  <td>repeated <a href="#google.iam.v1.AuditConfig">AuditConfig</a></td>
  <td><p>Specifies audit logging configs for "data access". "data access": generally refers to data reads/writes and admin reads. "admin activity": generally refers to admin writes.</p><p>Note: <code>AuditConfig</code> doesn't apply to "admin activity", which always enables audit logging.</p></td>
 </tr>
<a name="google.iam.v1.Policy.rules"/>
 <tr>
  <td><code>rules[]</code></td>
  <td>repeated <a href="#google.iam.v1.Rule">Rule</a></td>
  <td>If more than one rule is specified, the rules are applied in the following manner: - All matching LOG rules are always applied. - If any DENY/DENY_WITH_LOG rule matches, permission is denied.  Logging will be applied if one or more matching rule requires logging. - Otherwise, if any ALLOW/ALLOW_WITH_LOG rule matches, permission is  granted.  Logging will be applied if one or more matching rule requires logging. - Otherwise, if no rule applies, permission is denied.</td>
 </tr>
<a name="google.iam.v1.Policy.etag"/>
 <tr>
  <td><code>etag</code></td>
  <td>bytes</td>
  <td><p><code>etag</code> is used for optimistic concurrency control as a way to help prevent simultaneous updates of a policy from overwriting each other. It is strongly suggested that systems make use of the <code>etag</code> in the read-modify-write cycle to perform policy updates in order to avoid race conditions: An <code>etag</code> is returned in the response to <code>getIamPolicy</code>, and systems are expected to put that etag in the request to <code>setIamPolicy</code> to ensure that their change will be applied to the same version of the policy.</p><p>If no <code>etag</code> is provided in the call to <code>setIamPolicy</code>, then the existing policy is overwritten blindly.</p></td>
 </tr>
<a name="google.iam.v1.Policy.iam_owned"/>
 <tr>
  <td><code>iam_owned</code></td>
  <td>bool</td>
  <td></td>
 </tr>
</table>

<a name="google.iam.v1.Rule"/>
### Rule
A rule to be applied in a Policy.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.iam.v1.Rule.description"/>
 <tr>
  <td><code>description</code></td>
  <td>string</td>
  <td>Human-readable description of the rule.</td>
 </tr>
<a name="google.iam.v1.Rule.permissions"/>
 <tr>
  <td><code>permissions[]</code></td>
  <td>repeated string</td>
  <td>A permission is a string of form '<service>.<resource type>.<verb>' (e.g., 'storage.buckets.list'). A value of '*' matches all permissions, and a verb part of '*' (e.g., 'storage.buckets.*') matches all verbs.</td>
 </tr>
<a name="google.iam.v1.Rule.action"/>
 <tr>
  <td><code>action</code></td>
  <td><a href="#google.iam.v1.Rule.Action">Action</a></td>
  <td>Required</td>
 </tr>
<a name="google.iam.v1.Rule.in"/>
 <tr>
  <td><code>in[]</code></td>
  <td>repeated string</td>
  <td>If one or more 'in' clauses are specified, the rule matches if the PRINCIPAL/AUTHORITY_SELECTOR is in at least one of these entries.</td>
 </tr>
<a name="google.iam.v1.Rule.not_in"/>
 <tr>
  <td><code>not_in[]</code></td>
  <td>repeated string</td>
  <td>If one or more 'not_in' clauses are specified, the rule matches if the PRINCIPAL/AUTHORITY_SELECTOR is in none of the entries. The format for in and not_in entries is the same as for members in a Binding (see google/iam/v1/policy.proto).</td>
 </tr>
<a name="google.iam.v1.Rule.conditions"/>
 <tr>
  <td><code>conditions[]</code></td>
  <td>repeated <a href="#google.iam.v1.Condition">Condition</a></td>
  <td>Additional restrictions that must be met</td>
 </tr>
<a name="google.iam.v1.Rule.log_config"/>
 <tr>
  <td><code>log_config[]</code></td>
  <td>repeated <a href="#google.iam.v1.LogConfig">LogConfig</a></td>
  <td>The config returned to callers of tech.iam.IAM.CheckPolicy for any entries that match the LOG action.</td>
 </tr>
</table>

<a name="google.iam.v1.Rule.Action"/>
### Action
Rule action types.


<table>
 <tr>
  <th>Value</th>
  <th>Description</th>
 </tr>
<a name="google.iam.v1.Rule.Action.NO_ACTION"/>
 <tr>
  <td>NO_ACTION</td>
  <td>Default no action.</td>
 </tr>
<a name="google.iam.v1.Rule.Action.ALLOW"/>
 <tr>
  <td>ALLOW</td>
  <td>Matching 'Entries' grant access.</td>
 </tr>
<a name="google.iam.v1.Rule.Action.ALLOW_WITH_LOG"/>
 <tr>
  <td>ALLOW_WITH_LOG</td>
  <td>Matching 'Entries' grant access and the caller promises to log the request per the returned log_configs.</td>
 </tr>
<a name="google.iam.v1.Rule.Action.DENY"/>
 <tr>
  <td>DENY</td>
  <td>Matching 'Entries' deny access.</td>
 </tr>
<a name="google.iam.v1.Rule.Action.DENY_WITH_LOG"/>
 <tr>
  <td>DENY_WITH_LOG</td>
  <td>Matching 'Entries' deny access and the caller promises to log the request per the returned log_configs.</td>
 </tr>
<a name="google.iam.v1.Rule.Action.LOG"/>
 <tr>
  <td>LOG</td>
  <td>Matching 'Entries' tell IAM.Check callers to generate logs.</td>
 </tr>
</table>

<a name="google.iam.v1.SystemContext"/>
### SystemContext
Trusted attributes supplied by any service that owns resources and uses
the IAM system for access control.

NOTE: __No fields in this message type.__

<a name="google.iam.v1.SystemContext.Attr"/>
### Attr
Attribute types.


<table>
 <tr>
  <th>Value</th>
  <th>Description</th>
 </tr>
<a name="google.iam.v1.SystemContext.Attr.NO_ATTR"/>
 <tr>
  <td>NO_ATTR</td>
  <td>Default non-attribute type</td>
 </tr>
<a name="google.iam.v1.SystemContext.Attr.REGION"/>
 <tr>
  <td>REGION</td>
  <td>Region of the resource</td>
 </tr>
<a name="google.iam.v1.SystemContext.Attr.SERVICE"/>
 <tr>
  <td>SERVICE</td>
  <td>Service name</td>
 </tr>
<a name="google.iam.v1.SystemContext.Attr.NAME"/>
 <tr>
  <td>NAME</td>
  <td>Resource name</td>
 </tr>
<a name="google.iam.v1.SystemContext.Attr.IP"/>
 <tr>
  <td>IP</td>
  <td>IP address of the caller</td>
 </tr>
</table>

<a name="rpc_google.type"/>
## Package google.type

<a name="rpc_google.type_index"/>
### Index

* [Date](#google.type.Date)
(message)

<a name="google.type.Date"/>
### Date
Represents a whole calendar date, e.g. date of birth. The time of day and
time zone are either specified elsewhere or are not significant. The date
is relative to the Proleptic Gregorian Calendar. The day may be 0 to
represent a year and month where the day is not significant, e.g. credit card
expiration date. The year may be 0 to represent a month and day independent
of year, e.g. anniversary date. Related types are google.type.TimeOfDay
and `google.protobuf.Timestamp`.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="google.type.Date.year"/>
 <tr>
  <td><code>year</code></td>
  <td>int32</td>
  <td>Year of date. Must be from 1 to 9999, or 0 if specifying a date without a year.</td>
 </tr>
<a name="google.type.Date.month"/>
 <tr>
  <td><code>month</code></td>
  <td>int32</td>
  <td>Month of year. Must be from 1 to 12.</td>
 </tr>
<a name="google.type.Date.day"/>
 <tr>
  <td><code>day</code></td>
  <td>int32</td>
  <td>Day of month. Must be from 1 to 31 and valid for the year and month, or 0 if specifying a year/month where the day is not significant.</td>
 </tr>
</table>

<a name="rpc_security.context"/>
## Package security.context

<a name="rpc_security.context_index"/>
### Index

* [AuditRequirements](#security.context.AuditRequirements)
(message)
* [AuditRequirements.UnauditedDisposition](#security.context.AuditRequirements.UnauditedDisposition)
(enum)
* [AuthenticationPolicy](#security.context.AuthenticationPolicy)
(message)
* [AuthorizationMethod](#security.context.AuthorizationMethod)
(message)
* [AuthorizationMethod.CloudIam](#security.context.AuthorizationMethod.CloudIam)
(message)
* [AuthorizationMethod.Custom](#security.context.AuthorizationMethod.Custom)
(message)
* [AuthorizationMethod.Delegated](#security.context.AuthorizationMethod.Delegated)
(message)
* [AuthorizationMethod.LocalIam](#security.context.AuthorizationMethod.LocalIam)
(message)
* [AuthorizationMode](#security.context.AuthorizationMode)
(enum)
* [CredsPolicyConfigProto](#security.context.CredsPolicyConfigProto)
(message)
* [CredsPolicyConfigProto.CredsEnvironment](#security.context.CredsPolicyConfigProto.CredsEnvironment)
(enum)
* [CredsPolicyProto](#security.context.CredsPolicyProto)
(message)
* [CredsWhitelistProto](#security.context.CredsWhitelistProto)
(message)
* [CredsWhitelistProto.WhitelistMode](#security.context.CredsWhitelistProto.WhitelistMode)
(enum)
* [CredsWhitelistProto.WhitelistPurpose](#security.context.CredsWhitelistProto.WhitelistPurpose)
(enum)
* [RpcSecurityPolicy](#security.context.RpcSecurityPolicy)
(message)
* [RpcSecurityPolicyMapping](#security.context.RpcSecurityPolicyMapping)
(message)
* [ValidationOptions](#security.context.ValidationOptions)
(message)

<a name="security.context.AuditRequirements"/>
### AuditRequirements
Audit requirements applied during SecurityContext validation.
Implemented in C++ and Java. For other languages, please contact
credentials-eng@.

Example:
  audit_person_clients: true
  code_audited_clients: "mdbgroup/bcid-level-3"
  unaudited_disposition: WARN

In this example, all calls originating from Googlers will be logged to Gin,
calls from level 3 BCID-verified roles will log to Gin only if sending
audit-tagged credentials, and calls from all other roles will result in a
warning.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="security.context.AuditRequirements.audit_person_clients"/>
 <tr>
  <td><code>audit_person_clients</code></td>
  <td>bool</td>
  <td>If set to true, indicates that Gin logging should always be recommended (via data_access_logging_recommended) for RPCs originating from Googler LOAS roles ("mdbgroup/all-person-users"). If set to false, the 'log_use_to_gin' bit set will determine the logging status of these calls.</td>
 </tr>
<a name="security.context.AuditRequirements.code_audited_clients"/>
 <tr>
  <td><code>code_audited_clients[]</code></td>
  <td>repeated string</td>
  <td><p>Calls from clients matching this field do not generate an audit record, unless these calls include credentials that specifically indicate auditing. (These clients are assumed to have audited source code.)</p><p>Only MDB users and groups are permitted in this field, and must be represented as short-form principals (strings starting with "mdbuser/" or "mdbgroup/").</p><p>Typically this list will contain a single entry that looks like "mdbgroup/bcid-level-3" (see go/bcid-ganpati-groups for instructions on getting included in this group).</p></td>
 </tr>
<a name="security.context.AuditRequirements.unaudited_disposition"/>
 <tr>
  <td><code>unaudited_disposition</code></td>
  <td><a href="#security.context.AuditRequirements.UnauditedDisposition">UnauditedDisposition</a></td>
  <td></td>
 </tr>
</table>

<a name="security.context.AuditRequirements.UnauditedDisposition"/>
### UnauditedDisposition
Indicates what should be done when a call is received that is not tied to
any acceptable audit trail, which occurs when the following three
conditions are met:
 (1) credentials are either absent or do not have the 'log_to_gin' bit set;
 (2) the call was not forced into Gin logging via 'audit_person_clients';
 (3) the caller is not a member of 'code_audited_clients'.


<table>
 <tr>
  <th>Value</th>
  <th>Description</th>
 </tr>
<a name="security.context.AuditRequirements.UnauditedDisposition.REJECT"/>
 <tr>
  <td>REJECT</td>
  <td></td>
 </tr>
<a name="security.context.AuditRequirements.UnauditedDisposition.WARN"/>
 <tr>
  <td>WARN</td>
  <td></td>
 </tr>
<a name="security.context.AuditRequirements.UnauditedDisposition.IGNORE"/>
 <tr>
  <td>IGNORE</td>
  <td>Legacy behavior: accept request without warning</td>
 </tr>
</table>

<a name="security.context.AuthenticationPolicy"/>
### AuthenticationPolicy
Policy determining how clients can authenticate.

This policy only controls how the service determines whose authority a
given request carries. Whether that authority is sufficient for the request
is determined through subsequent authorization checks.

The credentials 'environment' (determining whether prod or test credentials
are accepted) is set outside of this policy, typically via
--rpc_security_policy_env.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="security.context.AuthenticationPolicy.creds_policy"/>
 <tr>
  <td><code>creds_policy</code></td>
  <td><a href="#google.iam.v1.Policy">Policy</a></td>
  <td><p>IAM Policy determining types of credentials that clients can use.</p><p>The following permissions are supported in this policy:</p><p>'auth.creds.useLOAS'  Can authenticate directly using LOAS, without a separate signed  authenticator. By default the authority is that of the peer (client)  user, possibly attenuated through a provided authority selector.  Clients with useLOAS permission are always allowed to assert their own  prod identity (asserted_user=mdbuser/<self>) or to assert anonymous  access (access_assertion=ANONYMOUS). If a different asserted user  is provided, this must be permitted under the impersonation_policy.</p><p>This permission also accepts a normal user EUC or prod user EUC  that was obtained on the authority of the client user (e.g., a GaiaMint  for the client's robot account, a GaiaMint obtained by the client via  go/loas-mint-exchange or go/per-user-service-trust, or a DAT obtained on  the client's authority).  In this case, the authority is what is conveyed by the EUC.</p><p>'auth.creds.useNormalUserEUC'  Can present credentials provided by an end user (external Gaia user),  such as  - a GaiaMint obtained from a Gaia cookie or OAuth token, or  - a TransactDAT obtained from such a GaiaMint.  This also covers child-impersonation credentials (go/unimint) obtained  in exchange for a parent's normal-user EUC.  The authority is that of the end user from the EUC.</p><p>'auth.creds.useProdUserEUC'  Can present credentials conveying the authority of an internal  @prod.google.com user (MDB user), such as  - An "all targets" DAT obtained by a prod user (the DAT requester is  the authenticated user, and the Tonic policy is used as an authority  selector -- see go/tonic-migration).  - An MDB-user TransactDAT obtained from Tonic either by the user  directly or by a service forwarding that user's SSO ticket.  - An impersonation DAT obtained from Tonic, a GaiaMint obtained from  such a DAT, an all-targets DAT with EUC asserted_user set, or  a service trust mint obtained per a user's trust grant record.  In these cases, the impersonation must be permitted by the  impersonation_policy.</p><p>'auth.creds.useEnterpriseAdminEUC'  Can present EnterpriseDATs (go/enterprise-dat) and GaiaMints obtained  from such DATs. Note that the 'auth.creds.useNormalUserEUC' permission  does not apply to such credentials.</p></td>
 </tr>
<a name="security.context.AuthenticationPolicy.impersonation_policy"/>
 <tr>
  <td><code>impersonation_policy</code></td>
  <td><a href="#google.iam.v1.Policy">Policy</a></td>
  <td><p>IAM Policy for user impersonation.</p><p>This policy is consulted in addition to the creds_policy check, when the presented EndUserCreds represent impersonation. The authority under which the impersonation is requested is checked against the policy. No one (even the current user) has impersonation privileges by default.</p><p>The following permissions are supported in this policy:</p><p>'auth.impersonation.impersonateNormalUser'  Can impersonate an end user (external Gaia user). For example:  - EndUserCreds 'asserted_user' with no authenticator.  - EndUserCreds 'asserted_user' with an "all targets" DAT.  - A single-user DAT or GaiaMint obtained through an impersonation  (non-TRANSACTION) Tonic policy.  In the first case, the peer is checked against the policy.  In the Tonic-based cases, the authority corresponding to the DAT  requester and Tonic policy is checked (see go/tonic-migration).</p><p>'auth.impersonation.impersonateProdUser'  Similar to auth.impersonation.impersonateNormalUser, but used when the  impersonation target is an internal @prod.google.com user (MDB user).</p><p>If the permission check succeeds, the request is given the authority of the impersonated user (with any associated iam_attributes from EndUserCreds).</p><p>See rpc_security_policy.proto for usage examples.</p></td>
 </tr>
</table>

<a name="security.context.AuthorizationMethod"/>
### AuthorizationMethod
Describes an authorization method.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="security.context.AuthorizationMethod.local_iam"/>
 <tr>
  <td><code>local_iam</code></td>
  <td><a href="#security.context.AuthorizationMethod.LocalIam">LocalIam</a> (oneof )</td>
  <td></td>
 </tr>
<a name="security.context.AuthorizationMethod.cloud_iam"/>
 <tr>
  <td><code>cloud_iam</code></td>
  <td><a href="#security.context.AuthorizationMethod.CloudIam">CloudIam</a> (oneof )</td>
  <td></td>
 </tr>
<a name="security.context.AuthorizationMethod.delegated"/>
 <tr>
  <td><code>delegated</code></td>
  <td><a href="#security.context.AuthorizationMethod.Delegated">Delegated</a> (oneof )</td>
  <td></td>
 </tr>
<a name="security.context.AuthorizationMethod.custom"/>
 <tr>
  <td><code>custom</code></td>
  <td><a href="#security.context.AuthorizationMethod.Custom">Custom</a> (oneof )</td>
  <td></td>
 </tr>
</table>

<a name="security.context.AuthorizationMethod.CloudIam"/>
### CloudIam
Represents a Cloud IAM authorization check. This method is tracked by
the CloudAuthorization library.

NOTE: __No fields in this message type.__

<a name="security.context.AuthorizationMethod.Custom"/>
### Custom
If you intend to use some authorization method not listed above, use
Custom and record the check with the security context Obligations library
(e.g., google3/security/context/public/obligations.h).

NOTE: __No fields in this message type.__

<a name="security.context.AuthorizationMethod.Delegated"/>
### Delegated
Represents the intention to defer the authorization decision to some
downstream service, and to trust that service's authorization decision.
This method should be tracked by application code when it receives an
RPC response from the delegate service.

NOTE: __No fields in this message type.__

<a name="security.context.AuthorizationMethod.LocalIam"/>
### LocalIam
Represents an IAM authorization check made against the local system
authorization policy. This method is tracked by the LocalAuthorization
library (e.g., google3/security/authorization/iam/authorize.h).

NOTE: __No fields in this message type.__

<a name="security.context.AuthorizationMode"/>
### AuthorizationMode
How authorization will be performed. This is currently taken into
consideration during authentication because:
(1) it affects what information is exposed in the SecurityContext;
(2) we will try to check any implied invariants in various library or
framework code.


<table>
 <tr>
  <th>Value</th>
  <th>Description</th>
 </tr>
<a name="security.context.AuthorizationMode.AUTHORIZATION_MODE_UNKNOWN"/>
 <tr>
  <td>AUTHORIZATION_MODE_UNKNOWN</td>
  <td>Do not use.</td>
 </tr>
<a name="security.context.AuthorizationMode.AUTOMATIC_IAM"/>
 <tr>
  <td>AUTOMATIC_IAM</td>
  <td><p>The mode instructs the Stubby RPC framework to perform an authorization check before the application even sees the request. As such it is a suitable, though more flexible, replacement for LabelACL.</p><p>An important caveat is that audit logging is not yet supported in this mode. As such, most applications handling sensitive data should use MANUAL_IAM mode instead.</p><p>The particular authorization check is determined by RpcSecurityPolicyMapping with |permission_to_check| set. The request is rejected unless the authenticated user has the required permission in the system authorization policy.</p><p>After authorization, the application request handler will see a validated SecurityContext in which user() is the authenticated user and peer() is not available (except for logging purposes, via GetLoggableProto()).</p><p>It is acceptable to perform additional authorization checks (using either IAM policy or custom logic) for finer-grained access control.</p><p>This mode ensures that: 1) Only the correct identity is used in authorization. 2) We do not forget to do an authorization check. 3) We can capture the system-level authorization policy for analysis.</p></td>
 </tr>
<a name="security.context.AuthorizationMode.MANUAL_IAM"/>
 <tr>
  <td>MANUAL_IAM</td>
  <td><p>Most applications that handle any sensitive data should use this mode.</p><p>This mode represents a promise by the application to perform an IAM-based authorization check, specifically using security_iam::Authorize::Check (in google3/security/authorization/iam/authorize.h) or the equivalent in other languages.</p><p>Framework code may verify that the promise is honored; failure to do so is generally a security hole and you may be nagged by security and privacy teams. It is acceptable to reject a request (for example for rate limiting) without doing the authorization check.</p><p>The authorization checks performed by the application can use the 'system_authorization_policy' from RpcSecurityPolicy (if that is more convenient) or one loaded by the application.</p><p>The SecurityContext visible to the application will not expose the LOAS peer() explicitly, just the authenticated user in user()---this may be the LOAS peer or the user from an EUC, depending on the credential policy and whether an EUC was supplied.</p><p>It is acceptable to perform additional authorization checks (whether they use IAM or not) after the initial one. For example, you might perform the coarse-grained (service-wide) authorization check covering things like batch jobs and SRE access using the IAM language, but do per-object checks using Zanzibar or another system.</p><p>This mode ensures that: 1) Only the correct identity is used in authorization. 2) We have a reasonable chance of detecting a missed authorization check. 3) If authorization is done, we do not forget to write an audit log when  necessary. 4) We can capture the system-level authorization policy for analysis.</p></td>
 </tr>
<a name="security.context.AuthorizationMode.MANUAL_LEGACY"/>
 <tr>
  <td>MANUAL_LEGACY</td>
  <td><p>In this mode, the application is trusted to do authorization checks using some custom scheme.</p><p>This mode does not expose the system-level authorization policy for analysis, nor does it ensure that authorization and logging policies are enforced, so the AUTOMATIC_IAM and MANUAL_IAM modes are preferred. Over time, we hope to reduce or eliminate use of MANUAL_LEGACY mode.</p><p>The application will see a validated SecurityContext immediately upon processing the RPC. It is up to the application to perform a suitable authorization check and write any audit logs.</p></td>
 </tr>
<a name="security.context.AuthorizationMode.MANUAL"/>
 <tr>
  <td>MANUAL</td>
  <td><p>This mode indicates that the service will perform some manual authorization checks, but does not specify the form of those checks. If you use this mode you must define the authorization methods that you intend to use, via the AuthorizationMethod field in RpcSecurityPolicy.</p><p>WARNING: This mode is not yet supported in Go (b/30948109).</p><p>EXPERIMENTAL. This mode is meant to be used with the AuthorizationMethod field in RpcSecurityPolicy, which is currently under development. If you would like to use this approach to track your authorization, contact <a href="mailto:&#x63;&#114;&#101;&#100;&#x65;&#110;&#116;&#x69;&#97;&#x6c;&#x73;&#x2d;&#x65;&#110;&#x67;&#64;&#103;o&#111;&#x67;&#x6c;e&#x2e;&#99;&#111;&#109;">&#x63;&#114;&#101;&#100;&#x65;&#110;&#116;&#x69;&#97;&#x6c;&#x73;&#x2d;&#x65;&#110;&#x67;&#64;&#103;o&#111;&#x67;&#x6c;e&#x2e;&#99;&#111;&#109;</a>.</p></td>
 </tr>
</table>

<a name="security.context.CredsPolicyConfigProto"/>
### CredsPolicyConfigProto
CredsPolicy proto definitions used by automatic EndUserCreds validation in
Stubby. To be replaced by RpcSecurityPolicy (see rpc_security_policy.proto).
See go/credspolicy.
Next ID: 4.  Burned: 2.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="security.context.CredsPolicyConfigProto.creds_policy"/>
 <tr>
  <td><code>creds_policy[]</code></td>
  <td>repeated <a href="#security.context.CredsPolicyProto">CredsPolicyProto</a></td>
  <td>A list of all credentials policies that apply to this job.</td>
 </tr>
<a name="security.context.CredsPolicyConfigProto.creds_environment"/>
 <tr>
  <td><code>creds_environment</code></td>
  <td><a href="#security.context.CredsPolicyConfigProto.CredsEnvironment">CredsEnvironment</a></td>
  <td>REQUIRED.</td>
 </tr>
</table>

<a name="security.context.CredsPolicyConfigProto.CredsEnvironment"/>
### CredsEnvironment


<table>
 <tr>
  <th>Value</th>
  <th>Description</th>
 </tr>
<a name="security.context.CredsPolicyConfigProto.CredsEnvironment.PROD"/>
 <tr>
  <td>PROD</td>
  <td>Production environment using real user data and credentials</td>
 </tr>
<a name="security.context.CredsPolicyConfigProto.CredsEnvironment.TEST"/>
 <tr>
  <td>TEST</td>
  <td>Dev/Test environment using fake data and credentials</td>
 </tr>
<a name="security.context.CredsPolicyConfigProto.CredsEnvironment.FAKE"/>
 <tr>
  <td>FAKE</td>
  <td>Fake environment, for use in tests requiring no external</td>
 </tr>
</table>

<a name="security.context.CredsPolicyProto"/>
### CredsPolicyProto
Next ID: 6.  Burned: 2,3,4.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="security.context.CredsPolicyProto.method"/>
 <tr>
  <td><code>method[]</code></td>
  <td>repeated string</td>
  <td><p>Full stubby method names for which this policy should be enforced. Should follow the convention laid out in RpcServerContext.getFullMethodName(), e.g., "/MyService.MyMethod" A given method must not appear more than once anywhere under the enclosing CredsPolicyConfigProto.</p><p>You may specify "/MyService.*" to match all methods in a service that haven't been explicitly listed anywhere under the enclosing CredsPolicyConfigProto. It is prohibited to redundantly list "/MyService.*" and "/MyService.SomeMethod" in the same CredsPolicyProto.</p><p>Exact method name matches listed within creds_policy entries take precedence over '/MyService.*' wildcards.</p><p>AT LEAST ONE REQUIRED</p></td>
 </tr>
<a name="security.context.CredsPolicyProto.validation_options"/>
 <tr>
  <td><code>validation_options</code></td>
  <td><a href="#security.context.ValidationOptions">ValidationOptions</a></td>
  <td><p>Specifies various options that control credential verification for the methods listed in the 'method' field above.</p><p>REQUIRED</p></td>
 </tr>
</table>

<a name="security.context.CredsWhitelistProto"/>
### CredsWhitelistProto
Next ID: 6.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="security.context.CredsWhitelistProto.client"/>
 <tr>
  <td><code>client[]</code></td>
  <td>repeated string</td>
  <td>A list of short-form Principals (go/principal-short-form) indicating MDB groups or MDB roles that are allowed to bypass credentials checks. E.g., "mdbuser/caribou" or "mdbgroup/cosmo-privileged-readers". AT LEAST ONE REQUIRED.</td>
 </tr>
<a name="security.context.CredsWhitelistProto.purpose"/>
 <tr>
  <td><code>purpose</code></td>
  <td><a href="#security.context.CredsWhitelistProto.WhitelistPurpose">WhitelistPurpose</a></td>
  <td>Purpose of this whitelist entry. REQUIRED.</td>
 </tr>
<a name="security.context.CredsWhitelistProto.justification"/>
 <tr>
  <td><code>justification</code></td>
  <td>string</td>
  <td>A human-readable string justification of why this whitelist entry is present, which serves as an enhanced description of |purpose| above. E.g. legacy client which does not send GaiaMints, "internal service within the same trust domain, etc.</td>
 </tr>
<a name="security.context.CredsWhitelistProto.granted_scope"/>
 <tr>
  <td><code>granted_scope[]</code></td>
  <td>repeated int32</td>
  <td>API scope codes to be assumed for requests from callers matching any client in the above list. A matching caller will have an authority equivalent to an all-users or single-user Data Access Token containing all scope codes listed here. At least one granted_scope must match an acceptable_scope in the CredsPolicyProto. Please note that scope expansion (go/apiscopes) does NOT occur; e.g. if your application has a FOO_READWRITE which implies FOO_READ, youll probably want to list both here. AT LEAST ONE REQUIRED.</td>
 </tr>
<a name="security.context.CredsWhitelistProto.mode"/>
 <tr>
  <td><code>mode</code></td>
  <td><a href="#security.context.CredsWhitelistProto.WhitelistMode">WhitelistMode</a></td>
  <td></td>
 </tr>
</table>

<a name="security.context.CredsWhitelistProto.WhitelistMode"/>
### WhitelistMode


<table>
 <tr>
  <th>Value</th>
  <th>Description</th>
 </tr>
<a name="security.context.CredsWhitelistProto.WhitelistMode.IGNORE_CREDS"/>
 <tr>
  <td>IGNORE_CREDS</td>
  <td>Authenticators and assertions are ignored. Useful for smooth migration.</td>
 </tr>
</table>

<a name="security.context.CredsWhitelistProto.WhitelistPurpose"/>
### WhitelistPurpose


<table>
 <tr>
  <th>Value</th>
  <th>Description</th>
 </tr>
<a name="security.context.CredsWhitelistProto.WhitelistPurpose.INVALID"/>
 <tr>
  <td>INVALID</td>
  <td>The purpose must be explicitly set to a value other than INVALID.</td>
 </tr>
<a name="security.context.CredsWhitelistProto.WhitelistPurpose.TEST_ONLY"/>
 <tr>
  <td>TEST_ONLY</td>
  <td>For use in test code only. Should not be used by any prod services.</td>
 </tr>
<a name="security.context.CredsWhitelistProto.WhitelistPurpose.LEGACY_NO_CREDS"/>
 <tr>
  <td>LEGACY_NO_CREDS</td>
  <td><p>Temporary privileged access granted to clients that currently don't provide end user creds, but soon will. Clients whitelisted with this purpose should not rely on this access forever, and should have a plan to provide creds within a reasonable timeframe.</p><p>Any creds that the client does provide may be validated for monitoring purposes -- see <a href="http://go/credspolicy/monitoring">http://go/credspolicy/monitoring</a>.</p></td>
 </tr>
<a name="security.context.CredsWhitelistProto.WhitelistPurpose.PRIVILEGED"/>
 <tr>
  <td>PRIVILEGED</td>
  <td>Used to grant privileged access to certain kinds of jobs and services that are trusted to access any data for the granted scopes. Clients whitelisted with this purpose may be subject to requirements such as BCID compliance or code audits.</td>
 </tr>
</table>

<a name="security.context.RpcSecurityPolicy"/>
### RpcSecurityPolicy
Security policy determining how requests are authenticated and authorized.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="security.context.RpcSecurityPolicy.mapping"/>
 <tr>
  <td><code>mapping[]</code></td>
  <td>repeated <a href="#security.context.RpcSecurityPolicyMapping">RpcSecurityPolicyMapping</a></td>
  <td><p>Authentication and (optionally) authorization policy, using a model consistent with Cloud Identity and Authorization Management (go/iam). See <a href="http://go/stubby-authz-2014#heading=h.nxwc3s5ss1ve">http://go/stubby-authz-2014#heading=h.nxwc3s5ss1ve</a> for discussion of how credential policy and request authorization policy fit together in this model.</p><p>For methods not matched by any mapping (see RpcSecurityPolicyMapping.rpc_method), the handling depends on the value of trust_esf_authentication field. If trust_esf_authentication is set to true and the request is ESF-authenticated, unmatched methods are treated as if MANUAL_IAM authorization mode applied (with empty permission_to_check). Otherwise, a default deny-all policy applies to all unmatched methods.</p><p>Example: Service with a simple, coarse-grained authorization policy.</p><p>mapping {  rpc_method: '/WidgetService.Get'  rpc_method: '/WidgetService.List'  authentication_policy {  creds_policy {  # All clients can authenticate as themselves via LOAS.  rules {  permissions: 'auth.creds.useLOAS'  action: ALLOW  in: 'allUsers'  }  }  }  authorization_mode: AUTOMATIC_IAM # Authorization check in Stubby.  permission_to_check: 'widgets.read'  }  mapping {  rpc_method: '/WidgetService.Create'  rpc_method: '/WidgetService.Update'  authentication_policy {  creds_policy {  # All clients can authenticate as themselves via LOAS.  rules {  permissions: 'auth.creds.useLOAS'  action: ALLOW  in: 'allUsers'  }  }  }  authorization_mode: AUTOMATIC_IAM # Authorization check in Stubby.  permission_to_check: 'widgets.write'  }  # Calls to any methods not listed above are rejected.</p><p>system_authorization_policy {  rules {  permissions: 'widgets.read'  action: ALLOW  in: 'mdb:widget-clients-readonly'  in: 'user:<a href="mailto:&#x77;&#105;d&#x67;&#101;&#116;&#x2d;&#105;&#x6e;&#100;&#101;&#120;&#x65;&#x72;&#x40;&#112;&#114;&#111;&#x64;&#x2e;&#103;&#111;o&#x67;l&#101;&#46;c&#x6f;&#x6d;">&#x77;&#105;d&#x67;&#101;&#116;&#x2d;&#105;&#x6e;&#100;&#101;&#120;&#x65;&#x72;&#x40;&#112;&#114;&#111;&#x64;&#x2e;&#103;&#111;o&#x67;l&#101;&#46;c&#x6f;&#x6d;</a>'  }  rules {  permissions: 'widgets.write'  permissions: 'widgets.read'  action: ALLOW  in: 'mdb:widget-sre'  in: 'mdb:widget-clients-readwrite'  }  }</p><p>Example: Service with coarse-grained privileged access policy and  custom fine-grained authorization checks for end-user actions.</p><p>mapping {  rpc_method: '/Accounts.Create'  rpc_method: '/Accounts.Get'  rpc_method: '/Accounts.List'  rpc_method: '/Accounts.Update'  authentication_policy {  creds_policy {  # Frontend passes GaiaMints.  rules {  permissions: 'auth.creds.useNormalUserEUC'  action: ALLOW  in: 'user:<a href="mailto:&#x61;&#99;&#99;o&#117;&#110;&#x74;s&#45;&#102;&#114;&#x6f;&#110;t&#101;nd@&#112;&#x72;&#x6f;&#x64;.&#x67;oo&#103;&#108;&#101;&#46;c&#111;&#109;">&#x61;&#99;&#99;o&#117;&#110;&#x74;s&#45;&#102;&#114;&#x6f;&#110;t&#101;nd@&#112;&#x72;&#x6f;&#x64;.&#x67;oo&#103;&#108;&#101;&#46;c&#111;&#109;</a>'  }  # Admin frontend passes DATs or GaiaMints obtained on the authority  # of a Googler. These may be "impersonation" credentials (subject  # to the impersonation_policy below) or "SuperDATs".  rules {  permissions: 'auth.creds.useProdUserEUC'  action: ALLOW  in: 'user:<a href="mailto:&#97;&#x63;&#x63;&#x6f;&#x75;&#110;&#116;s&#x2d;&#97;d&#x6d;&#x69;n&#45;&#102;&#114;o&#110;&#x74;e&#x6e;&#x64;@pr&#x6f;&#x64;&#46;g&#111;&#x6f;&#103;&#108;&#x65;.&#99;&#111;&#x6d;">&#97;&#x63;&#x63;&#x6f;&#x75;&#110;&#116;s&#x2d;&#97;d&#x6d;&#x69;n&#45;&#102;&#114;o&#110;&#x74;e&#x6e;&#x64;@pr&#x6f;&#x64;&#46;g&#111;&#x6f;&#103;&#108;&#x65;.&#99;&#111;&#x6d;</a>'  }  # All clients can authenticate as themselves via LOAS, make  # "anonymous" requests for public data, or (subject to the  # impersonation_policy below) assert another user identity.  rules {  permissions: 'auth.creds.useLOAS'  action: ALLOW  in: 'allUsers'  }  }  impersonation_policy {  rules {  permissions: 'auth.impersonation.impersonateNormalUser'  action: ALLOW  # Tonic policies granting API_ACCOUNTS or LOAS-authenticated  # clients who are authorized requesters under such a policy.  in: 'mdb:tonic-scope-api-accounts'  # This privileged client makes requests on the authority of  # arbitrary users without providing creds for them.  in: 'user:<a href="mailto:&#x61;c&#99;&#x6f;&#117;&#x6e;t&#115;-s&#99;&#x68;&#x65;d&#x75;&#x6c;&#101;&#x64;-&#116;a&#x73;&#107;-e&#120;e&#x63;&#117;t&#x6f;&#114;&#x40;&#112;rod.&#x67;&#111;&#111;g&#108;e&#46;&#99;&#x6f;&#109;">&#x61;c&#99;&#x6f;&#117;&#x6e;t&#115;-s&#99;&#x68;&#x65;d&#x75;&#x6c;&#101;&#x64;-&#116;a&#x73;&#107;-e&#120;e&#x63;&#117;t&#x6f;&#114;&#x40;&#112;rod.&#x67;&#111;&#111;g&#108;e&#46;&#99;&#x6f;&#109;</a>'  }  }  }  # Application uses Authorization::Check() to check for privileged  # system-level access under the system_authorization_policy below.  authorization_mode: MANUAL_IAM  }  # Calls to any methods not listed above are rejected.</p><p>system_authorization_policy {  # System-level privileges granted only to humans and BCID Level 3 jobs.  rules {  permissions: '*'  action: DENY  conditions {  iam: ATTRIBUTION  op: NOT_IN  values: 'mdb:all-person-users'  values: 'mdb:bcid-level-3'  }  }  # Generate audit logs for access by humans.  rules {  permissions: '*'  action: LOG  conditions {  iam: ATTRIBUTION  op: IN  values: 'mdb:all-person-users'  }  log_config { data_access {} }  }  # System-level (privileged) access.  rules {  permissions: 'accounts.read'  permissions: 'accounts.write'  action: ALLOW  in: 'mdb:accounts-sre'  in: 'user:<a href="mailto:&#97;&#x63;&#x63;&#x6f;&#117;&#110;&#116;&#115;&#x2d;&#119;&#105;&#x70;e&#x6f;&#117;t&#x40;&#x70;&#114;&#x6f;&#x64;&#46;&#103;&#x6f;o&#103;&#108;&#x65;&#x2e;&#x63;&#x6f;&#109;">&#97;&#x63;&#x63;&#x6f;&#117;&#110;&#116;&#115;&#x2d;&#119;&#105;&#x70;e&#x6f;&#117;t&#x40;&#x70;&#114;&#x6f;&#x64;&#46;&#103;&#x6f;o&#103;&#108;&#x65;&#x2e;&#x63;&#x6f;&#109;</a>'  # Permits access using SuperDATs with scope API_ACCOUNTS.  in: 'mdb:tonic-scope-api-accounts'  }  }</p><p>Example: Legacy service with opaque (non-IAM), custom authorization checks.</p><p>mapping {  rpc_method: '/Doodads.*'  authentication_policy {  creds_policy {  # Frontend passes GaiaMints.  rules {  in: 'accounts-frontend@prod.google.com'  permission: 'auth.creds.useNormalUserEUC'  action: ALLOW  }  # All clients can authenticate as themselves via LOAS.  rules {  permissions: 'auth.creds.useLOAS'  action: ALLOW  in: 'allUsers'  }  }  }  # Application uses custom code to check authorization against user()  # in the SecurityContext. This field may contain an external Gaia  # user (e.g., in the NORMAL_USER_CREDS case) or an @prod.google.com  # Gaia user (in the LOAS-authenticated or PROD_USER_CREDS case).  authorization_mode: MANUAL_LEGACY  }  # Calls to any methods not listed above are rejected.</p></td>
 </tr>
<a name="security.context.RpcSecurityPolicy.system_authorization_policy"/>
 <tr>
  <td><code>system_authorization_policy</code></td>
  <td><a href="#google.iam.v1.Policy">Policy</a></td>
  <td><p>If set, this policy will be loaded into the local IAM instance as the default system-level authorization policy (PolicyName {type:"process" id:"rpc_security_policy" region:"local"}).</p><p>This policy will be consulted when checking 'permission_to_check' in AUTOMATIC_IAM authorization mode, and can also be used for custom authorization checks from application code (e.g., using Authorization::CheckMappedPermission()).</p><p>NOTE(dkindred): Applications loading CredsPolicy via the lower-level  APIs rather than via the Stubby support will specify the authorization  policy name to use, taking responsibility for ensuring that if multiple  policies are loaded, they don't overwrite each other's policies.</p></td>
 </tr>
<a name="security.context.RpcSecurityPolicy.creds_policy_config"/>
 <tr>
  <td><code>creds_policy_config</code></td>
  <td><a href="#security.context.CredsPolicyConfigProto">CredsPolicyConfigProto</a></td>
  <td><p>Legacy CredsPolicy (<a href="http://go/credspolicy)">http://go/credspolicy)</a>. Cannot be combined with 'mapping' or 'system_authorization_policy'.</p><p>There is no support for for creds_policy_config in Go, and any policies containing one are considered invalid and may interrupt service startup.</p></td>
 </tr>
<a name="security.context.RpcSecurityPolicy.trust_esf_authentication"/>
 <tr>
  <td><code>trust_esf_authentication</code></td>
  <td>bool</td>
  <td>If true, trust the authentication information supplied by ESF (go/esf), bypassing local authentication based on authentication_policy. This should be set for all services behind ESF. It only applies to requests that ESF has authenticated and forwarded authentication results to the backend. Other requests, for example direct Stubby calls, will still be subject to the authentication_policy check.</td>
 </tr>
</table>

<a name="security.context.RpcSecurityPolicyMapping"/>
### RpcSecurityPolicyMapping
Mapping from RPC method names to policies applying to those methods.
REQUIRED: At least one rpc_method or action must be supplied.

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="security.context.RpcSecurityPolicyMapping.rpc_method"/>
 <tr>
  <td><code>rpc_method[]</code></td>
  <td>repeated string</td>
  <td><p>Full stubby method names for which these policies should be enforced. Should follow the convention laid out in RpcServerContext.getFullMethodName(), e.g., "/MyService.MyMethod" A given method must not appear more than once anywhere under the enclosing RpcSecurityPolicy.</p><p>You may specify "/MyService.*" to match all methods in a service that haven't been explicitly listed anywhere under the enclosing RpcSecurityPolicy, with the more specific match always taking precedence.</p><p>Wildcards for the service component, e.g. "/*.*", are NOT allowed. Each service must be listed explicitly.</p><p>The RPC policy is default-DENY: if an RPC method does not match any mapping, all requests for that method are rejected.</p></td>
 </tr>
<a name="security.context.RpcSecurityPolicyMapping.action"/>
 <tr>
  <td><code>action[]</code></td>
  <td>repeated string</td>
  <td><p>Similar to rpc_method, but allows for a free-form action name.</p><p>The action name must match [*.a-zA-Z0-9_-]+ This is used in Apps Framework where there is a different abstraction around method handling and we want to represent that directly in policy. It's also used in ESF where the method name is not in the format of an RPC method.</p><p>Wildcards are supported in this field, either alone or at the end of the action following a period (i.e., "*" and "foo.bar.*" are okay, but not "foo.b*" or "foo.*.bar"). The most specialized rule wins; i.e., for "foo.bar.baz", action "foo.bar.*" will be matched rather than "foo.*".</p></td>
 </tr>
<a name="security.context.RpcSecurityPolicyMapping.authentication_policy"/>
 <tr>
  <td><code>authentication_policy</code></td>
  <td><a href="#security.context.AuthenticationPolicy">AuthenticationPolicy</a></td>
  <td>Can be omitted if RpcSecurityPolicy.trust_esf_authentication is true. REQUIRED otherwise</td>
 </tr>
<a name="security.context.RpcSecurityPolicyMapping.authorization_mode"/>
 <tr>
  <td><code>authorization_mode</code></td>
  <td><a href="#security.context.AuthorizationMode">AuthorizationMode</a></td>
  <td>REQUIRED.</td>
 </tr>
<a name="security.context.RpcSecurityPolicyMapping.permission_to_check"/>
 <tr>
  <td><code>permission_to_check</code></td>
  <td>string</td>
  <td><p>An IAM permission that should be checked in the system authorization policy (see the 'system_authorization_policy' field in RpcSecurityPolicy) before processing the request.</p><p>In AUTOMATIC_IAM mode, the authenticated user must have this permission, or the request is automatically rejected.</p><p>In MANUAL_IAM mode, the application should check this permission (e.g., using Authorization::CheckMappedPermission() in google3/security/authorization/iam/authorize.h).</p><p>For applications that do not have fine-grained (e.g., object-level) authorization checks, checking this permission may constitute the entire authorization check: if the permission check fails, the request should fail as well. An example of this might be an Admin API on a service, which is intrinsically privileged and only allows (say) SRE access.</p><p>Applications which do have fine-grained checks should check this permission first to see if the caller has broad privilege and thus can bypass the fine-grained check. However, if this coarse check fails, the request should not automatically fail but instead fall back to the fine-grained check. An example of this might be an API that serves individual end-user-owned objects; the permission here would cover just administrative access by Googlers and batch jobs, but requests from end users would fall through to the application's fine-grained check.</p></td>
 </tr>
<a name="security.context.RpcSecurityPolicyMapping.authorization_method"/>
 <tr>
  <td><code>authorization_method[]</code></td>
  <td>repeated <a href="#security.context.AuthorizationMethod">AuthorizationMethod</a></td>
  <td><p>Any authorization checks that could be used to authorize the request. Generally, the service should reject a request unless at least one of these checks receives an 'allow' response. This field should include both coarse- and fine-grained authorization checks that might be made. For example, if a service might perform:  - a local IAM check against a system authorization policy, OR  - if the IAM check fails, some application-specific fine-grained check, then the policy would include both LocalIam and Custom methods. This would be expressed as:</p><p>mapping {  rpc_method: '/Foo.Bar'  authentication_policy { ... }  authorization_mode: MANUAL  authorization_method { local_iam {} }  authorization_method { custom {} }  }</p><p>(In AUTOMATIC_IAM mode, only local_iam authorization_method should be listed.)</p><p>This field does not enforce that these checks are made, but enables monitoring of whether the service is performing these checks correctly. Receiving an 'allow' response from at least one of the listed fine-grained authorization checks generally fulfills a service's authorization obligation.</p><p>EXPERIMENTAL. The monitoring mechanism is still under development. If you would like to use this field to track your authorization, contact <a href="mailto:&#x63;&#114;e&#x64;&#x65;&#x6e;&#116;ia&#x6c;s&#45;&#101;ng&#64;&#x67;&#x6f;&#x6f;&#x67;&#108;&#101;&#x2e;&#x63;&#x6f;&#x6d;">&#x63;&#114;e&#x64;&#x65;&#x6e;&#116;ia&#x6c;s&#45;&#101;ng&#64;&#x67;&#x6f;&#x6f;&#x67;&#108;&#101;&#x2e;&#x63;&#x6f;&#x6d;</a>.</p></td>
 </tr>
</table>

<a name="security.context.ValidationOptions"/>
### ValidationOptions
Knobs to configure credential validation.
next id: 10

<table>
 <tr>
  <th>Field</th>
  <th>Type</th>
  <th>Description</th>
 </tr>
<a name="security.context.ValidationOptions.acceptable_scope"/>
 <tr>
  <td><code>acceptable_scope[]</code></td>
  <td>repeated int32</td>
  <td>API scope codes (go/apiscopes) associated with this method, at least one of which is required to be present in incoming credentials. AT LEAST ONE REQUIRED unless enable_scope_check is false.</td>
 </tr>
<a name="security.context.ValidationOptions.whitelist"/>
 <tr>
  <td><code>whitelist[]</code></td>
  <td>repeated <a href="#security.context.CredsWhitelistProto">CredsWhitelistProto</a></td>
  <td>Whitelist terms specifying LOAS roles allowed to bypass credential checks. Callers receive an authority that is the union of all whitelist entries they match. Use of this is monitored by data-stewardship-team@.</td>
 </tr>
<a name="security.context.ValidationOptions.allow_anonymous"/>
 <tr>
  <td><code>allow_anonymous</code></td>
  <td>bool</td>
  <td>When set to true, requests with no credentials from non-whitelisted clients are allowed to proceed with "anonymous authority". When false, such requests are rejected.</td>
 </tr>
<a name="security.context.ValidationOptions.enable_scope_check"/>
 <tr>
  <td><code>enable_scope_check</code></td>
  <td>bool</td>
  <td>Enable checking for acceptable scopes during credential validation. Can only be disabled for special cases approved by credentials-eng. If false, acceptable_scope must be omitted.</td>
 </tr>
<a name="security.context.ValidationOptions.allow_mdb_auth"/>
 <tr>
  <td><code>allow_mdb_auth</code></td>
  <td>bool</td>
  <td>If true, requests with creds that authenticate an mdb user are accepted. Can only be enabled with approval from credentials-eng.</td>
 </tr>
<a name="security.context.ValidationOptions.allow_gaia_auth"/>
 <tr>
  <td><code>allow_gaia_auth</code></td>
  <td>bool</td>
  <td>If true, requests with creds that authenticate a gaia user are accepted.</td>
 </tr>
<a name="security.context.ValidationOptions.audit_requirements"/>
 <tr>
  <td><code>audit_requirements</code></td>
  <td><a href="#security.context.AuditRequirements">AuditRequirements</a></td>
  <td>Audit requirements. If absent, the default policy is "log to Gin if and only if calls include credentials that specifically indicate auditing".</td>
 </tr>
<a name="security.context.ValidationOptions.accept_iam_request_attributes"/>
 <tr>
  <td><code>accept_iam_request_attributes</code></td>
  <td>bool</td>
  <td>If true, indicates that the service understands and will honor security.credentials.IAMRequestAttributes (go/iam). If false, any EndUserCreds containing iam_attributes will be rejected. Can only be enabled with approval from credentials-eng. EXPERIMENTAL -- API subject to change with little notice.</td>
 </tr>
<a name="security.context.ValidationOptions.provide_gaia_session"/>
 <tr>
  <td><code>provide_gaia_session</code></td>
  <td>bool</td>
  <td>If true, and if the credentials allow it (currently requires a GaiaMint), the validated SecurityContext will include a Gaia session object.</td>
 </tr>
</table>
<!-- mdlint on -->
